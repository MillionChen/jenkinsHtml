(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1304:function(e,t,n){"use strict";var a=n(4),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.authlist=t.anthinsert=t.caseModify=t.batchExport=t.selectionListexport=t.commentdownloadList=t.commentdelete=t.commentputDown=t.commentrelease=t.commentList=t.caseManageDel=t.caseManageDown=t.caseManageUp=t.caseManageView=t.caseManageList=void 0,n(61);var u=r(n(62)),c=r(n(76)),o=r(n(1305)),l=a(n(254)),i=o.default.caseManage,s=i.caseListUrl,d=i.caseUpUrl,f=i.caseDownUrl,m=i.caseDelUrl,p=i.caseExportUrl,h=i.batchExportUrl,g=i.caseModifyUrl,y=i.caseViewUrl,w=i.authorizeListUrl,E=i.authorizeInsertUrl,b=i.commentListUrl,v=i.commentDownUrl,x=i.commentUpUrl,_=i.commentDelUrl,U=i.commentDownloadUrl;t.caseManageList=function(e,t){return function(n){return(0,c.default)({url:s,data:e}).then((function(e){1e3==e.code?(n({type:l.CASE_MANAGE_LIST,data:e.data}),t&&t(e)):u.default.error(e.subMsg)}))}};t.caseManageView=function(e,t){return function(n){return(0,c.default)({url:y,data:e}).then((function(e){t&&t(e)}))}};t.caseManageUp=function(e,t){return function(n){return(0,c.default)({url:d,data:e}).then((function(e){t&&t(e)}))}};t.caseManageDown=function(e,t){return function(n){return(0,c.default)({url:f,data:e}).then((function(e){t&&t(e)}))}};t.caseManageDel=function(e,t){return function(n){return(0,c.default)({url:m,data:e}).then((function(e){t&&t(e)}))}};t.commentList=function(e,t){return function(n){return(0,c.default)({url:b,data:e}).then((function(e){t&&t(e)}))}};t.commentrelease=function(e,t){return function(n){return(0,c.default)({url:x,data:e}).then((function(e){t&&t(e)}))}};t.commentputDown=function(e,t){return function(n){return(0,c.default)({url:v,data:e}).then((function(e){t&&t(e)}))}};t.commentdelete=function(e,t){return function(n){return(0,c.default)({url:_,data:e}).then((function(e){t&&t(e)}))}};t.commentdownloadList=function(e,t){return function(n){return(0,c.default)({url:U,data:e}).then((function(e){t&&t(e)}))}};t.selectionListexport=function(e,t){return function(n){return(0,c.default)({url:p,data:e}).then((function(e){t&&t(e)}))}};t.batchExport=function(e,t){return function(n){return(0,c.default)({url:h,data:e}).then((function(e){t&&t(e)}))}};t.caseModify=function(e,t){return function(n){return(0,c.default)({url:g,data:e}).then((function(e){t&&t(e)}))}};t.anthinsert=function(e,t){return function(n){return(0,c.default)({url:E,data:e}).then((function(e){t&&t(e)}))}};t.authlist=function(e,t){return function(n){return(0,c.default)({url:w,data:e}).then((function(e){t&&t(e)}))}}},1305:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(63)),u={caseManage:{caseListUrl:"GET ".concat(r.default.webManage,"/studentCase/selectionList"),caseUpUrl:"GET ".concat(r.default.webManage,"/studentCase/release"),caseDownUrl:"GET ".concat(r.default.webManage,"/studentCase/putDown"),caseDelUrl:"GET ".concat(r.default.webManage,"/studentCase/delete"),caseExportUrl:"GET ".concat(r.default.webManage,"/studentCase/selectionList/export"),batchExportUrl:"POST ".concat(r.default.webManage,"/studentCase/batchExport"),caseModifyUrl:"POST ".concat(r.default.webManage,"/studentCase/modify/submit"),caseViewUrl:"GET ".concat(r.default.webManage,"/studentCase/view"),authorizeListUrl:"GET ".concat(r.default.webManage,"/studentCase/authorize/list"),authorizeInsertUrl:"POST ".concat(r.default.webManage,"/studentCase/authorize/insert"),commentListUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/list"),commentDownUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/putDown"),commentDelUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/delete"),commentDownloadUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/downloadList"),commentUpUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/release")}};t.default=u},1354:function(e,t,n){e.exports={case_management_body:"case_management_body__1Aq0Q",head_search:"head_search__1jUY0",head_btns:"head_btns__3npDk",case_detail_body:"case_detail_body__12Wzk",case_classify_name:"case_classify_name__29wP8",case_comment_body:"case_comment_body__CWfjb"}},1701:function(e,t,n){"use strict";var a=n(4),r=n(0);n(5),n(143),n(20),n(34),n(23),n(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(540);var u=r(n(539));n(549);var c=r(n(544));n(574);var o=r(n(565));n(140);var l=r(n(535));n(578);var i=r(n(570));n(564);var s=r(n(563));n(144);var d=r(n(230));n(61);var f=r(n(62)),m=r(n(29)),p=r(n(30)),h=r(n(59)),g=r(n(32)),y=r(n(33)),w=r(n(31)),E=r(n(2)),b=a(n(1)),v=n(52),x=n(65),_=r(n(223)),U=r(n(1354)),M=n(1304);function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var L=function(e){(0,g.default)(a,e);var t,n=(t=a,function(){var e,n=(0,w.default)(t);if(C()){var a=(0,w.default)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,y.default)(this,e)});function a(e){var t;return(0,m.default)(this,a),t=n.call(this,e),(0,E.default)((0,h.default)(t),"fnRecursion",(function(e){e&&e.forEach((function(e){e.children=e.children&&0===e.children.length?null:e.children,e.children&&t.fnRecursion(e.children)}))})),(0,E.default)((0,h.default)(t),"handlePageChange",(function(e,n){console.log(e);var a=(0,h.default)(t);t.setState({pageNo:e,pageSize:n},(function(){a.list()}))})),t.state={pageNo:1,pageSize:10,studentCaseId:t.props.location.state.id,data:[],total:0},t}return(0,p.default)(a,[{key:"componentDidMount",value:function(){this.list()}},{key:"list",value:function(){var e=this,t={studentCaseId:this.state.studentCaseId,pageNo:this.state.pageNo,pageSize:this.state.pageSize};this.props.commentList(t,(function(t){1e3==t.code&&(t.data.records&&t.data.records.length>0&&t.data.records.forEach((function(e){e.children&&e.children.length>0&&e.children.forEach((function(e){e.commenterUserName=e.commenterName}))})),e.setState({data:t.data.records,totalsur:t.page.total}))}))}},{key:"up",value:function(e,t){var n=this,a={id:t.id,type:t.replyAccountId?2:1};1==e?this.props.commentrelease(a,(function(e){1e3==e.code&&(f.default.success("上架成功"),n.list())})):2==e?this.props.commentputDown(a,(function(e){1e3==e.code&&(f.default.success("下架成功"),n.list())})):this.props.commentdelete(a,(function(e){1e3==e.code&&(f.default.success("删除成功"),n.list())}))}},{key:"down",value:function(){var e={studentCaseId:this.state.studentCaseId};this.props.commentdownloadList(e,(function(e){1e3==e.code&&f.default.success(e.data)}))}},{key:"render",value:function(){var e=this,t=(this.props.form.getFieldDecorator,this.state.data);this.fnRecursion(t);var n=[{title:"编号",dataIndex:"index",key:"index"},{title:"评论人",dataIndex:"commenterUserName",key:"commenterUserName"},{title:"姓名",dataIndex:"commenterFullName",key:"commenterFullName"},{title:"评论对象",dataIndex:"replyAccountFullName",key:"replyAccountFullName"},{title:"评论内容",dataIndex:"content",key:"content",render:function(e,t){return b.default.createElement(d.default,{placement:"top",title:e},e.slice(0,10))}},{title:"评论时间",dataIndex:"createTime",key:"createTime",render:function(e,t){return b.default.createElement("span",null,(0,_.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"点赞数",dataIndex:"admireNum",key:"admireNum"},{title:"状态",dataIndex:"state",key:"state",render:function(e,t){return b.default.createElement("span",null,1==e?"已上架":"已下架")}},{title:"操作",dataIndex:"aa",key:"aa",render:function(t,n){return b.default.createElement("div",null,1==n.state?b.default.createElement("div",null,b.default.createElement(s.default,{title:"确定要下架吗？",okText:"是",cancelText:"否",onConfirm:function(){return e.up(2,n)}},b.default.createElement("a",{style:{margin:"0 5px"}},"下架")),b.default.createElement(s.default,{title:"确定要删除吗？",okText:"是",cancelText:"否",onConfirm:function(){return e.up(3,n)}},b.default.createElement("a",{style:{margin:"0 5px"}},"删除"))):b.default.createElement("div",null,b.default.createElement(s.default,{title:"确定要上架吗？",okText:"是",cancelText:"否",onConfirm:function(){return e.up(1,n)}},b.default.createElement("a",{style:{margin:"0 5px"}},"上架")," "),b.default.createElement(s.default,{title:"确定要删除吗？",okText:"是",cancelText:"否",onConfirm:function(){return e.up(3,n)}},b.default.createElement("a",{style:{margin:"0 5px"}},"删除"))))}}];return b.default.createElement("div",{className:U.default.case_comment_body},b.default.createElement(o.default,null,b.default.createElement(i.default,{span:20,key:1},b.default.createElement("h2",null,"作品名称")),b.default.createElement(i.default,{span:4,key:2},b.default.createElement(l.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.down()}},"下载评论信息"))),b.default.createElement("div",null,b.default.createElement(c.default,{columns:n,dataSource:t,pagination:{total:this.state.totalsur,showTotal:function(){return"共计 "+e.state.totalsur+"条"},pageSize:this.state.pageSize,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.pageNo,onChange:this.handlePageChange,onShowSizeChange:this.handlePageChange,showQuickJumper:!0,size:"small"}})))}}]),a}(b.Component);var D=(0,v.connect)((function(e,t){return{}}),(function(e){return{commentputDown:function(t,n){return e((0,M.commentputDown)(t,n))},commentdelete:function(t,n){return e((0,M.commentdelete)(t,n))},commentdownloadList:function(t,n){return e((0,M.commentdownloadList)(t,n))},commentrelease:function(t,n){return e((0,M.commentrelease)(t,n))},commentList:function(t,n){return e((0,M.commentList)(t,n))}}}))((0,x.withRouter)(u.default.create()(L)));t.default=D},535:function(e,t,n){e.exports=n(11)(70)},539:function(e,t,n){e.exports=n(11)(821)},540:function(e,t,n){"use strict";n.r(t);n(26),n(577),n(584)},544:function(e,t,n){e.exports=n(11)(846)},563:function(e,t,n){e.exports=n(11)(837)},564:function(e,t,n){"use strict";n.r(t);n(26),n(581),n(140)},565:function(e,t,n){e.exports=n(11)(170)},570:function(e,t,n){e.exports=n(11)(99)},574:function(e,t,n){"use strict";n.r(t);n(26),n(584)},577:function(e,t,n){},578:function(e,t,n){"use strict";n.r(t);n(26),n(584)},581:function(e,t,n){"use strict";n.r(t);n(26),n(585)},585:function(e,t,n){}}]);