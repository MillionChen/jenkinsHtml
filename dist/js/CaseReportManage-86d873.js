(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1304:function(e,t,a){"use strict";var n=a(4),r=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.authlist=t.anthinsert=t.caseModify=t.batchExport=t.selectionListexport=t.commentdownloadList=t.commentdelete=t.commentputDown=t.commentrelease=t.commentList=t.caseManageDel=t.caseManageDown=t.caseManageUp=t.caseManageView=t.caseManageList=void 0,a(61);var o=r(a(62)),u=r(a(76)),c=r(a(1305)),l=n(a(254)),s=c.default.caseManage,i=s.caseListUrl,d=s.caseUpUrl,f=s.caseDownUrl,p=s.caseDelUrl,m=s.caseExportUrl,h=s.batchExportUrl,g=s.caseModifyUrl,v=s.caseViewUrl,w=s.authorizeListUrl,y=s.authorizeInsertUrl,E=s.commentListUrl,b=s.commentDownUrl,M=s.commentUpUrl,x=s.commentDelUrl,U=s.commentDownloadUrl;t.caseManageList=function(e,t){return function(a){return(0,u.default)({url:i,data:e}).then((function(e){1e3==e.code?(a({type:l.CASE_MANAGE_LIST,data:e.data}),t&&t(e)):o.default.error(e.subMsg)}))}};t.caseManageView=function(e,t){return function(a){return(0,u.default)({url:v,data:e}).then((function(e){t&&t(e)}))}};t.caseManageUp=function(e,t){return function(a){return(0,u.default)({url:d,data:e}).then((function(e){t&&t(e)}))}};t.caseManageDown=function(e,t){return function(a){return(0,u.default)({url:f,data:e}).then((function(e){t&&t(e)}))}};t.caseManageDel=function(e,t){return function(a){return(0,u.default)({url:p,data:e}).then((function(e){t&&t(e)}))}};t.commentList=function(e,t){return function(a){return(0,u.default)({url:E,data:e}).then((function(e){t&&t(e)}))}};t.commentrelease=function(e,t){return function(a){return(0,u.default)({url:M,data:e}).then((function(e){t&&t(e)}))}};t.commentputDown=function(e,t){return function(a){return(0,u.default)({url:b,data:e}).then((function(e){t&&t(e)}))}};t.commentdelete=function(e,t){return function(a){return(0,u.default)({url:x,data:e}).then((function(e){t&&t(e)}))}};t.commentdownloadList=function(e,t){return function(a){return(0,u.default)({url:U,data:e}).then((function(e){t&&t(e)}))}};t.selectionListexport=function(e,t){return function(a){return(0,u.default)({url:m,data:e}).then((function(e){t&&t(e)}))}};t.batchExport=function(e,t){return function(a){return(0,u.default)({url:h,data:e}).then((function(e){t&&t(e)}))}};t.caseModify=function(e,t){return function(a){return(0,u.default)({url:g,data:e}).then((function(e){t&&t(e)}))}};t.anthinsert=function(e,t){return function(a){return(0,u.default)({url:y,data:e}).then((function(e){t&&t(e)}))}};t.authlist=function(e,t){return function(a){return(0,u.default)({url:w,data:e}).then((function(e){t&&t(e)}))}}},1305:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),o={caseManage:{caseListUrl:"GET ".concat(r.default.webManage,"/studentCase/selectionList"),caseUpUrl:"GET ".concat(r.default.webManage,"/studentCase/release"),caseDownUrl:"GET ".concat(r.default.webManage,"/studentCase/putDown"),caseDelUrl:"GET ".concat(r.default.webManage,"/studentCase/delete"),caseExportUrl:"GET ".concat(r.default.webManage,"/studentCase/selectionList/export"),batchExportUrl:"POST ".concat(r.default.webManage,"/studentCase/batchExport"),caseModifyUrl:"POST ".concat(r.default.webManage,"/studentCase/modify/submit"),caseViewUrl:"GET ".concat(r.default.webManage,"/studentCase/view"),authorizeListUrl:"GET ".concat(r.default.webManage,"/studentCase/authorize/list"),authorizeInsertUrl:"POST ".concat(r.default.webManage,"/studentCase/authorize/insert"),commentListUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/list"),commentDownUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/putDown"),commentDelUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/delete"),commentDownloadUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/downloadList"),commentUpUrl:"GET ".concat(r.default.webManage,"/caseLibrary/comment/release")}};t.default=o},1464:function(e,t,a){e.exports={case_report_body:"case_report_body__2nAbP",heade_search:"heade_search__3kxMU",heade_btn:"heade_btn__1jty9",report_look_body:"report_look_body__2B_R4"}},1465:function(e,t,a){"use strict";var n=a(4),r=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.reportExport=t.reportLook=t.reportRemove=t.getList=void 0;var o=r(a(76)),u=r(a(1466)),c=n(a(272)),l=u.default.caseReport,s=l.reportListUrl,i=l.reportRemoveUrl,d=l.reportViewUrl,f=l.reportExportUrl;t.getList=function(e,t){return function(a){return(0,o.default)({url:s,data:e}).then((function(e){a({type:c.CASE_REPORT_LIST,data:e.data}),t&&t(e)}))}};t.reportRemove=function(e,t){return function(a){return(0,o.default)({url:i,data:e}).then((function(e){t&&t(e)}))}};t.reportLook=function(e,t){return function(a){return(0,o.default)({url:d,data:e}).then((function(e){t&&t(e)}))}};t.reportExport=function(e,t){return function(a){return(0,o.default)({url:f,data:e}).then((function(e){t&&t(e)}))}}},1466:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),o={caseReport:{reportListUrl:"GET ".concat(r.default.webManage,"/studentCase/informList"),reportRemoveUrl:"GET ".concat(r.default.webManage,"/studentCase/informList/remove"),reportViewUrl:"GET ".concat(r.default.webManage,"/studentCase/informList/view"),reportExportUrl:"GET ".concat(r.default.webManage,"/studentCase/informList/export")}};t.default=o},1702:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),a(43),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(549);var o=r(a(544));a(140);var u=r(a(535));a(537);var c=r(a(536));a(564);var l=r(a(563));a(61);var s=r(a(62)),i=r(a(29)),d=r(a(30)),f=r(a(59)),p=r(a(32)),m=r(a(33)),h=r(a(31)),g=r(a(2));a(540);var v=r(a(539)),w=n(a(1)),y=a(65),E=a(52),b=r(a(223)),M=r(a(1464)),x=a(1465),U=a(1304),C=r(a(226));function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _=v.default.Item,T=location.pathname.split("/")[1],R=location.pathname.split("/")[2],N=function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,h.default)(t);if(L()){var n=(0,h.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;return(0,i.default)(this,n),t=a.call(this,e),(0,g.default)((0,f.default)(t),"handleSearch",(function(){var e=(0,f.default)(t);t.props.form.validateFields((function(a,n){console.log("Received values of form: ",n),a||t.setState({studentCaseName:n.studentCaseName,accountName:n.accountName},(function(){e.list()}))}))})),(0,g.default)((0,f.default)(t),"handlePageChange",(function(e,a){var n=(0,f.default)(t);t.setState({pageNo:e,pageSize:a},(function(){n.list()}))})),t.state={studentCaseName:"",accountName:"",pageNo:1,pageSize:10,data:[],totalsur:0,selectedRowKeys:[]},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.list()}},{key:"list",value:function(){var e=this,t={studentCaseName:this.state.studentCaseName,accountName:this.state.accountName,pageNo:this.state.pageNo,pageSize:this.state.pageSize};this.props.getList(t,(function(t){var a=e.props.reportList,n=void 0===a?{}:a;1e3==t.code&&e.setState({data:n.records,totalsur:n.total})}))}},{key:"up",value:function(e,t){var a=this;if(1==e){var n={studentCaseId:t.studentCaseId};this.props.caseManageDown(n,(function(e){1e3==e.code&&(a.list(),s.default.success("下架成功"))}))}else if(2==e){var r={informRecordId:t.informRecordId};this.props.reportRemove(r,(function(e){1e3==e.code&&a.list()}))}else this.props.history.push({pathname:"/".concat(T,"/").concat(R,"/index/online/case/casereport/look/").concat(t.informRecordId),state:{id:t.informRecordId}})}},{key:"idlist",value:function(e){var t=[];return e&&e.map((function(e,a){t.push(e.studentCaseId)})),t}},{key:"export",value:function(e){var t=this;if(1==e){var a={studentCaseName:this.state.studentCaseName,accountName:this.state.accountName};this.props.reportExport(a,(function(e){1e3==e.code&&s.default.success(e.data)}))}else{var n={idList:this.idlist(this.state.selectedRows)};this.props.batchExport(n,(function(e){1e3==e.code?(s.default.success(e.data),t.setState({selectedRowKeys:[]})):s.default.error(e.subMsg)}))}}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.data,r=a.selectedRowKeys;console.log("this.state==",this.state),console.log("this.props=report=",this.props);var s=[{title:"作品标题",dataIndex:"studentCaseTitle",key:"studentCaseTitle"},{title:"用户名",dataIndex:"accountName",key:"accountName"},{title:"姓名",dataIndex:"accountFullName",key:"accountFullName"},{title:"提交时间",dataIndex:"submitTime",key:"submitTime",render:function(e,t){return w.default.createElement("span",null,(0,b.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"举报人",dataIndex:"informerFullName",key:"informerFullName"},{title:"举报时间",dataIndex:"informTime",key:"informTime",render:function(e,t){return w.default.createElement("span",null,(0,b.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"操作",dataIndex:"aa",key:"aa",render:function(t,a){return w.default.createElement("div",null,w.default.createElement(l.default,{title:"确定要下架吗？",okText:"是",cancelText:"否",onConfirm:function(){return e.up(1,a)}},w.default.createElement("a",{style:{margin:"0 5px"}},"下架")),w.default.createElement("a",{onClick:function(){return e.up(3,a)},style:{margin:"0 5px"}},"查看"),w.default.createElement(l.default,{title:"确定要移除吗？",okText:"是",cancelText:"否",onConfirm:function(){return e.up(2,a)}},w.default.createElement("a",{style:{margin:"0 5px"}},"移除")))}}],i={selectedRowKeys:r,onChange:function(t,a){console.log("selectedRowKeys: ".concat(t),"selectedRows: ",a),e.setState({selectedRows:a,selectedRowKeys:t})}};return w.default.createElement("div",{className:M.default.case_report_body},w.default.createElement(C.default,{title:"举报记录"}),w.default.createElement(v.default,{className:M.default.heade_search,onSubmit:this.handleSearch,layout:"inline"},w.default.createElement(_,{label:"关键字："},t("studentCaseName")(w.default.createElement(c.default,{placeholder:"请输入作品标题"}))),w.default.createElement(_,{label:"关键字："},t("accountName")(w.default.createElement(c.default,{placeholder:"请输入用户名/姓名"}))),w.default.createElement("span",null," ",w.default.createElement(u.default,{type:"primary",style:{marginTop:"4px"},onClick:this.handleSearch},"查询")),w.default.createElement("span",{className:M.default.heade_btn},w.default.createElement(u.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.export(2)}},"导出作品")),w.default.createElement("span",{className:M.default.heade_btn},w.default.createElement(u.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.export(1)}},"导出举报数据"))),w.default.createElement("div",{style:{marginTop:"15px"}},w.default.createElement(o.default,{rowKey:function(e){return e.number},rowSelection:i,columns:s,dataSource:n,pagination:{total:this.state.totalsur,showTotal:function(){return"共计 "+e.state.totalsur+"条"},pageSize:this.state.pageSize,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.pageNo,onChange:this.handlePageChange,onShowSizeChange:this.handlePageChange,showQuickJumper:!0,size:"small"}})))}}]),n}(w.Component);var D=(0,E.connect)((function(e,t){return{reportList:e.caseReportReducer.reportList}}),(function(e){return{getList:function(t,a){return e((0,x.getList)(t,a))},reportRemove:function(t,a){return e((0,x.reportRemove)(t,a))},reportExport:function(t,a){return e((0,x.reportExport)(t,a))},caseManageDown:function(t,a){return e((0,U.caseManageDown)(t,a))},batchExport:function(t,a){return e((0,U.batchExport)(t,a))}}}))((0,y.withRouter)(v.default.create()(N)));t.default=D},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},540:function(e,t,a){"use strict";a.r(t);a(26),a(577),a(584)},544:function(e,t,a){e.exports=a(11)(846)},563:function(e,t,a){e.exports=a(11)(837)},564:function(e,t,a){"use strict";a.r(t);a(26),a(581),a(140)},577:function(e,t,a){},581:function(e,t,a){"use strict";a.r(t);a(26),a(585)},585:function(e,t,a){},586:function(e,t,a){}}]);