(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1005:function(e,t,a){e.exports={user_head:"user_head__wRk59",serch_time:"serch_time__YBEeX",seach_type:"seach_type__1MtSU",duser:"duser__2x7xU",seachresult:"seachresult__2wbZZ",dinput:"dinput__17fWR",question:"question__2I041",survey_list_pagination:"survey_list_pagination__30Wnf",survey_list_paginations:"survey_list_paginations__i2z6D",time_border:"time_border__1-Nqh",online_list_pagination:"online_list_pagination__2qnCe",row_style:"row_style__vsJJ0","ant-input-affix-wrapper":"ant-input-affix-wrapper__RA9-1",exam_table:"exam_table__3sYYq",integral_box:"integral_box__172bC"}},2310:function(e,t,a){"use strict";var n=a(4),r=a(0);a(51),a(620),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=r(a(558));a(549);var u=r(a(544));a(537);var s=r(a(536));a(140);var l=r(a(535));a(61);var o=r(a(62)),c=r(a(29)),f=r(a(30)),d=r(a(59)),h=r(a(32)),p=r(a(33)),g=r(a(31)),m=r(a(2));a(575);var _=r(a(568));a(592);var y=r(a(566)),v=n(a(1)),N=r(a(223)),C=r(a(1005)),w=n(a(2311)),b=r(a(1322)),D=a(52),E=r(a(226));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,m.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var I=y.default.RangePicker,L=(new Date).getTime(),O=(0,N.default)(L).format("YYYY-MM")+"-01",M=(0,N.default)(L).endOf("day").subtract(0,"days").format("YYYY-MM-DD"),Y=_.default.TabPane,P=function(e){(0,h.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(x()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,p.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,m.default)((0,d.default)(t),"searchByCred",(function(){t.reGetListByCred()})),(0,m.default)((0,d.default)(t),"reGetListByCred",(function(e){var a=(0,d.default)(t),n=t.state,r=n.startDate,i=n.endDate,u=n.pageSize2,s=n.pageNo2,l=n.certificateName;"query"==e&&(s=1,t.setState({pageNo2:1}));var o={startDate:r,endDate:i,pageSize:u,pageNo:s,certificateName:l};t.props.getReportListByCred(o,(function(e){a.setState({listByCred:e.data.records,total2:e.data.total})}))})),(0,m.default)((0,d.default)(t),"handlePageChange2",(function(e,a){var n=(0,d.default)(t);t.setState({pageNo2:e},(function(){n.reGetListByCred()}))})),(0,m.default)((0,d.default)(t),"handlePageSizeChange2",(function(e,a){var n=(0,d.default)(t);t.setState({pageNo2:e,pageSize2:a},(function(){n.reGetListByCred()}))})),(0,m.default)((0,d.default)(t),"handleInputChange2",(function(e){t.setState({certificateName:e.target.value})})),(0,m.default)((0,d.default)(t),"tabChange",(function(e){t.setState({activeKey:e})})),(0,m.default)((0,d.default)(t),"exportReportListByCred",(function(){var e=t.state,a={startDate:e.startDate,endDate:e.endDate,certificateName:e.certificateName};t.props.getCertificateDownload(a,(function(e){"1000"==e.code&&o.default.success(e.data)}))})),t.state={userName:"",orgNameLike:"",startDate:O,endDate:M,list:[],totalsur:1,pageNo:1,pageSize:10,loading:!0,activeKey:1,certificateName:"",listByCred:[],total2:0,pageNo2:1,pageSize2:10},t}return(0,f.default)(n,[{key:"componentDidMount",value:function(){this.show(),this.reGetListByCred()}},{key:"show",value:function(e){var t=this,a={startDate:this.state.startDate,endDate:this.state.endDate,pageSize:this.state.pageSize,pageNo:"query"===e?1:this.state.pageNo,userName:this.state.userName,orgNameLike:this.state.orgNameLike};this.props.getUserList(a,(function(e){"1000"===e.code&&t.setState({list:e.data.records,totalsur:e.page.pageTotal,loading:!1})}))}},{key:"onChange",value:function(e,t){this.setState({startDate:t[0],endDate:t[1]})}},{key:"handlePageChange",value:function(e,t){var a=this;this.setState({pageNo:e},(function(){a.show()}))}},{key:"handlePageSizeChange",value:function(e,t){var a=this;this.setState({pageNo:e,pageSize:t},(function(){a.show()}))}},{key:"query",value:function(){this.setState({loading:!0}),this.show("query"),this.reGetListByCred("query")}},{key:"showTotal2",value:function(e){return"共计 ".concat(e," 条")}},{key:"disabledDate",value:function(e){return e&&e>(0,N.default)().endOf("day").subtract(0,"days")}},{key:"handleInputChange",value:function(e){var t=e.target.name;this.setState((0,m.default)({},t,e.target.value))}},{key:"downurl",value:function(e){var t={startDate:this.state.startDate,endDate:this.state.endDate,userName:this.state.userName,orgNameLike:this.state.orgNameLike};0===e?this.props.getCertificateStatisticsDownload(t,(function(e){"1000"===e.code&&o.default.success(e.data)})):this.props.getCertificateDetailDownload(t,(function(e){"1000"===e.code&&o.default.success(e.data)}))}},{key:"render",value:function(){var e=this;console.log("this.state==",this.state),console.log("this.props==",this.props);var t=this.state.list,a=Number(this.state.totalsur),n=[{title:"证书编码",dataIndex:"id"},{title:"证书名称",dataIndex:"title"},{title:"发证机构",dataIndex:"issuer"},{title:"获证人数",dataIndex:"grantNum"},{title:"状态",dataIndex:"status",render:function(e,t){return v.default.createElement("div",null,0==e?"下架":"上架")}}];return v.default.createElement(b.default,{inner:!0},v.default.createElement(E.default,{title:"证书统计"}),v.default.createElement("div",{id:C.default.duser},v.default.createElement("div",{className:C.default.user_head},v.default.createElement("span",{className:C.default.time_border},"时间段"),v.default.createElement(I,{className:C.default.serch_time,format:"YYYY-MM-DD",defaultValue:[(0,N.default)(O,"YYYY-MM-DD"),(0,N.default)(M,"YYYY-MM-DD")],onChange:this.onChange.bind(this),disabledDate:this.disabledDate.bind(this)}),v.default.createElement(l.default,{onClick:function(){return e.query()}},"查询")),v.default.createElement("div",{style:{height:"2px",background:"#ccc",marginTop:"10px",marginBottom:"20px"}}),v.default.createElement(_.default,{defaultActiveKey:"1",onChange:this.tabChange},v.default.createElement(Y,{tab:"按用户统计",key:"1"},v.default.createElement("div",null,v.default.createElement("span",{className:C.default.seachresult},"查询结果"),v.default.createElement(s.default,{placeholder:"请输入部门编码或名称",className:C.default.dinput,name:"orgNameLike",onChange:function(t){return e.handleInputChange(t)}}),v.default.createElement(s.default,{placeholder:"请输入用户关键字",className:C.default.dinput,name:"userName",onChange:function(t){return e.handleInputChange(t)}}),v.default.createElement(l.default,{className:C.default.serch_time,onClick:function(){return e.query(1)}},"查询"),v.default.createElement(l.default,{className:C.default.serch_time,onClick:function(){return e.downurl(0)}},"下载统计数据"),v.default.createElement(l.default,{className:C.default.serch_time,onClick:function(){return e.downurl(1)}},"下载明细数据")),v.default.createElement(u.default,{columns:[{title:"用户名",dataIndex:"userName"},{title:"姓名",dataIndex:"name"},{title:"所在部门",dataIndex:"orgName"},{title:"获取证书数",dataIndex:"totalCertificate"}],dataSource:t,pagination:!1,rowKey:function(e){return e.id}}),v.default.createElement(i.default,{showTotal:this.showTotal2,className:C.default.survey_list_pagination,total:a,showQuickJumper:!0,onChange:this.handlePageChange.bind(this),showSizeChanger:!0,pageSizeOptions:["10","20","30"],onShowSizeChange:this.handlePageSizeChange.bind(this)})),v.default.createElement(Y,{tab:"按证书统计",key:"2"},v.default.createElement("div",null,v.default.createElement("span",{className:C.default.seachresult},"查询结果"),v.default.createElement(s.default,{placeholder:"证书名称、自定义关键词",className:C.default.dinput,name:"orgNameLike",onChange:function(t){return e.handleInputChange2(t)}}),v.default.createElement(l.default,{className:C.default.serch_time,onClick:this.searchByCred},"查询"),v.default.createElement(l.default,{className:C.default.serch_time,onClick:this.exportReportListByCred},"下载统计结果")),v.default.createElement(u.default,{columns:n,dataSource:this.state.listByCred,pagination:!1,rowKey:function(e){return e.id}}),v.default.createElement(i.default,{showTotal:this.showTotal2,className:C.default.survey_list_pagination,total:this.state.total2,showQuickJumper:!0,onChange:this.handlePageChange2,showSizeChanger:!0,pageSizeOptions:["10","20","30"],onShowSizeChange:this.handlePageSizeChange2})))))}}]),n}(v.Component),T=(0,D.connect)((function(e){return k({},e)}),k({},w.default))(P);t.default=T},2311:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(78)),i=n(a(2312)).default.certificateStatistics,u=i.certificateList,s=i.reportListByCred,l=i.certificateDownload,o=i.certificateStatisticsDownload,c=i.certificateDetailDownload,f=i.reportListUserList,d={getUserList:function(e,t){return function(a){return(0,r.default)({url:f,data:e}).then((function(e){t&&t(e)}))}},getCertificateList:function(e,t){return function(a){return(0,r.default)({url:u,data:e}).then((function(e){t&&t(e)}))}},getReportListByCred:function(e,t){return function(a){return(0,r.default)({url:s,data:e}).then((function(e){t&&t(e)}))}},getCertificateDownload:function(e,t){return function(a){return(0,r.default)({url:l,data:e}).then((function(e){t&&t(e)}))}},getCertificateStatisticsDownload:function(e,t){return function(a){return(0,r.default)({url:o,data:e}).then((function(e){t&&t(e)}))}},getCertificateDetailDownload:function(e,t){return function(a){return(0,r.default)({url:c,data:e}).then((function(e){t&&t(e)}))}}};t.default=d},2312:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),i={certificateStatistics:{certificateList:"GET ".concat(r.default.webManage,"/report/certificate/list"),certificateDownload:"GET ".concat(r.default.webManage,"/report/certificate/certificateStatisticsExport"),reportListUserList:"GET ".concat(r.default.webManage,"/report/certificate/list"),reportListByCred:"GET ".concat(r.default.webManage,"/report/certificate/certificateList"),certificateStatisticsDownload:"GET ".concat(r.default.webManage,"/report/certificate/certificateListExport"),certificateDetailDownload:"GET ".concat(r.default.webManage,"/report/certificate/detailsExport")}};t.default=i},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},544:function(e,t,a){e.exports=a(11)(846)},558:function(e,t,a){e.exports=a(11)(251)},566:function(e,t,a){e.exports=a(11)(817)},568:function(e,t,a){e.exports=a(11)(333)},575:function(e,t,a){"use strict";a.r(t);a(26),a(623)},620:function(e,t,a){"use strict";var n=a(19),r=a(16),i=a(85),u=a(36),s=a(21),l=a(45),o=a(153),c=a(83),f=a(14),d=a(66),h=a(80).f,p=a(49).f,g=a(22).f,m=a(236).trim,_=r.Number,y=_.prototype,v="Number"==l(d(y)),N=function(e){var t,a,n,r,i,u,s,l,o=c(e,!1);if("string"==typeof o&&o.length>2)if(43===(t=(o=m(o)).charCodeAt(0))||45===t){if(88===(a=o.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(o.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+o}for(u=(i=o.slice(2)).length,s=0;s<u;s++)if((l=i.charCodeAt(s))<48||l>r)return NaN;return parseInt(i,n)}return+o};if(i("Number",!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var C,w=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof w&&(v?f((function(){y.valueOf.call(a)})):"Number"!=l(a))?o(new _(N(t)),a,w):N(t)},b=n?h(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;b.length>D;D++)s(_,C=b[D])&&!s(w,C)&&g(w,C,p(_,C));w.prototype=y,y.constructor=w,u(r,"Number",w)}},623:function(e,t,a){}}]);