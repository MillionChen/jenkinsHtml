(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1494:function(e,t,a){"use strict";var n=a(0),l=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(287)),o=n(a(76)),u=n(a(1987)),i=u.default.getCompanyList,d={companyList:function(e,t){return function(t){return(0,o.default)({url:i,data:e}).then((function(e){e.success&&t({type:r.COMPANY_LIST,companyLists:e.data})})).catch((function(e){console.log(e)}))}},companyGet:function(e,t){return function(a){return(0,o.default)({url:u.default.getCompanyDel,data:e}).then((function(e){e.success&&a({type:r.SELECT_COMPANY,companyGet:e.data}),t&&t(e)})).catch((function(e){console.log(e)}))}},companyStatusUpdate:function(e,t){return function(a){return(0,o.default)({url:u.default.updateStatus,data:e}).then((function(e){t&&t(e)})).catch((function(e){console.log(e)}))}},companyInsert:function(e,t){return function(a){return(0,o.default)({url:u.default.companyInsert,data:e}).then((function(e){t&&t(e)})).catch((function(e){console.log(e)}))}},companyUpdate:function(e,t){return function(a){return(0,o.default)({url:u.default.companyUpdate,data:e}).then((function(e){t&&t(e)})).catch((function(e){console.log(e)}))}}};t.default=d},1495:function(e,t,a){"use strict";var n=a(0);a(7),a(3),a(5),a(101),a(43),a(51),a(13),a(9),a(10),a(8),a(20),a(34),a(23),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var l=n(a(535));a(554);var r=n(a(550)),o=n(a(98));a(61);var u=n(a(62)),i=n(a(29)),d=n(a(30)),s=n(a(59)),c=n(a(32)),f=n(a(33)),p=n(a(31)),m=n(a(2));a(592);var h=n(a(566));a(556);var g=n(a(553));a(540);var y=n(a(539));a(537);var v=n(a(536)),b=n(a(1)),E=n(a(663)),S=n(a(223));n(a(141));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,m.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var k=v.default.TextArea,D=y.default.Item;g.default.Group,h.default.RangePicker;function x(e){return e&&e<(0,S.default)().endOf("day").subtract(1,"days")}var P=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(C()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,f.default)(this,e)});function n(){var e;return(0,i.default)(this,n),e=a.apply(this,arguments),(0,m.default)((0,s.default)(e),"getRowByKey",(function(t,a){return(a||e.state.data).filter((function(e){return e.id===t}))[0]})),(0,m.default)((0,s.default)(e),"index",0),(0,m.default)((0,s.default)(e),"cacheOriginData",{}),(0,m.default)((0,s.default)(e),"toggleEditable",(function(t,a){var n;t.preventDefault(),e.props.editeData&&(n=e.props.editeData.contactorVOs.map((function(e){return w({},e,{editable:!0})})));var l=e.getRowByKey(a,n);l&&(l.editable||(e.cacheOriginData[a]=w({},l)),l.editable=!l.editable,e.setState({data:n}))})),(0,m.default)((0,s.default)(e),"handleFieldChange",(function(t,a,n){var l=e.state.data.map((function(e){return w({},e)})),r=e.getRowByKey(n,l);r&&(r[a]=t.target.value,e.setState({data:l}))})),(0,m.default)((0,s.default)(e),"handleEdit",(function(t){e.setState({editeData:t}),e.onShowModal()})),(0,m.default)((0,s.default)(e),"handleStop",(function(t){var a={id:t.key,status:t.status},n=e.props,l=n.companyStatusUpdate,r=n.companyList;l(a),r({pageNo:"1",pageSize:"10"})})),(0,m.default)((0,s.default)(e),"handleGetValue",(function(t){e.setState({value:t.target.value})})),(0,m.default)((0,s.default)(e),"normFile",(function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList})),(0,m.default)((0,s.default)(e),"handlePreview",(function(t){e.setState({previewImage:t.url||t.thumbUrl,previewVisible:!0})})),(0,m.default)((0,s.default)(e),"handleChange",(function(t){var a=t.fileList;return e.setState({fileList:a})})),(0,m.default)((0,s.default)(e),"handleSubmit",(function(t){e.props.form.validateFields((function(t,a){if(!t){var n=(e.props.editeData?e.props.editeData.superAdmin:null).id,l=w({},a,{expiredTime:(0,S.default)((0,S.default)(a.expiredTime._d,"YYYY-MM-DD HH:mm:ss")).valueOf(),logo:e.state.logourl||e.props.editeData.logo,id:e.props.editeData.id,superAdmin:{password:a.userPassword,id:n}});e.props.companyUpdate(l,(function(){return e.props.hideModal()}))}}))})),e.state={name:[],pagesize:5,visible1:!1,modal2Visible:!1,flag:!0,status:"2",editeData:{},data:[],logourl:"",searchname:"",fileList:[],value:"1"},e}return(0,d.default)(n,[{key:"saveRow",value:function(e,t){var a=this;e.persist(),this.setState({loading:!0}),setTimeout((function(){if(a.clickedCancel)a.clickedCancel=!1;else{var n=a.getRowByKey(t)||{};if(!n.telephone||!n.name||!n.email)return u.default.error("请填写完整成员信息。"),e.target.focus(),void a.setState({loading:!1});delete n.isNew,a.toggleEditable(e,t),a.setState({loading:!1})}}),500)}},{key:"cancel1",value:function(e,t){this.clickedCancel=!0,e.preventDefault();var a=this.state.companyData.map((function(e){return w({},e)})),n=this.getRowByKey1(t,a);this.cacheOriginData[t]&&(Object.assign(n,this.cacheOriginData[t]),n.editable=!1,delete this.cacheOriginData[t]),this.setState({companyData:a}),this.clickedCancel=!1}},{key:"render",value:function(){var e=this,t={usable:!1,name:"企业logo：",layout:{labelCol:{span:6},wrapperCol:{span:14}},defaultUrl:this.props.editeData.logo?[{uid:1,status:"done",reponse:"Server Error 500",url:this.props.editeData.logo}]:[],getUrl:function(t){e.setState({logourl:t})}},a=this.props,n=a.editeData,u=a.form,i=a.hideModal,d=u.getFieldDecorator,s=(n.address,n.name),c=(n.orgCount,n.status,n.superAdmin),f=n.categoryId,p=(n.code,n.contactorVOs,n.context),m=(n.createTime,n.domain),g=n.expiredTime,O=(n.id,n.key,n.logo,n.memberCloseCount,n.memberCount,{labelCol:{span:6},wrapperCol:{span:12}});return b.default.createElement("div",null,b.default.createElement(y.default,{layout:"horizontal"},b.default.createElement(D,(0,o.default)({},O,{label:"企业名称"}),d("name",{rules:[{required:!0,message:"请输入企业类型名称"},{max:60,message:"站点名称最长不可超过60个字"}],initialValue:s})(b.default.createElement(v.default,{placeholder:"请输入企业名称"}))),b.default.createElement(D,(0,o.default)({label:"企业类型"},O),d("categoryId",{initialValue:f+"",rules:[{required:!0,message:"请选择企业类型"}]})(b.default.createElement(r.default,{showSearch:!0,style:{width:"50%"},placeholder:"请选择企业类型",onChange:this.handleGetState,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},b.default.createElement(Option,{value:"1"},"保险"),b.default.createElement(Option,{value:"2"},"银行"),b.default.createElement(Option,{value:"3"},"证券"),b.default.createElement(Option,{value:"4"},"其他")))),b.default.createElement(D,(0,o.default)({},O,{label:"管理地址:"}),b.default.createElement("span",null,"https://mg.kmelearning.com/",m,"/login")),b.default.createElement(D,(0,o.default)({},O,{label:"移动端地址:"}),b.default.createElement("span",null,"https://wechat.kmelearning.com/",m,"/login")),b.default.createElement(D,(0,o.default)({},O,{label:"pc端地址:"}),b.default.createElement("span",null,"https://pc.kmelearning.com/",m,"/login")),b.default.createElement(D,null,b.default.createElement(E.default,(0,o.default)({},t,{ref:function(t){return e.validate=t}})),b.default.createElement("span",{style:{marginLeft:"25%"}},"(图片最佳尺寸：128*40，比例为5：3，支持jpg、png、jpeg，大小2M以内)")),b.default.createElement(D,(0,o.default)({},O,{label:"企业简介"}),d("context",{initialValue:p})(b.default.createElement(k,{placeholder:"请输入企业简介",rows:4}))),b.default.createElement(D,(0,o.default)({},O,{label:"服务到期时间"}),d("expiredTime",{rules:[{required:!0,message:"请输入服务到期时间"}],initialValue:(0,S.default)(g)})(b.default.createElement(h.default,{onChange:function(e,t){console.log(e,t)},disabledDate:x}))),b.default.createElement(D,(0,o.default)({},O,{label:"设置管理员账号"}),d("userName",{initialValue:c.name})(b.default.createElement(v.default,{placeholder:"设置管理员账号",disabled:!0}))),b.default.createElement(D,(0,o.default)({},O,{label:"重置管理员密码"}),d("userPassword",{})(b.default.createElement(v.default,{placeholder:"设置管理员密码",type:"password"})))),b.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"30px"}},b.default.createElement(l.default,{onClick:i},"取消"),b.default.createElement(l.default,{style:{marginLeft:15},type:"primary",onClick:function(){return e.handleSubmit()}},"保存")))}}]),n}(b.default.Component),_=y.default.create()(P);t.default=_},1496:function(e,t,a){e.exports={companyManage_body:"companyManage_body__3fScN",list_btn:"list_btn__x5_Bz"}},1554:function(e,t,a){e.exports={bread:"bread__248fH",collapsed:"collapsed__1Nwwq",button:"button__1Uvmw",modal:"modal__2vYG3"}},1555:function(e,t,a){"use strict";var n=a(0);a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(29)),r=n(a(30)),o=n(a(59)),u=n(a(32)),i=n(a(33)),d=n(a(31)),s=n(a(2));a(537);var c=n(a(536));a(540);var f=n(a(539));a(554);var p=n(a(550)),m=n(a(1)),h=(a(57),n(a(1554))),g=a(52);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}p.default.Option,f.default.Item,c.default.Search;var b=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(v()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,i.default)(this,e)});function n(e){var t;return(0,l.default)(this,n),t=a.call(this,e),(0,s.default)((0,o.default)(t),"show",(function(e){var a=t.state.visible;t.setState({visible:!a})})),(0,s.default)((0,o.default)(t),"hide",(function(e){(0,t.props.handleSearch)(),t.setState({visible:!1})})),t.state={visible:!1},t}return(0,r.default)(n,[{key:"render",value:function(){var e=this.props,t=e.collapsed,a=(e.onOpen,e.handleGetValue,e.handleSearch,e.insertModal,e.toggleUp,e.title);return m.default.createElement("div",null,m.default.createElement("div",{className:t?h.default.collapsed:h.default.bread},m.default.createElement("a",{style:{fontSize:"20px",fontWeight:500,color:"rgba(51,51,51,1)",lineHeight:"60px",marginLeft:"32px",backgroundColor:"#FFF"}},a)))}}]),n}(m.default.Component);var E=(0,g.connect)((function(e,t){return{collapsed:e.login.collapsedFlag}}),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,s.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(function(e){return{}})))(b);t.default=E},1986:function(e,t,a){"use strict";var n=a(4),l=a(0);a(7),a(3),a(5),a(101),a(43),a(51),a(13),a(9),a(10),a(8),a(20),a(34),a(156),a(35),a(23),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var r=l(a(535)),o=l(a(98));a(224);var u=l(a(225));a(549);var i=l(a(544));a(564);var d=l(a(563));a(590);var s=l(a(591));a(61);var c=l(a(62)),f=l(a(29)),p=l(a(30)),m=l(a(59)),h=l(a(32)),g=l(a(33)),y=l(a(31)),v=l(a(2));a(556);var b=l(a(553));a(592);var E=l(a(566));a(537);var S=l(a(536));a(540);var O=l(a(539));a(554);var w=l(a(550)),C=n(a(1)),k=a(52),D=l(a(663)),x=l(a(223)),P=n(a(1494)),_=l(a(1988)),j=l(a(1495)),M=l(a(1496)),L=a(57);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,v.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var I=w.default.Option,Y=O.default.Item,N=S.default.TextArea,z=E.default.RangePicker;b.default.Group;function V(e){return e&&e<(0,x.default)().endOf("day").subtract(1,"days")}function F(e,t){console.log("From: ",e[0],", to: ",e[1]),console.log("From: ",t[0],", to: ",t[1])}var G=function(e){(0,h.default)(n,e);var t,a=(t=n,function(){var e,a=(0,y.default)(t);if(T()){var n=(0,y.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,g.default)(this,e)});function n(e){var t;return(0,f.default)(this,n),t=a.call(this,e),(0,v.default)((0,m.default)(t),"onShowModal",(function(e){t.setState({visible1:!0,type:"edit",title:"公司修改",footer:"打*号必须填",clear:"false",key:"1023"})})),(0,v.default)((0,m.default)(t),"setModal2Visible",(function(e){t.setState({modal2Visible:e})})),(0,v.default)((0,m.default)(t),"index",0),(0,v.default)((0,m.default)(t),"cacheOriginData",{}),(0,v.default)((0,m.default)(t),"toggleEditable",(function(e,a){e.preventDefault();var n=t.state.data.map((function(e){return U({},e)}));console.log(n),t._newData=n,console.log(t._newData);var l=t.getRowByKey(a,n);l&&(l.editable||(t.cacheOriginData[a]=U({},l)),l.editable=!l.editable,t.setState({data:n}))})),(0,v.default)((0,m.default)(t),"handleFieldChange",(function(e,a,n){var l=t.state.data.map((function(e){return U({},e)})),r=t.getRowByKey(n,l);r&&(r[a]=e.target.value,t.setState({data:l}))})),(0,v.default)((0,m.default)(t),"newMember",(function(){var e=[];e.push({telephone:"",name:"",email:"",editable:!0,isNew:!0}),t.index+=1,t.setState({data:e,flag:!0})})),(0,v.default)((0,m.default)(t),"handleEdit",(function(e){t.props.history.push("/"+(0,L.get)("companyCode")+"/"+(0,L.get)("siteCode")+"/index/operating/editCompany?id="+e.key)})),(0,v.default)((0,m.default)(t),"handleStop",(function(e){var a=e.id,n={id:void 0===a?key:a,status:3==e.status?2:3},l=t.props,r=l.companyStatusUpdate;l.companyList;r(n),t.handleSearch()})),(0,v.default)((0,m.default)(t),"handleGetValue",(function(e){t.setState({value:e.target.value})})),(0,v.default)((0,m.default)(t),"handleSearch",(function(){var e=t.state.value;t.setState({name:e},(function(){var e=t.props.companyList,a=t.state,n=a.name,l=a._status,r={pageNo:1,pageSize:10},o="";(o=U("1"===l?{name:n}:{name:n,status:l},r)).status||delete o.status,e(o)}))})),(0,v.default)((0,m.default)(t),"hideModal",(function(e){t.setState({visible1:!1},(function(){t.handleSearch()}))})),(0,v.default)((0,m.default)(t),"handleGetState",(function(e){t.setState({_status:e})})),(0,v.default)((0,m.default)(t),"handleSubmit",(function(e){t.props.form.validateFields((function(e,a){if(!e){t.validate;var n=a.name,l=a.categoryId,r=a.code,o=a.domain,u=a.context,i=a.expiredTime,d=a.contactorVOsuserName,s=a.contactorVOsuserPassword;if(/\w+[/]\w+$/.test(a.code))if(new RegExp("[\\u4E00-\\u9FFF]+","g").test(a.code))c.default.error("请正确书写格式:不能使用中文");else{var f=(0,x.default)((0,x.default)(i[1]._d,"YYYY-MM-DD HH:mm:ss")).valueOf(),p={name:n,categoryId:l,code:r,domain:o,logo:t.state.logourl,context:u,expiredTime:f,contactorVOs:t.state.data,superAdmin:{name:d,password:s}};(0,m.default)(t).validate.validateFields((function(e,t){})),console.log("检测打印变量=addCompanyaJson ",p),t.props.companyInsert(p,(function(e){1e3==+e.code&&(t.setModal2Visible(!1),t.handleSearch())}))}else c.default.error("请正确书写格式:企业的code/站点的code")}}))})),t.state={name:"",value:"",pagesize:5,visible1:!1,modal2Visible:!1,flag:!1,status:"",editeData:{},data:[],logourl:"",pages:{},_status:"",current:"1",pageSize:"10"},t.columns=[{title:"企业名称",dataIndex:"name",key:"name",render:function(e){return C.default.createElement("span",{title:e},e.length>10?"".concat(e.substring(9,0),"..."):e)}},{title:"企业logo",dataIndex:"logo",key:"logo",render:function(e){return C.default.createElement("img",{src:e,style:{width:45,height:45},alt:""})}},{title:"企业简介",dataIndex:"context",key:"context",render:function(e){return C.default.createElement("span",{title:e},e.length>10?"".concat(e.substring(9,0),"..."):e)}},{title:"状态",dataIndex:"status",key:"status",render:function(e){return 2==e?C.default.createElement("span",null,"启用"):C.default.createElement("span",null,"禁用")}},{title:"创建时间",dataIndex:"createTime",key:"createTime",render:function(e){return C.default.createElement("span",null,(0,x.default)(e).format("YYYY-MM-DD HH:mm"))}},{title:"到期时间",dataIndex:"expiredTime",key:"expiredTime",render:function(e){return C.default.createElement("span",null,(0,x.default)(e).format("YYYY-MM-DD HH:mm"))}},{title:"操作",key:"options",render:function(e,a,n){return C.default.createElement("span",{key:n},C.default.createElement("a",{"data-index":n,onClick:function(){return t.handleEdit(a)}},"修改"),C.default.createElement(s.default,{type:"vertical"}),2==a.status?C.default.createElement(d.default,{title:"确定停用企业？",onConfirm:function(){return t.handleStop(a)}},C.default.createElement("a",null,"停用")):C.default.createElement(d.default,{title:"确定启用？",onConfirm:function(){return t.handleStop(a)}},C.default.createElement("a",null,"启用")))}}],t}return(0,p.default)(n,[{key:"componentDidMount",value:function(){(0,this.props.companyList)({pageNo:"1",pageSize:"10"})}},{key:"getRowByKey",value:function(e,t){return(t||this.state.data).filter((function(t){return t.key===e}))[0]}},{key:"saveRow",value:function(e,t){var a=this;e.persist(),this.setState({loading:!0}),setTimeout((function(){if(a.clickedCancel)a.clickedCancel=!1;else{var n=a.getRowByKey(t)||{};if(!n.name)return c.default.error("请填写联系人姓名。"),e.target.focus(),void a.setState({loading:!1});if(!n.telephone&&!n.email)return c.default.error("请填写联系人电话或邮箱。"),e.target.focus(),void a.setState({loading:!1});delete n.isNew,a.toggleEditable(e,t),a.setState({loading:!1})}}),500)}},{key:"cancel1",value:function(e,t){this.clickedCancel=!0,e.preventDefault();var a=this.state.companyData.map((function(e){return U({},e)})),n=this.getRowByKey1(t,a);this.cacheOriginData[t]&&(Object.assign(n,this.cacheOriginData[t]),n.editable=!1,delete this.cacheOriginData[t]),this.setState({companyData:a}),this.clickedCancel=!1}},{key:"remove",value:function(e){var t=this.state.data.filter((function(t){return t.key!==e}));this.setState({data:t})}},{key:"open",value:function(){this.props.history.push("/"+(0,L.get)("companyCode")+"/"+(0,L.get)("siteCode")+"/index/operating/addCompany"),this.setState({flag:!1})}},{key:"render",value:function(){var e=this,t=[],a={},n=this.state.name;console.log("this.props==company",this.props);if(this.props.companyLists){var l=this.props,c=l.companyLists,f=l.companyList;c.records.map((function(e){e.status,t.push(U({key:e.id,createTime:(0,x.default)(e.createTime).format("YYYY-MM-DD HH:mm"),expiredTime:(0,x.default)(e.expiredTime).format("YYYY-MM-DD HH:mm")},e))}));var p=this;console.log(f,"2222"),a={showQuickJumper:!0,showSizeChanger:!0,defaultCurrent:1,pageSizeOptions:["10","20","50","100"],total:null!==c?c.pageRecords:null,showTotal:function(e){return"共计 ".concat(e," 条")},PageSize:null!==c?c.pageSize:null,current:null!==c?c.pageNo:null,onShowSizeChange:function(e,t){p.setState({current:e,pageSize:t}),"1"===p.state._status?f({pageNo:e,pageSize:t,name:n}):f({pageNo:e,pageSize:t,status:p.state._status,name:n})},onChange:function(e,t){p.setState({current:e,pageSize:t}),"1"===p.state._status?f({pageNo:e,pageSize:t,name:n}):f({pageNo:e,pageSize:t,status:p.state._status,name:n})},size:"small"}}var m=this.props.form.getFieldDecorator,h=this.columns,g={labelCol:{span:6},wrapperCol:{span:14}},y=[{title:"姓名",dataIndex:"name",key:"name",width:"20%",render:function(t,a){return a.editable?C.default.createElement(S.default,{value:t,autoFocus:!0,onChange:function(t){return e.handleFieldChange(t,"name",a.key)},placeholder:"姓名"}):t}},{title:"电话",dataIndex:"telephone",key:"telephone",width:"20%",render:function(t,a){return a.editable?C.default.createElement(S.default,{value:t,onChange:function(t){return e.handleFieldChange(t,"telephone",a.key)},placeholder:"电话"}):t}},{title:"邮箱",dataIndex:"email",key:"email",width:"40%",render:function(t,a){return a.editable?C.default.createElement(S.default,{value:t,onChange:function(t){return e.handleFieldChange(t,"email",a.key)},placeholder:"邮箱"}):t}},{title:"操作",key:"action",render:function(t,a){return a.editable&&e.state.loading?null:a.editable?a.isNew?C.default.createElement("span",null,C.default.createElement("a",{onClick:function(t){return e.saveRow(t,a.key)}},"添加"),C.default.createElement(s.default,{type:"vertical"}),C.default.createElement(d.default,{title:"是否要删除此行？",onConfirm:function(){return e.remove(a.key)}},C.default.createElement("a",null,"删除"))):C.default.createElement("span",null,C.default.createElement("a",{onClick:function(t){return e.saveRow(t,a.key)}},"保存"),C.default.createElement(s.default,{type:"vertical"}),C.default.createElement("a",{onClick:function(t){return e.cancel(t,a.key)}},"取消")):C.default.createElement("span",null,C.default.createElement("a",{onClick:function(t){return e.toggleEditable(t,a.key)}},"修改"),C.default.createElement(s.default,{type:"vertical"}),C.default.createElement(d.default,{title:"是否要删除此行？",onConfirm:function(){return e.remove(a.key)}},C.default.createElement("a",null,"删除")))}}],v=this.props,b=(v.visible,v.onCancel,v.onOk,v.title,{name:"企业logo",required:!1,layout:{labelCol:{span:6},wrapperCol:{span:12}},defaultUrl:[],getUrl:function(t){e.setState({logourl:t})}});return C.default.createElement("div",{className:M.default.companyManage_body},C.default.createElement(_.default,{value:this.state.value,_status:this.state._status,onOpen:this.open.bind(this),handleGetValue:this.handleGetValue.bind(this),handleGetState:this.handleGetState.bind(this),handleSearch:this.handleSearch.bind(this)}),C.default.createElement(i.default,{style:{marginLeft:20,marginRight:20,marginTop:10},columns:h,dataSource:t,pagination:a}),C.default.createElement("div",{className:"EidtModle"},C.default.createElement(u.default,{width:800,key:this.state.key,title:"修改企业",visible:this.state.visible1,onOk:this.hideModal,onCancel:this.hideModal,footer:!1,destroyOnClose:1},C.default.createElement("div",null,C.default.createElement(j.default,{editeData:this.state.editeData,hideModal:this.hideModal,companyUpdate:this.props.companyUpdate,companyList:this.props.companyList,current:this.state.current,pageSize:this.state.pageSize,handleSearch:function(){return e.handleSearch()}})))),C.default.createElement("div",{className:"newCompany"},C.default.createElement(u.default,{title:"新增企业",visible:this.state.modal2Visible,onOk:function(){return e.setModal2Visible(!1)},onCancel:function(){return e.setModal2Visible(!1)},footer:null,width:800,destroyOnClose:1},C.default.createElement(O.default,{layout:"horizontal",style:{marginTop:15}},C.default.createElement(Y,(0,o.default)({},g,{label:"企业名称"},this.state.formItemLayout),m("name",{rules:[{required:!0,message:"请输入企业类型名称"},{max:60,message:"站点名称最长不可超过60个字"}]})(C.default.createElement(S.default,{placeholder:"请输入企业名称"}))),C.default.createElement(Y,(0,o.default)({label:"请选择企业类型"},this.state.formItemLayout,g),m("categoryId",{rules:[{required:!0,message:"请选择企业类型"}]})(C.default.createElement(w.default,{showSearch:!0,style:{width:"50%"},placeholder:"请选择企业类型",onChange:this.handleGetState,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},C.default.createElement(I,{value:"1"},"保险"),C.default.createElement(I,{value:"2"},"银行"),C.default.createElement(I,{value:"3"},"证券"),C.default.createElement(I,{value:"4"},"其他")))),C.default.createElement(Y,(0,o.default)({label:"管理地址"},this.state.formItemLayout,g),m("code",{rules:[{required:!0,pattern:/[^\u4e00-\u9fa5]+$/g,message:"不能用纯中文作为管理地址"}]})(C.default.createElement(S.default,{addonBefore:"https://mg.kmelearning.com/",width:"50%",placeholder:"企业code/站点code",addonAfter:"/login"}))),C.default.createElement(Y,null,C.default.createElement(D.default,(0,o.default)({},b,{ref:function(t){return e.validate=t}})),C.default.createElement("span",{style:{marginLeft:"25%"}},"(图片最佳尺寸：128*40，比例为5：3，支持jpg、png、jpeg，大小2M以内)")),C.default.createElement(Y,(0,o.default)({},g,{label:"企业简介"}),m("context",{rules:[{required:!1,message:"Please input the title of collection!"}]})(C.default.createElement(N,{placeholder:"请输入企业简介",rows:4}))),C.default.createElement(Y,(0,o.default)({label:"服务到期时间"},g,this.state.formItemLayout),m("expiredTime",{rules:[{required:!0,message:"选择服务到期时间"}]})(C.default.createElement(z,{disabledDate:V,onChange:F}))),C.default.createElement(Y,(0,o.default)({},g,{label:"设置管理员账号"}),m("contactorVOsuserName",{rules:[{required:!0,message:"设置管理员账号"}]})(C.default.createElement(S.default,{placeholder:"设置管理员账号"}))),C.default.createElement(S.default,{type:"password",name:"contactorVOsuserPassword",style:{display:"none"}}),C.default.createElement(Y,(0,o.default)({},g,{label:"设置管理员密码"}),m("contactorVOsuserPassword",{rules:[{required:!0,message:"设置管理员密码"}]})(C.default.createElement(S.default,{placeholder:"设置管理员密码",type:"password"})))),this.state.flag?C.default.createElement(i.default,{loading:this.state.loading,columns:y,dataSource:this.state.data,rowClassName:function(e){return e.editable?M.default.editable:""}}):null,C.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},C.default.createElement(r.default,{onClick:function(){e.setModal2Visible(!1)}},"取消"),C.default.createElement(r.default,{style:{marginLeft:15},type:"primary",onClick:this.handleSubmit},"保存")))))}}]),n}(C.Component),H=O.default.create()(G),A=(0,k.connect)((function(e){return U({},e.company)}),U({},P.default))(H);t.default=A},1987:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(63)),r={getCompanyList:"POST ".concat(l.default.systemManage,"/company/list"),getCompanyDel:"GET ".concat(l.default.systemManage,"/company/companyId/get"),updateStatus:"POST ".concat(l.default.systemManage,"/company/status/update"),companyInsert:"POST ".concat(l.default.systemManage,"/company/insert"),companyUpdate:"POST ".concat(l.default.systemManage,"/company/update")};t.default=r},1988:function(e,t,a){"use strict";var n=a(0);a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(98));a(537);var r=n(a(536));a(140);var o=n(a(535));a(99);var u=n(a(100)),i=n(a(29)),d=n(a(30)),s=n(a(59)),c=n(a(32)),f=n(a(33)),p=n(a(31)),m=n(a(2));a(540);var h=n(a(539));a(554);var g=n(a(550)),y=n(a(1)),v=a(57),b=n(a(1554)),E=a(52);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=g.default.Option,C=h.default.Item,k=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(O()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,f.default)(this,e)});function n(e){var t;return(0,i.default)(this,n),t=a.call(this,e),(0,m.default)((0,s.default)(t),"show",(function(e){var a=t.state.visible;t.setState({visible:!a})})),(0,m.default)((0,s.default)(t),"hide",(function(e){(0,t.props.handleSearch)(),t.setState({visible:!1})})),t.state={visible:!1},t}return(0,d.default)(n,[{key:"render",value:function(){var e=this.props,t=e.collapsed,a=e.onOpen,n=e.handleGetValue,i=e.handleGetState,d=(e.handleSearch,e.value),s=e._status,c=this.state.visible,f=this.props.form.getFieldDecorator,p={labelCol:{span:8},wrapperCol:{span:16}};return y.default.createElement("div",null,y.default.createElement("div",{className:t?b.default.collapsed:b.default.bread},y.default.createElement("a",{style:{fontSize:"20px",fontWeight:500,color:"rgba(51,51,51,1)",lineHeight:"60px",marginLeft:"32px",backgroundColor:"#FFF"}},(0,v.get)("breadName")),y.default.createElement("a",{style:{marginLeft:"20px",color:"rgba(66, 133, 244, 1)"},onClick:this.show},"高级搜索"),y.default.createElement(u.default,{style:{marginLeft:"5px",color:"rgba(66, 133, 244, 1)"},type:"down"}),y.default.createElement(o.default,{type:"primary",onClick:function(){return a()},className:b.default.button},"新增企业")),c&&y.default.createElement("div",{className:b.default.modal},y.default.createElement(h.default,null,y.default.createElement(C,(0,l.default)({},p,{label:"企业名称："}),f("experiencePoolNo",{initialValue:d})(y.default.createElement(r.default,{placeholder:"请输入企业名称",className:b.default.input,onKeyDown:this.getExamKeyword,onChange:function(e){return n(e)}}))),y.default.createElement(C,(0,l.default)({},p,{label:"状态："}),f("status",{initialValue:s||void 0})(y.default.createElement(g.default,{placeholder:"请选择状态",onChange:function(e){return i(e)}},y.default.createElement(w,{value:"1"},"全部"),y.default.createElement(w,{value:"2"},"启用"),y.default.createElement(w,{value:"3"},"禁用"))))),y.default.createElement(o.default,{type:"primary",className:"company-primary",onClick:this.hide,style:{marginLeft:10}},"搜索")))}}]),n}(y.default.Component);var D=(0,E.connect)((function(e,t){return{collapsed:e.login.collapsedFlag}}),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,m.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(function(e){return{}})))(h.default.create()(k));t.default=D},1989:function(e,t,a){"use strict";var n=a(4),l=a(0);a(7),a(3),a(5),a(43),a(51),a(13),a(9),a(10),a(8),a(20),a(34),a(156),a(35),a(23),a(229),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(564);var r=l(a(563));a(590);var o=l(a(591));a(61);var u=l(a(62)),i=l(a(29)),d=l(a(30)),s=l(a(59)),c=l(a(32)),f=l(a(33)),p=l(a(31)),m=l(a(2));a(556);var h=l(a(553));a(592);var g=l(a(566));a(537);var y=l(a(536));a(540);var v=l(a(539));a(554);var b=l(a(550)),E=n(a(1)),S=a(52),O=(l(a(663)),l(a(223))),w=n(a(1494)),C=l(a(1555)),k=l(a(1495)),D=l(a(1496)),x=a(57),P=l(a(141));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,m.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}b.default.Option,v.default.Item,y.default.TextArea,g.default.RangePicker,h.default.Group;var L=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(M()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,f.default)(this,e)});function n(e){var t;return(0,i.default)(this,n),t=a.call(this,e),(0,m.default)((0,s.default)(t),"onShowModal",(function(e){t.setState({visible1:!0,type:"edit",title:"公司修改",footer:"打*号必须填",clear:"false",key:"1023"})})),(0,m.default)((0,s.default)(t),"setModal2Visible",(function(e){t.setState({modal2Visible:e})})),(0,m.default)((0,s.default)(t),"index",0),(0,m.default)((0,s.default)(t),"cacheOriginData",{}),(0,m.default)((0,s.default)(t),"toggleEditable",(function(e,a){e.preventDefault();var n=t.state.data.map((function(e){return j({},e)}));console.log(n),t._newData=n,console.log(t._newData);var l=t.getRowByKey(a,n);l&&(l.editable||(t.cacheOriginData[a]=j({},l)),l.editable=!l.editable,t.setState({data:n}))})),(0,m.default)((0,s.default)(t),"handleFieldChange",(function(e,a,n){var l=t.state.data.map((function(e){return j({},e)})),r=t.getRowByKey(n,l);r&&(r[a]=e.target.value,t.setState({data:l}))})),(0,m.default)((0,s.default)(t),"newMember",(function(){var e=[];e.push({telephone:"",name:"",email:"",editable:!0,isNew:!0}),t.index+=1,t.setState({data:e,flag:!0})})),(0,m.default)((0,s.default)(t),"handleEdit",(function(e){t.props.history.push("/"+(0,x.get)("companyCode")+"/"+(0,x.get)("siteCode")+"/index/operating/editCompany?id="+e.key),t.props.companyGet({companyId:e.key},(function(e){t.setState({editeData:e.data}),t.onShowModal()}))})),(0,m.default)((0,s.default)(t),"handleStop",(function(e){var a=e.id,n={id:void 0===a?key:a,status:3==e.status?2:3},l=t.props,r=l.companyStatusUpdate;l.companyList;r(n),t.handleSearch()})),(0,m.default)((0,s.default)(t),"handleGetValue",(function(e){t.setState({value:e.target.value})})),(0,m.default)((0,s.default)(t),"handleSearch",(function(){var e=t.state.value;t.setState({name:e},(function(){var e=t.props.companyList,a=t.state,n=a.name,l=a._status,r={pageNo:1,pageSize:10},o="";(o=j("1"===l?{name:n}:{name:n,status:l},r)).status||delete o.status,e(o)}))})),(0,m.default)((0,s.default)(t),"hideModal",(function(e){t.props.history.push("/"+(0,x.get)("companyCode")+"/"+(0,x.get)("siteCode")+"/index/operating/company1")})),(0,m.default)((0,s.default)(t),"handleGetState",(function(e){t.setState({_status:e})})),(0,m.default)((0,s.default)(t),"handleSubmit",(function(e){t.props.form.validateFields((function(e,a){if(!e){t.validate;var n=a.name,l=a.categoryId,r=a.code,o=a.domain,i=a.context,d=a.expiredTime,c=a.contactorVOsuserName,f=a.contactorVOsuserPassword;if(/\w+[/]\w+$/.test(a.code))if(new RegExp("[\\u4E00-\\u9FFF]+","g").test(a.code))u.default.error("请正确书写格式:不能使用中文");else{var p=(0,O.default)((0,O.default)(d[1]._d,"YYYY-MM-DD HH:mm:ss")).valueOf(),m={name:n,categoryId:l,code:r,domain:o,logo:t.state.logourl,context:i,expiredTime:p,contactorVOs:t.state.data,superAdmin:{name:c,password:f}};(0,s.default)(t).validate.validateFields((function(e,t){})),console.log("检测打印变量=addCompanyaJson ",m),t.props.companyInsert(m,(function(e){1e3==+e.code&&(t.setModal2Visible(!1),t.handleSearch())}))}else u.default.error("请正确书写格式:企业的code/站点的code")}}))})),t.state={name:"",value:"",pagesize:5,visible1:!1,modal2Visible:!1,flag:!1,status:"",editeData:null,data:[],logourl:"",pages:{},_status:"",current:"1",pageSize:"10"},t.columns=[{title:"企业名称",dataIndex:"name",key:"name",render:function(e){return E.default.createElement("span",{title:e},e.length>10?"".concat(e.substring(9,0),"..."):e)}},{title:"企业logo",dataIndex:"logo",key:"logo",render:function(e){return E.default.createElement("img",{src:e,style:{width:45,height:45},alt:""})}},{title:"企业简介",dataIndex:"context",key:"context",render:function(e){return E.default.createElement("span",{title:e},e.length>10?"".concat(e.substring(9,0),"..."):e)}},{title:"状态",dataIndex:"status",key:"status",render:function(e){return 2==e?E.default.createElement("span",null,"启用"):E.default.createElement("span",null,"禁用")}},{title:"创建时间",dataIndex:"createTime",key:"createTime",render:function(e){return E.default.createElement("span",null,(0,O.default)(e).format("YYYY-MM-DD HH:mm"))}},{title:"到期时间",dataIndex:"expiredTime",key:"expiredTime",render:function(e){return E.default.createElement("span",null,(0,O.default)(e).format("YYYY-MM-DD HH:mm"))}},{title:"操作",key:"options",render:function(e,a,n){return E.default.createElement("span",{key:n},E.default.createElement("a",{"data-index":n,onClick:function(){return t.handleEdit(a)}},"修改"),E.default.createElement(o.default,{type:"vertical"}),2==a.status?E.default.createElement(r.default,{title:"确定停用企业？",onConfirm:function(){return t.handleStop(a)}},E.default.createElement("a",null,"停用")):E.default.createElement(r.default,{title:"确定启用？",onConfirm:function(){return t.handleStop(a)}},E.default.createElement("a",null,"启用")))}}],t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.companyGet({companyId:P.default.getUrlParam(location.search,"id")},(function(t){e.setState({editeData:t.data})}))}},{key:"getRowByKey",value:function(e,t){return(t||this.state.data).filter((function(t){return t.key===e}))[0]}},{key:"saveRow",value:function(e,t){var a=this;e.persist(),this.setState({loading:!0}),setTimeout((function(){if(a.clickedCancel)a.clickedCancel=!1;else{var n=a.getRowByKey(t)||{};if(!n.name)return u.default.error("请填写联系人姓名。"),e.target.focus(),void a.setState({loading:!1});if(!n.telephone&&!n.email)return u.default.error("请填写联系人电话或邮箱。"),e.target.focus(),void a.setState({loading:!1});delete n.isNew,a.toggleEditable(e,t),a.setState({loading:!1})}}),500)}},{key:"cancel1",value:function(e,t){this.clickedCancel=!0,e.preventDefault();var a=this.state.companyData.map((function(e){return j({},e)})),n=this.getRowByKey1(t,a);this.cacheOriginData[t]&&(Object.assign(n,this.cacheOriginData[t]),n.editable=!1,delete this.cacheOriginData[t]),this.setState({companyData:a}),this.clickedCancel=!1}},{key:"remove",value:function(e){var t=this.state.data.filter((function(t){return t.key!==e}));this.setState({data:t})}},{key:"open",value:function(){this.setModal2Visible(!0),this.setState({flag:!1})}},{key:"render",value:function(){var e=this,t=[],a=this.state.name;console.log("this.props==company",this.props);if(this.props.companyLists){var n=this.props,l=n.companyLists,r=n.companyList;l.records.map((function(e){e.status,t.push(j({key:e.id,createTime:(0,O.default)(e.createTime).format("YYYY-MM-DD HH:mm"),expiredTime:(0,O.default)(e.expiredTime).format("YYYY-MM-DD HH:mm")},e))}));var o=this;console.log(r,"2222"),{showQuickJumper:!0,showSizeChanger:!0,defaultCurrent:1,pageSizeOptions:["10","20","50","100"],total:null!==l?l.pageRecords:null,showTotal:function(e){return"共计 ".concat(e," 条")},PageSize:null!==l?l.pageSize:null,current:null!==l?l.pageNo:null,onShowSizeChange:function(e,t){o.setState({current:e,pageSize:t}),"1"===o.state._status?r({pageNo:e,pageSize:t,name:a}):r({pageNo:e,pageSize:t,status:o.state._status,name:a})},onChange:function(e,t){o.setState({current:e,pageSize:t}),"1"===o.state._status?r({pageNo:e,pageSize:t,name:a}):r({pageNo:e,pageSize:t,status:o.state._status,name:a})},size:"small"}}this.props.form.getFieldDecorator,this.columns;var u=this.props;u.visible,u.onCancel,u.onOk,u.title;return E.default.createElement("div",{className:D.default.companyManage_body},E.default.createElement(C.default,{title:"修改企业",value:this.state.value,_status:this.state._status,onOpen:this.open.bind(this),handleGetValue:this.handleGetValue.bind(this),handleGetState:this.handleGetState.bind(this),handleSearch:this.handleSearch.bind(this)}),this.state.editeData&&E.default.createElement(k.default,{history:this.props.history,editeData:this.state.editeData,hideModal:this.hideModal,companyUpdate:this.props.companyUpdate,companyList:this.props.companyList,current:this.state.current,pageSize:this.state.pageSize,handleSearch:function(){return e.handleSearch()}}))}}]),n}(E.Component),R=v.default.create()(L),U=(0,S.connect)((function(e){return j({},e.company)}),j({},w.default))(R);t.default=U},1990:function(e,t,a){"use strict";var n=a(4),l=a(0);a(7),a(3),a(5),a(101),a(43),a(51),a(13),a(9),a(10),a(8),a(20),a(34),a(156),a(35),a(23),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var r=l(a(535));a(549);var o=l(a(544)),u=l(a(98));a(564);var i=l(a(563));a(590);var d=l(a(591));a(61);var s=l(a(62)),c=l(a(29)),f=l(a(30)),p=l(a(59)),m=l(a(32)),h=l(a(33)),g=l(a(31)),y=l(a(2));a(556);var v=l(a(553));a(592);var b=l(a(566));a(537);var E=l(a(536));a(540);var S=l(a(539));a(554);var O=l(a(550)),w=n(a(1)),C=a(52),k=l(a(663)),D=l(a(223)),x=n(a(1494)),P=l(a(1555)),_=(l(a(1495)),l(a(1496))),j=a(57);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){(0,y.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var U=O.default.Option,T=S.default.Item,I=E.default.TextArea,Y=b.default.RangePicker;v.default.Group;function N(e){return e&&e<(0,D.default)().endOf("day").subtract(1,"days")}function z(e,t){console.log("From: ",e[0],", to: ",e[1]),console.log("From: ",t[0],", to: ",t[1])}var V=function(e){(0,m.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(R()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,h.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,y.default)((0,p.default)(t),"onShowModal",(function(e){t.setState({visible1:!0,type:"edit",title:"公司修改",footer:"打*号必须填",clear:"false",key:"1023"})})),(0,y.default)((0,p.default)(t),"setModal2Visible",(function(e){t.props.history.push("/"+(0,j.get)("companyCode")+"/"+(0,j.get)("siteCode")+"/index/operating/company1")})),(0,y.default)((0,p.default)(t),"index",0),(0,y.default)((0,p.default)(t),"cacheOriginData",{}),(0,y.default)((0,p.default)(t),"toggleEditable",(function(e,a){e.preventDefault();var n=t.state.data.map((function(e){return L({},e)}));console.log(n),t._newData=n,console.log(t._newData);var l=t.getRowByKey(a,n);l&&(l.editable||(t.cacheOriginData[a]=L({},l)),l.editable=!l.editable,t.setState({data:n}))})),(0,y.default)((0,p.default)(t),"handleFieldChange",(function(e,a,n){var l=t.state.data.map((function(e){return L({},e)})),r=t.getRowByKey(n,l);r&&(r[a]=e.target.value,t.setState({data:l}))})),(0,y.default)((0,p.default)(t),"newMember",(function(){var e=[];e.push({telephone:"",name:"",email:"",editable:!0,isNew:!0}),t.index+=1,t.setState({data:e,flag:!0})})),(0,y.default)((0,p.default)(t),"handleEdit",(function(e){t.props.history.push("/"+(0,j.get)("companyCode")+"/"+(0,j.get)("siteCode")+"/index/operating/editCompany?id="+e.key)})),(0,y.default)((0,p.default)(t),"handleStop",(function(e){var a=e.id,n={id:void 0===a?key:a,status:3==e.status?2:3},l=t.props,r=l.companyStatusUpdate;l.companyList;r(n),t.handleSearch()})),(0,y.default)((0,p.default)(t),"handleGetValue",(function(e){t.setState({value:e.target.value})})),(0,y.default)((0,p.default)(t),"handleSearch",(function(){var e=t.state.value;t.setState({name:e},(function(){var e=t.props.companyList,a=t.state,n=a.name,l=a._status,r={pageNo:1,pageSize:10},o="";(o=L("1"===l?{name:n}:{name:n,status:l},r)).status||delete o.status,e(o)}))})),(0,y.default)((0,p.default)(t),"hideModal",(function(e){t.setState({visible1:!1},(function(){t.handleSearch()}))})),(0,y.default)((0,p.default)(t),"handleGetState",(function(e){t.setState({_status:e})})),(0,y.default)((0,p.default)(t),"handleSubmit",(function(e){t.props.form.validateFields((function(e,a){if(!e){t.validate;var n=a.name,l=a.categoryId,r=a.code,o=a.domain,u=a.context,i=a.expiredTime,d=a.contactorVOsuserName,c=a.contactorVOsuserPassword;if(/\w+[/]\w+$/.test(a.code))if(new RegExp("[\\u4E00-\\u9FFF]+","g").test(a.code))s.default.error("请正确书写格式:不能使用中文");else{var f=(0,D.default)((0,D.default)(i[1]._d,"YYYY-MM-DD HH:mm:ss")).valueOf(),m={name:n,categoryId:l,code:r,domain:o,logo:t.state.logourl,context:u,expiredTime:f,contactorVOs:t.state.data,superAdmin:{name:d,password:c}};(0,p.default)(t).validate.validateFields((function(e,t){})),console.log("检测打印变量=addCompanyaJson ",m),t.props.companyInsert(m,(function(e){1e3==+e.code&&(t.props.history.push("/"+(0,j.get)("companyCode")+"/"+(0,j.get)("siteCode")+"/index/operating/company1"),t.handleSearch())}))}else s.default.error("请正确书写格式:企业的code/站点的code")}}))})),t.state={name:"",value:"",pagesize:5,visible1:!1,modal2Visible:!1,flag:!1,status:"",editeData:{},data:[],logourl:"",pages:{},_status:"",current:"1",pageSize:"10"},t.columns=[{title:"企业名称",dataIndex:"name",key:"name",render:function(e){return w.default.createElement("span",{title:e},e.length>10?"".concat(e.substring(9,0),"..."):e)}},{title:"企业logo",dataIndex:"logo",key:"logo",render:function(e){return w.default.createElement("img",{src:e,style:{width:45,height:45},alt:""})}},{title:"企业简介",dataIndex:"context",key:"context",render:function(e){return w.default.createElement("span",{title:e},e.length>10?"".concat(e.substring(9,0),"..."):e)}},{title:"状态",dataIndex:"status",key:"status",render:function(e){return 2==e?w.default.createElement("span",null,"启用"):w.default.createElement("span",null,"禁用")}},{title:"创建时间",dataIndex:"createTime",key:"createTime",render:function(e){return w.default.createElement("span",null,(0,D.default)(e).format("YYYY-MM-DD HH:mm"))}},{title:"到期时间",dataIndex:"expiredTime",key:"expiredTime",render:function(e){return w.default.createElement("span",null,(0,D.default)(e).format("YYYY-MM-DD HH:mm"))}},{title:"操作",key:"options",render:function(e,a,n){return w.default.createElement("span",{key:n},w.default.createElement("a",{"data-index":n,onClick:function(){return t.handleEdit(a)}},"修改"),w.default.createElement(d.default,{type:"vertical"}),2==a.status?w.default.createElement(i.default,{title:"确定停用企业？",onConfirm:function(){return t.handleStop(a)}},w.default.createElement("a",null,"停用")):w.default.createElement(i.default,{title:"确定启用？",onConfirm:function(){return t.handleStop(a)}},w.default.createElement("a",null,"启用")))}}],t}return(0,f.default)(n,[{key:"componentDidMount",value:function(){(0,this.props.companyList)({pageNo:"1",pageSize:"10"})}},{key:"getRowByKey",value:function(e,t){return(t||this.state.data).filter((function(t){return t.key===e}))[0]}},{key:"saveRow",value:function(e,t){var a=this;e.persist(),this.setState({loading:!0}),setTimeout((function(){if(a.clickedCancel)a.clickedCancel=!1;else{var n=a.getRowByKey(t)||{};if(!n.name)return s.default.error("请填写联系人姓名。"),e.target.focus(),void a.setState({loading:!1});if(!n.telephone&&!n.email)return s.default.error("请填写联系人电话或邮箱。"),e.target.focus(),void a.setState({loading:!1});delete n.isNew,a.toggleEditable(e,t),a.setState({loading:!1})}}),500)}},{key:"cancel1",value:function(e,t){this.clickedCancel=!0,e.preventDefault();var a=this.state.companyData.map((function(e){return L({},e)})),n=this.getRowByKey1(t,a);this.cacheOriginData[t]&&(Object.assign(n,this.cacheOriginData[t]),n.editable=!1,delete this.cacheOriginData[t]),this.setState({companyData:a}),this.clickedCancel=!1}},{key:"remove",value:function(e){var t=this.state.data.filter((function(t){return t.key!==e}));this.setState({data:t})}},{key:"open",value:function(){this.props.history.push("/"+(0,j.get)("companyCode")+"/"+(0,j.get)("siteCode")+"/index/operating/addCompany"),this.setState({flag:!1})}},{key:"render",value:function(){var e=this,t=[],a=this.state.name;console.log("this.props==company",this.props);if(this.props.companyLists){var n=this.props,l=n.companyLists,s=n.companyList;l.records.map((function(e){e.status,t.push(L({key:e.id,createTime:(0,D.default)(e.createTime).format("YYYY-MM-DD HH:mm"),expiredTime:(0,D.default)(e.expiredTime).format("YYYY-MM-DD HH:mm")},e))}));var c=this;console.log(s,"2222"),{showQuickJumper:!0,showSizeChanger:!0,defaultCurrent:1,pageSizeOptions:["10","20","50","100"],total:null!==l?l.pageRecords:null,showTotal:function(e){return"共计 ".concat(e," 条")},PageSize:null!==l?l.pageSize:null,current:null!==l?l.pageNo:null,onShowSizeChange:function(e,t){c.setState({current:e,pageSize:t}),"1"===c.state._status?s({pageNo:e,pageSize:t,name:a}):s({pageNo:e,pageSize:t,status:c.state._status,name:a})},onChange:function(e,t){c.setState({current:e,pageSize:t}),"1"===c.state._status?s({pageNo:e,pageSize:t,name:a}):s({pageNo:e,pageSize:t,status:c.state._status,name:a})},size:"small"}}var f=this.props.form.getFieldDecorator,p=(this.columns,{labelCol:{span:6},wrapperCol:{span:12}}),m=[{title:"姓名",dataIndex:"name",key:"name",width:"20%",render:function(t,a){return a.editable?w.default.createElement(E.default,{value:t,autoFocus:!0,onChange:function(t){return e.handleFieldChange(t,"name",a.key)},placeholder:"姓名"}):t}},{title:"电话",dataIndex:"telephone",key:"telephone",width:"20%",render:function(t,a){return a.editable?w.default.createElement(E.default,{value:t,onChange:function(t){return e.handleFieldChange(t,"telephone",a.key)},placeholder:"电话"}):t}},{title:"邮箱",dataIndex:"email",key:"email",width:"40%",render:function(t,a){return a.editable?w.default.createElement(E.default,{value:t,onChange:function(t){return e.handleFieldChange(t,"email",a.key)},placeholder:"邮箱"}):t}},{title:"操作",key:"action",render:function(t,a){return a.editable&&e.state.loading?null:a.editable?a.isNew?w.default.createElement("span",null,w.default.createElement("a",{onClick:function(t){return e.saveRow(t,a.key)}},"添加"),w.default.createElement(d.default,{type:"vertical"}),w.default.createElement(i.default,{title:"是否要删除此行？",onConfirm:function(){return e.remove(a.key)}},w.default.createElement("a",null,"删除"))):w.default.createElement("span",null,w.default.createElement("a",{onClick:function(t){return e.saveRow(t,a.key)}},"保存"),w.default.createElement(d.default,{type:"vertical"}),w.default.createElement("a",{onClick:function(t){return e.cancel(t,a.key)}},"取消")):w.default.createElement("span",null,w.default.createElement("a",{onClick:function(t){return e.toggleEditable(t,a.key)}},"修改"),w.default.createElement(d.default,{type:"vertical"}),w.default.createElement(i.default,{title:"是否要删除此行？",onConfirm:function(){return e.remove(a.key)}},w.default.createElement("a",null,"删除")))}}],h=this.props,g=(h.visible,h.onCancel,h.onOk,h.title,{name:"企业logo",required:!1,layout:{labelCol:{span:6},wrapperCol:{span:14}},defaultUrl:[],getUrl:function(t){e.setState({logourl:t})}});return w.default.createElement("div",{className:_.default.companyManage_body},w.default.createElement(P.default,{title:"新增企业",value:this.state.value,_status:this.state._status,onOpen:this.open.bind(this),handleGetValue:this.handleGetValue.bind(this),handleGetState:this.handleGetState.bind(this),handleSearch:this.handleSearch.bind(this)}),w.default.createElement(S.default,{layout:"horizontal",style:{marginTop:15}},w.default.createElement(T,(0,u.default)({},p,{label:"企业名称"},this.state.formItemLayout),f("name",{rules:[{required:!0,message:"请输入企业类型名称"},{max:60,message:"站点名称最长不可超过60个字"}]})(w.default.createElement(E.default,{placeholder:"请输入企业名称"}))),w.default.createElement(T,(0,u.default)({label:"请选择企业类型"},this.state.formItemLayout,p),f("categoryId",{rules:[{required:!0,message:"请选择企业类型"}]})(w.default.createElement(O.default,{showSearch:!0,style:{width:"50%"},placeholder:"请选择企业类型",onChange:this.handleGetState,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},w.default.createElement(U,{value:"1"},"保险"),w.default.createElement(U,{value:"2"},"银行"),w.default.createElement(U,{value:"3"},"证券"),w.default.createElement(U,{value:"4"},"其他")))),w.default.createElement(T,(0,u.default)({label:"管理地址"},this.state.formItemLayout,p),f("code",{rules:[{required:!0,pattern:/[^\u4e00-\u9fa5]+$/g,message:"不能用纯中文作为管理地址"}]})(w.default.createElement(E.default,{addonBefore:"https://mg.kmelearning.com/",width:"50%",placeholder:"企业code/站点code",addonAfter:"/login"}))),w.default.createElement(T,null,w.default.createElement(k.default,(0,u.default)({},g,{ref:function(t){return e.validate=t}})),w.default.createElement("span",{style:{marginLeft:"25%"}},"(图片最佳尺寸：128*40，比例为5：3，支持jpg、png、jpeg，大小2M以内)")),w.default.createElement(T,(0,u.default)({},p,{label:"企业简介"}),f("context",{rules:[{required:!1,message:"Please input the title of collection!"}]})(w.default.createElement(I,{placeholder:"请输入企业简介",rows:4}))),w.default.createElement(T,(0,u.default)({label:"服务到期时间"},p,this.state.formItemLayout),f("expiredTime",{rules:[{required:!0,message:"选择服务到期时间"}]})(w.default.createElement(Y,{disabledDate:N,onChange:z}))),w.default.createElement(T,(0,u.default)({},p,{label:"设置管理员账号"}),f("contactorVOsuserName",{rules:[{required:!0,message:"设置管理员账号"}]})(w.default.createElement(E.default,{placeholder:"设置管理员账号"}))),w.default.createElement(E.default,{type:"password",name:"contactorVOsuserPassword",style:{display:"none"}}),w.default.createElement(T,(0,u.default)({},p,{label:"设置管理员密码"}),f("contactorVOsuserPassword",{rules:[{required:!0,message:"设置管理员密码"}]})(w.default.createElement(E.default,{placeholder:"设置管理员密码",type:"password"})))),this.state.flag?w.default.createElement(o.default,{loading:this.state.loading,columns:m,dataSource:this.state.data,rowClassName:function(e){return e.editable?_.default.editable:""}}):null,w.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},w.default.createElement(r.default,{onClick:function(){e.setModal2Visible(!1)}},"取消"),w.default.createElement(r.default,{style:{marginLeft:15},type:"primary",onClick:this.handleSubmit},"保存")))}}]),n}(w.Component),F=S.default.create()(V),G=(0,C.connect)((function(e){return L({},e.company)}),L({},x.default))(F);t.default=G},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},539:function(e,t,a){e.exports=a(11)(821)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},553:function(e,t,a){e.exports=a(11)(206)},561:function(e,t,a){"use strict";var n=a(4),l=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.gupList=function(e){return function(t){t({type:u.GET_UPLOAD_LIST,data:e})}},t.gupfetch=function(e,t){var a,n=!1,l=!1;e?(n=e.needTranscode,l=e.type,a="".concat(d,"/upload/policy?needTranscode=").concat(n,"&type=").concat(l,"&date=").concat(new Date)):a="".concat(d,"/upload/policy?date=").concat(new Date);return function(e){return(0,r.default)({url:a}).then((function(a){if("1000"===a.code){var n=JSON.parse(a.data);e({type:u.GET_UPLOAD_PARAM,data:n}),t&&t()}return a}))}},t.upvideo=function(e,t,a){return function(a){return(0,r.default)({videoUpload:s,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:u.UP_INFO,data:JSON.parse(e.data)}),t&&t())}))}},t.videoInfo=function(e,t){return function(a){return(0,r.default)({videoPlay:c,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:u.VIDEO_INFO,data:e.data}),t&&t())}))}},t.UploadUtilFile=function(e){return{type:u.GET_FILE_NAME_ADDRESS,fileAddress:e}},t.clearUpload=function(){return function(e){e({type:u.CLEARUPLOAD})}};var r=l(a(76)),o=l(a(587)),u=n(a(231)),i=o.default.common,d=i.ossUrl,s=i.videoUpload,c=i.videoPlay},563:function(e,t,a){e.exports=a(11)(837)},564:function(e,t,a){"use strict";a.r(t);a(26),a(581),a(140)},566:function(e,t,a){e.exports=a(11)(817)},571:function(e,t,a){e.exports=a(11)(912)},581:function(e,t,a){"use strict";a.r(t);a(26),a(585)},585:function(e,t,a){},587:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(63)),r={common:{ossUrl:"GET ".concat(l.default.ossUrl),videoUpload:"POST ".concat(l.default.ossUrl,"/video/upload"),videoPlay:"GET ".concat(l.default.ossUrl,"/video/play"),ossPolicy:"GET ".concat(l.default.ossUrl,"/upload/policy")}};t.default=r},590:function(e,t,a){"use strict";a.r(t);a(26),a(597)},591:function(e,t,a){e.exports=a(11)(819)},597:function(e,t,a){},663:function(e,t,a){"use strict";var n=a(4),l=a(0);a(101),a(51),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(98));a(580);var o=l(a(571));a(140);var u=l(a(535));a(99);var i=l(a(100));a(61);var d=l(a(62)),s=l(a(29)),c=l(a(30)),f=l(a(59)),p=l(a(32)),m=l(a(33)),h=l(a(31)),g=l(a(2));a(540);var y=l(a(539)),v=n(a(1)),b=a(52),E=a(561),S=l(a(671));function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=y.default.Item,C=function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,h.default)(t);if(O()){var n=(0,h.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),t=a.call(this,e),(0,g.default)((0,f.default)(t),"testCourseBeforeUpload",(function(e,a){var n=(new Date).getTime();if(e.size>3145728)return d.default.error("上传图片过大（不能大于3M）"),!1;if(-1===e.type.indexOf("image"))return d.default.info("请上传图片文件"),t.props.defaultUrl?t.props.gupList(t.props.defaultUrl):t.props.gupList([]),!1;var l=e.type.split("/")[1];if(-1===["jpg","jpeg","png"].indexOf(l))return t.setState({fileList:[]}),d.default.error("该图片文件格式不支持（支持jpg、jpeg、png）"),t.props.defaultUrl?t.props.gupList(t.props.defaultUrl):t.props.gupList([]),!1;var r=t.props.param,o=e.name.split(".").length;t.setState({uploadParams:{Filename:r.dir+"/"+n+"."+e.name.split(".")[o-1],key:r.dir+"/"+n+"."+e.name.split(".")[o-1],policy:r.policy,OSSAccessKeyId:r.accessid,success_action_status:"200",signature:r.signature},uploadAction:r.host})})),(0,g.default)((0,f.default)(t),"onRemove",(function(){t.props.resetImgList&&t.props.resetImgList(),t.props.clearUpload()})),(0,g.default)((0,f.default)(t),"onPreview",(function(e){var a=t.state.cacheUrl,n=a||e.url;window.open(n)})),t.state={uploadParams:{},uploadAction:"",cacheUrl:""},console.log(t.props.defaultUrl),t.props.defaultUrl&&t.props.gupList(t.props.defaultUrl),t.props.gupfetch(),t.beforeUpload=t.beforeUpload.bind((0,f.default)(t)),t.handleUploadChange=t.handleUploadChange.bind((0,f.default)(t)),t}return(0,c.default)(n,[{key:"beforeUpload",value:function(e,t){var a=(new Date).getTime();if(e.size>1048576)return d.default.error("上传文件过大（不能大于1M）"),!1;if(-1===e.type.indexOf("image"))return d.default.info("请上传图片文件"),this.props.defaultUrl?this.props.gupList(this.props.defaultUrl):this.props.gupList([]),!1;if("banner"==this.props.bannerType){if(e.size>=1048576)return d.default.error("上传文件过大（不能大于1M）"),this.props.defaultUrl?this.props.gupList(this.props.defaultUrl):this.props.gupList([]),!1}else{if(e.size>=512e3)return d.default.error("上传文件过大（不能大于500KB）"),!1;this.props.defaultUrl?this.props.gupList(this.props.defaultUrl):this.props.gupList([])}var n=e.type.split("/")[1];if(-1===["jpg","jpeg","png"].indexOf(n))return this.setState({fileList:[]}),d.default.error("该图片文件格式不支持（支持jpg、jpeg、png）"),this.props.defaultUrl?this.props.gupList(this.props.defaultUrl):this.props.gupList([]),!1;var l=this.props.param,r=e.name.split(".").length;this.setState({uploadParams:{Filename:l.dir+"/"+a+"."+e.name.split(".")[r-1],key:l.dir+"/"+a+"."+e.name.split(".")[r-1],policy:l.policy,OSSAccessKeyId:l.accessid,success_action_status:"200",signature:l.signature},uploadAction:l.host,cacheUrl:l.host+"/"+l.dir+"/"+a+"."+e.name.split(".")[r-1]})}},{key:"handleUploadChange",value:function(e){var t=e.file,a=e.fileList,n=this.props.param,l=this.state.uploadParams.Filename;t.name.split(".").length;if("uploading"===t.status){var r=[];r.push(a.pop()),this.props.gupList(r)}if("done"===t.status){var o=[];o.push(a.pop()),this.props.gupList(o),this.props.getUrl&&this.props.getUrl(n.host+"/"+l)}}},{key:"componentWillUnmount",value:function(){this.props=null}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.uploadParams,l=a.uploadAction,d=this.props,s=d.required,c=d.fileList,f=(d.listType,this.props.layout?this.props.layout:{labelCol:{span:6},wrapperCol:{span:14}}),p="";p=0===c.length?"newState":"editState";return v.default.createElement(y.default,null,v.default.createElement(w,(0,r.default)({},f,{extra:this.props.extra,label:this.props.name?this.props.name:"播放展示图："})," ",t("logourl",{rules:[{required:!!s,message:"请上传缩略图"}]})(v.default.createElement("div",{className:S.default.credEditLogo,"data-status":p},v.default.createElement(o.default,{headers:{"X-Requested-With":null},accept:"image",listType:"picture-card",fileList:c,action:l,data:n,beforeUpload:this.props.testCourse?this.testCourseBeforeUpload:this.beforeUpload,onChange:this.handleUploadChange,onRemove:this.onRemove,onPreview:this.onPreview},this.props.disabled?null:0===c.length?v.default.createElement("div",null,v.default.createElement(i.default,{type:"plus"}),v.default.createElement("div",{className:"ant-upload-text"},"上传图片")):v.default.createElement("div",{className:"upload-btn"},v.default.createElement(u.default,{disabled:!!e.props.usable&&e.props.usable},"更换图片")))))))}}]),n}(v.Component);var k=y.default.create()((0,b.connect)((function(e,t){return{param:e.uploadParam.param,fileList:e.uploadParam.fileList}}),(function(e){return{gupfetch:function(){return e((0,E.gupfetch)())},gupList:function(t){return e((0,E.gupList)(t))},clearUpload:function(){return e((0,E.clearUpload)())}}}))(C));t.default=k},671:function(e,t,a){e.exports={credEditLogo:"credEditLogo__1fhCq","ant-upload-list-item-info":"ant-upload-list-item-info__1Pp8a","ant-upload-select-picture-card":"ant-upload-select-picture-card__2cZDS","ant-upload-list-item-actions":"ant-upload-list-item-actions__2odMN","anticon-delete":"anticon-delete__1uwBf","anticon-eye-o":"anticon-eye-o__2631W"}}}]);