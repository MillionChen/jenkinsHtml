(window.webpackJsonp=window.webpackJsonp||[]).push([[62,10],{1321:function(e,t,a){"use strict";var n=a(0);a(7),a(3),a(5),a(620),a(9),a(10),a(8),a(20),a(86),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.updateState=function(e,t){return function(t){t({type:"UPDATE_STATE",payload:s({},e)})}},t.getCustomList=H,t.getPoolList=W,t.deletePoolList=function(e,t){var a={pageNo:1,pageSize:"10"};return function(t){return(0,o.default)({url:g,data:e}).then((function(e){"1000"===e.code?t(H(a)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.deleteLevelPool=function(e,t){var a={levelId:e.levelId},n={experiencePoolId:e.poolId};return function(e){return(0,o.default)({url:h,data:a}).then((function(t){"1000"===t.code?e(W(n)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.addLevelPool=function(e,t){return function(a){return(0,o.default)({url:E,data:e}).then((function(n){"1000"===n.code?(a(W({experiencePoolId:e.poolId})),t&&t(n)):r.default.error(n.subMsg)}))}},t.gradeFanwei=function(e,t){return function(t){return(0,o.default)({url:v,data:e}).then((function(e){"1000"===e.code?t({type:"UPDATE_STUDENT_MODAL",payload:{trainJson:e.data,selectStudentVisible:!0}}):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.gradeExport=function(e,t){return function(a){return(0,o.default)({url:y,data:e}).then((function(e){"1000"===e.code?(r.default.success(i.default.get("customProject104")||"下载成功："+e.data),t&&t(e)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.gradeInput=function(e,t){return function(a){return(0,o.default)({url:S,data:e}).then((function(e){"1000"===e.code?(a(),t&&t(e)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.viewLinkProject=function(e,t){return function(t){return(0,o.default)({url:b,data:e}).then((function(e){e.success&&t({type:"UPDATE_STATE",payload:{viewLinkList:e.data}})}))}},t.saveCustomOne=function(e,t){return function(a){return(0,o.default)({url:x,data:e}).then((function(e){"1000"===e.code&&(a({type:"SAVE_CUSTOM_ONE",data:e.data}),t&&t(e))}))}},t.viewCourseList=function(e,t){return function(t){return(0,o.default)({url:k,data:e}).then((function(e){"1000"===e.code?t({type:"VIEW_COURSE_LIST",data:e.data}):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.viewExamList=function(e,t){return function(t){return(0,o.default)({url:w,data:e}).then((function(e){"1000"===e.code?t({type:"VIEW_EXAM_LIST",data:e.data}):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.viewResearchList=function(e,t){return function(t){return(0,o.default)({url:C,data:e}).then((function(e){"1000"===e.code?t({type:"VIEW_RESEARCH_LIST",data:e.data}):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.viewVoteList=function(e,t){return function(t){return fetch("".concat(c.default.customUrl,"/manage/experiencePool/vote/list"),{type:"POST",data:e}).then((function(e){"1000"===e.code?t({type:"VIEW_VOTE_LIST",data:e.data}):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.viewHomeworkList=function(e,t){return function(t){return(0,o.default)({url:T,data:e}).then((function(e){"1000"===e.code?t({type:"VIEW_HOMEWORK_LIST",data:e.data}):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.saveCustomTwo=function(e,t){return function(a){return(0,o.default)({url:O,data:e}).then((function(e){"1000"===e.code?(a({type:"SAVE_CUSTOM_TWO",data:e.data}),t&&t(e.data)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.getSetsOne=function(e,t){return function(a){return(0,o.default)({url:I,data:e}).then((function(e){"1000"===e.code?t&&t(e):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.insertSetsOne=function(e,t){return function(a){return(0,o.default)({url:P,data:e}).then((function(e){"1000"===e.code&&t&&t(e)}))}},t.deleteSetsOne=function(e,t){return function(a){return(0,o.default)({url:_,data:e}).then((function(e){"1000"===e.code?t&&t(e):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.insertSetsOneScore=function(e,t){return function(a){return(0,o.default)({url:L,data:e}).then((function(e){"1000"===e.code?t&&t(e):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.deleteSetsOneAll=function(e,t){return function(a){return(0,o.default)({url:R,data:e}).then((function(e){"1000"===e.code?t&&t(e):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.saveCustomThree=function(e,t){return function(a){return(0,o.default)({url:M,data:e}).then((function(e){"1000"===e.code?(a({type:"SAVE_CUSTOM_THREE",data:e.data}),t&&t(e)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.editCustomOne=function(e,t){return function(a){return(0,o.default)({url:D,data:e}).then((function(e){"1000"===e.code?(a({type:"EDIT_CUSTOM_ONE",data:e.data}),t&&t(e.data)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.linkArrProps=function(e,t){return function(t){return t({type:"LINK_ARR_PROPS",data:e})}},t.codePackageList=function(e,t){return function(t){return(0,o.default)({url:j,data:e}).then((function(a){a.success&&t({type:"UPDATE_STATE",payload:{codeList:a.data.records,codePagination:{current:Number(e.pageNo)||1,pageSize:Number(e.pageSize)||20,total:a.data.total}}})}))}},t.codePackageInsert=function(e,t){return function(a){return(0,o.default)({url:A,data:e}).then((function(e){"1000"===e.code?(a({type:"INSERT_CODE_LIST",data:e.data}),t&&t(e)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.codePackageEdit=function(e,t){return function(t){return(0,o.default)({url:N,data:e}).then((function(e){"1000"===e.code?t({type:"EDIT_CODE_LIST",data:e.data}):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.codePackageDelete=function(e,t){return function(a){return(0,o.default)({url:V,data:e}).then((function(e){"1000"===e.code?(a({type:"DELETE_CODE_LIST",data:e.data}),t&&t(e)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.codePackageQRCode=function(e,t){return function(a){return(0,o.default)({url:K,data:e}).then((function(e){"1000"===e.code?t&&t(e):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.importGrade=function(e){return function(t){return(0,o.default)({url:U,data:e}).then((function(e){"1000"===e.code?(r.default.success(i.default.get("comment52")||"导入成功："+i.default.get("customProject105")||"编号"+e.data,2),t({type:"UPDATE_STATE",payload:{importModalvisible:!1}})):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.downGrade=function(e){return function(t){return(0,o.default)({url:z,data:e}).then((function(e){"1000"===e.code?(r.default.success(i.default.get("customProject104")||"下载成功"),window.location.href=e.data):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.pushExperience=function(e,t){return function(a){return(0,o.default)({url:G,data:e}).then((function(e){"1000"===e.code?(r.default.success(e.data),t&&t(e)):r.default.error(i.default.get("customProject103")||"请求失败...")}))}},t.UPDATE_STUDENT_MODAL=t.DELETE_CODE_LIST=t.EDIT_CODE_LIST=t.INSERT_CODE_LIST=t.GET_CODE_LIST=t.LINK_ARR_PROPS=t.VIEW_HOMEWORK_LIST=t.VIEW_VOTE_LIST=t.VIEW_RESEARCH_LIST=t.VIEW_EXAM_LIST=t.VIEW_COURSE_LIST=t.EDIT_CUSTOM_ONE=t.VIEW_LINK_PROJECT=t.EDIT_POOL_LEVEL=t.DELETE_LEVEL_POOL=t.DELETE_POOL_LIST=t.GET_POOL_LIST=t.SAVE_CUSTOM_THREE=t.SAVE_CUSTOM_TWO=t.SAVE_CUSTOM_ONE=t.GET_CUSTOM_LIST=t.UPDATE_STATE=void 0,a(61);var r=n(a(62)),l=n(a(2)),o=n(a(76)),u=a(233),c=(n(a(223)),a(636),a(903),n(a(1525))),i=n(a(106));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f=c.default.train,p=f.getCustomLists,m=f.getPoolLists,g=f.deletePool,h=f.deleteLevel,E=f.updateLevelPool,v=f.gradeRang,y=f.gradeDownExport,S=f.gradeImport,b=f.viewLink,x=f.saveOne,k=f.viewCourses,w=f.viewExams,C=f.viewResearch,T=f.viewHomeworks,O=f.saveTwo,I=f.getOne,P=f.insertOne,_=f.deleteOne,L=f.insertOneScore,R=f.deleteOneAll,M=f.saveThree,D=f.editOne,j=f.codePackageLists,A=f.codeFirstInsert,N=f.codeEdit,V=f.codeDelete,K=f.codeExport,U=f.importGradeUrl,z=f.downGradeUrl,G=f.pushUrl;t.UPDATE_STATE="UPDATE_STATE";t.GET_CUSTOM_LIST="GET_CUSTOM_LIST";t.SAVE_CUSTOM_ONE="SAVE_CUSTOM_ONE";t.SAVE_CUSTOM_TWO="SAVE_CUSTOM_TWO";t.SAVE_CUSTOM_THREE="SAVE_CUSTOM_THREE";t.GET_POOL_LIST="GET_POOL_LIST";t.DELETE_POOL_LIST="DELETE_POOL_LIST";t.DELETE_LEVEL_POOL="DELETE_LEVEL_POOL";t.EDIT_POOL_LEVEL="EDIT_POOL_LEVEL";t.VIEW_LINK_PROJECT="VIEW_LINK_PROJECT";t.EDIT_CUSTOM_ONE="EDIT_CUSTOM_ONE";t.VIEW_COURSE_LIST="VIEW_COURSE_LIST";t.VIEW_EXAM_LIST="VIEW_EXAM_LIST";t.VIEW_RESEARCH_LIST="VIEW_RESEARCH_LIST";t.VIEW_VOTE_LIST="VIEW_VOTE_LIST";t.VIEW_HOMEWORK_LIST="VIEW_HOMEWORK_LIST";t.LINK_ARR_PROPS="LINK_ARR_PROPS";t.GET_CODE_LIST="GET_CODE_LIST";t.INSERT_CODE_LIST="INSERT_CODE_LIST";t.EDIT_CODE_LIST="EDIT_CODE_LIST";t.DELETE_CODE_LIST="DELETE_CODE_LIST";t.UPDATE_STUDENT_MODAL="UPDATE_STUDENT_MODAL";(0,u.createAction)("GET_CUSTOM_LIST"),(0,u.createAction)("SAVE_CUSTOM_ONE"),(0,u.createAction)("SAVE_CUSTOM_TWO"),(0,u.createAction)("SAVE_CUSTOM_THREE"),(0,u.createAction)("GET_POOL_LIST"),(0,u.createAction)("DELETE_POOL_LIST"),(0,u.createAction)("DELETE_LEVEL_POOL"),(0,u.createAction)("EDIT_POOL_LEVEL"),(0,u.createAction)("VIEW_LINK_PROJECT");function H(e,t){return function(t){return(0,o.default)({url:p,data:e}).then((function(a){a.success&&t({type:"UPDATE_STATE",payload:{customList:a.data.records,customPagination:{current:Number(e.pageNo)||1,pageSize:Number(e.pageSize)||20,total:a.data.total}}})}))}}function W(e,t){return function(t){return(0,o.default)({url:m,data:e}).then((function(e){e.success&&t({type:"UPDATE_STATE",payload:{poolList:e.data}})}))}}},1525:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),l={train:{getCustomLists:"GET ".concat(r.default.webManage,"/experiencePool/view"),getPoolLists:"GET ".concat(r.default.webManage,"/experiencePool/level/list"),deletePool:"GET ".concat(r.default.webManage,"/experiencePool/delete"),deleteLevel:"GET ".concat(r.default.webManage,"/experiencePool/level/delete"),updateLevelPool:"GET ".concat(r.default.webManage,"/experiencePool/level/insert"),gradeRang:"GET ".concat(r.default.webManage,"/experiencePool/authorize"),gradeDownExport:"GET ".concat(r.default.webManage,"/experiencePool/activityExperiences/export"),gradeImport:"POST ".concat(r.default.webManage,"/experiencePool/activityExperiences/import"),viewLink:"GET ".concat(r.default.webManage,"/experiencePool/project/view"),saveOne:"POST ".concat(r.default.webManage,"/experiencePool/save"),viewCourses:"POST ".concat(r.default.webManage,"/experiencePool/course/list"),viewExams:"POST ".concat(r.default.webManage,"/experiencePool/exam/list"),viewResearch:"POST ".concat(r.default.webManage,"/experiencePool/research/list"),viewHomeworks:"POST ".concat(r.default.webManage,"/experiencePool/assignment/list"),saveTwo:"POST ".concat(r.default.webManage,"/experiencePool/save/saveActivityExperience"),getOne:"GET ".concat(r.default.webManage,"/experiencePool/save/getSets"),insertOne:"GET ".concat(r.default.webManage,"/experiencePool/save/insertSet"),deleteOne:"GET ".concat(r.default.webManage,"/experiencePool/save/deleteSet"),insertOneScore:"GET ".concat(r.default.webManage,"/experiencePool/save/insertSet/score"),deleteOneAll:"GET ".concat(r.default.webManage,"/experiencePool/save/deleteSets"),saveThree:"GET ".concat(r.default.webManage,"/experiencePool/save/saveActivityExperience/complete"),editOne:"GET ".concat(r.default.webManage,"/experiencePool/view/detail"),pushUrl:"GET ".concat(r.default.webManage,"/experiencePool/pushStudentExperience"),codePackageLists:"GET ".concat(r.default.webManage,"/codePackage/list"),codeFirstInsert:"GET ".concat(r.default.webManage,"/codePackage/insert"),codeEdit:"GET ".concat(r.default.webManage,"/codePackage/view"),codeDelete:"GET ".concat(r.default.webManage,"/codePackage/delete"),codeExport:"GET ".concat(r.default.webManage,"/codePackage/getUrl"),importGradeUrl:"POST ".concat(r.default.webManage,"/experiencePool/activityExperiences/import"),downGradeUrl:"GET ".concat(r.default.webManage,"/experiencePool/activityExperiences/import/model"),getQCode:"POST ".concat(r.default.webManage,"/sign/qrcode/get")}};t.default=l},2269:function(e,t,a){"use strict";var n=a(4),r=a(0);a(20),a(34),a(35),a(23),a(229),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(29)),o=r(a(30)),u=r(a(59)),c=r(a(32)),i=r(a(33)),d=r(a(31)),s=r(a(2));a(799);var f=r(a(800)),p=n(a(1)),m=r(a(141)),g=r(a(1322)),h=r(a(2270)),E=r(a(2275)),v=r(a(2276)),y=r(a(226)),S=a(52),b=r(a(106)),x=a(1321);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=f.default.Step,C=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(k()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,i.default)(this,e)});function n(e){var t;return(0,l.default)(this,n),t=a.call(this,e),(0,s.default)((0,u.default)(t),"upCallback",(function(e){t.setState({gradeType:"edit"}),t.props.editCustomOne({poolId:e.poolId},(function(e){t.props.linkArrProps(e.poolProjects)}))})),(0,s.default)((0,u.default)(t),"stepTwoCall",(function(e){t.setState({callData:e})})),t.state={currentStep:0,gradeType:"add",gradeId:null,callData:[],linkArr:[],poolId:null,upState:!1},t.stepCallback=t.stepCallback.bind((0,u.default)(t)),t}return(0,o.default)(n,[{key:"componentWillMount",value:function(){this.props.linkArrProps([]),this.setState({gradeType:m.default.getUrlParam(location.search,"type"),poolId:m.default.getUrlParam(location.search,"id")})}},{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.gradeType,n=t.poolId;"edit"===a&&this.props.editCustomOne({poolId:n},(function(t){e.props.linkArrProps(t.poolProjects)}))}},{key:"componentWillReceiveProps",value:function(e){}},{key:"stepCallback",value:function(e,t){this.setState({currentStep:e,poolId:t.poolId})}},{key:"render",value:function(){var e=this.state,t=e.gradeType,a=e.callData;return p.default.createElement(g.default,{inner:!0},p.default.createElement(y.default,{title:b.default.get("customProject49").d("新增经验池")}),p.default.createElement(f.default,{current:this.state.currentStep},p.default.createElement(w,{title:b.default.get("customProject24").d("设置关联")}),p.default.createElement(w,{title:b.default.get("customProject25").d("设置经验值")}),p.default.createElement(w,{title:b.default.get("customProject26").d("生成经验值")})),p.default.createElement(h.default,{show:0==this.state.currentStep,type:t,stepCallback:this.stepCallback,stepTwoCall:this.stepTwoCall,poolId:this.state.poolId,editOne:this.props.editOne}),p.default.createElement(E.default,{show:1==this.state.currentStep,type:t,stepCallback:this.stepCallback,callData:a,poolId:this.state.poolId,stepTwoCall:this.stepTwoCall,upCallback:this.upCallback}),p.default.createElement(v.default,{show:2==this.state.currentStep,type:t,stepCallback:this.stepCallback,poolId:this.state.poolId,callData:a}))}}]),n}(p.Component);var T=(0,S.connect)((function(e,t){return{editOne:e.custom.editOne,linkArr:e.custom.linkArr}}),(function(e){return{saveCustomOne:function(t,a){return e((0,x.saveCustomOne)(t,a))},editCustomOne:function(t,a){return e((0,x.editCustomOne)(t,a))},linkArrProps:function(t,a){return e((0,x.linkArrProps)(t,a))}}}))(C);t.default=T},2270:function(e,t,a){"use strict";var n=a(4),r=a(0);a(20),a(34),a(35),a(23),a(53),a(228),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var l=r(a(535)),o=r(a(98));a(537);var u=r(a(536));a(61);var c=r(a(62)),i=r(a(29)),d=r(a(30)),s=r(a(59)),f=r(a(32)),p=r(a(33)),m=r(a(31)),g=r(a(2));a(556);var h=r(a(553));a(540);var E=r(a(539)),v=n(a(1)),y=(r(a(60)),a(65)),S=(r(a(223)),r(a(624)),r(a(2271))),b=r(a(628)),x=r(a(106)),k=a(52),w=a(1321);a(2274);function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var T=location.pathname.split("/")[1],O=location.pathname.split("/")[2],I=E.default.Item,P=h.default.Group,_=function(e){(0,f.default)(n,e);var t,a=(t=n,function(){var e,a=(0,m.default)(t);if(C()){var n=(0,m.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,p.default)(this,e)});function n(e){var t;return(0,i.default)(this,n),t=a.call(this,e),(0,g.default)((0,s.default)(t),"getData",(function(e){for(var a=[],n=0;n<e.length;n++)a.push(e[n].id);t.setState({viewRangeData:e}),console.log(a)})),(0,g.default)((0,s.default)(t),"selectStudent",(function(){"2"!=t.props.form.getFieldValue("scope")?c.default.info(x.default.get("PleaseSelectDesignatedUser").d("请选择指定用户")+"!"):t.setState({scopeVisible:!0})})),t.state={shelves:!1,scopeVal:1,scopeVisible:!1,linkArr:[]},t.nextBtn=t.nextBtn.bind((0,s.default)(t)),t.RadioChange=t.RadioChange.bind((0,s.default)(t)),t.onHideModal=t.onHideModal.bind((0,s.default)(t)),t.activeCallback=t.activeCallback.bind((0,s.default)(t)),t}return(0,d.default)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"activeCallback",value:function(e){this.setState({linkArr:e})}},{key:"RadioChange",value:function(e){console.log("radio checked",e.target.value),this.setState({scopeVal:e.target.value})}},{key:"onHideModal",value:function(){this.setState({scopeVisible:!1})}},{key:"nextBtn",value:function(){var e=this,t=this.props.linkArr;this.props.form.validateFields((function(a,n){return!a&&(!t.length>0?(c.default.error(x.default.get("customProject53").d("请选择关联活动")),!1):(n.experiencePoolName=n.experiencePoolName.trim(),n.poolProjects=t,"edit"===e.props.type&&(n.id=e.props.poolId),void e.props.saveCustomOne(n,(function(t){"1000"===t.code&&(e.props.stepCallback(1,t.data),e.props.stepTwoCall(t.data.activityExperienceList))}))))}))}},{key:"render",value:function(){var e=this.state,t=(e.shelves,e.scopeVal),a=this.props.form.getFieldDecorator,n=this.props,r=n.editOne,c=n.type,i=(n.linkArr,{labelCol:{span:4},wrapperCol:{span:12}});return v.default.createElement("div",{style:{display:this.props.show?"block":"none"}},v.default.createElement(E.default,null,v.default.createElement(I,(0,o.default)({},i,{label:x.default.get("customProject15").d("经验池编码")}),a("experiencePoolNo",{initialValue:"edit"===c?r.experiencePoolNo:null,rules:[{required:!0,message:x.default.get("customProject54").d("请输入经验池编码")},{pattern:/^[a-zA-Z0-9]{0,20}$/,message:x.default.get("customProject55").d("输入数字或字母")}]})(v.default.createElement(u.default,{placeholder:x.default.get("customProject56").d("可输入数字或字母，最多支持20个字符"),maxLength:"20"}))),v.default.createElement(I,(0,o.default)({},i,{label:x.default.get("customProject16").d("经验池名称")}),a("experiencePoolName",{initialValue:"edit"===c?r.experiencePoolName:null,rules:[{required:!0,validator:function(e,t,a){(0,b.default)(e,t,a,x.default.get("customProject57").d("请输少于50字的经验池名称"),50)}}]})(v.default.createElement(u.default,{placeholder:x.default.get("customProject57").d("请输少于50字的经验池名称")}))),v.default.createElement(I,(0,o.default)({},i,{label:x.default.get("customProject22").d("关联学员")}),a("visibleRange",{initialValue:"edit"===c?r.visibleRange:t,rules:[{required:!0,message:x.default.get("customProject58").d("请选择学员范围")}]})(v.default.createElement(P,{onChange:this.RadioChange},v.default.createElement(h.default,{value:1},x.default.get("VisibleToPlatformUsers").d("平台用户可见")),v.default.createElement(h.default,{value:2},x.default.get("VisibleToSpecifiedUsers").d("指定用户可见"))))),v.default.createElement(I,(0,o.default)({},i,{label:v.default.createElement("span",null,v.default.createElement("span",{style:{color:"red"}},"*"),x.default.get("customProject23").d("关联活动"))}),a("poolProjects",{initialValue:null,rules:[{required:!1,message:x.default.get("customProject53").d("请选择关联活动")}]})(v.default.createElement(S.default,{linkArr:this.props.linkArr||[]})))),v.default.createElement("div",null,v.default.createElement(y.Link,{to:"/"+T+"/"+O+"/index/programs/custom-project",style:{marginLeft:"20px"}},v.default.createElement(l.default,null,x.default.get("Cancel").d("取消"))),v.default.createElement(l.default,{type:"primary",style:{marginLeft:"20px"},onClick:this.nextBtn},x.default.get("NextStep").d("下一步"))))}}]),n}(v.Component);var L=(0,k.connect)((function(e,t){return{customList:e.custom.customList,editOne:e.custom.editOne,linkArr:e.custom.linkArr}}),(function(e){return{getCustomList:function(t,a){return e((0,w.getCustomList)(t,a))},saveCustomOne:function(t,a){return e((0,w.saveCustomOne)(t,a))},editCustomOne:function(t,a){return e((0,w.editCustomOne)(t,a))},linkArrProps:function(t,a){return e((0,w.linkArrProps)(t,a))}}}))(E.default.create()(_));t.default=L},2271:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),a(3),a(103),a(43),a(107),a(51),a(620),a(20),a(34),a(35),a(23),a(53),a(151),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var l=r(a(225));a(99);var o=r(a(100));a(140);var u=r(a(535)),c=r(a(79)),i=r(a(29)),d=r(a(30)),s=r(a(59)),f=r(a(32)),p=r(a(33)),m=r(a(31)),g=r(a(2));a(537);var h=r(a(536));a(575);var E=r(a(568));a(556);var v=r(a(553));a(540);var y=r(a(539)),S=n(a(1)),b=(r(a(60)),a(636),r(a(223))),x=r(a(2272)),k=r(a(2273)),w=a(52),C=r(a(106)),T=a(1321);a(903);function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}location.pathname.split("/")[1],location.pathname.split("/")[2],y.default.Item,v.default.Group;var I=E.default.TabPane,P=h.default.Search,_=function(e){(0,f.default)(n,e);var t,a=(t=n,function(){var e,a=(0,m.default)(t);if(O()){var n=(0,m.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,p.default)(this,e)});function n(e){var t;(0,i.default)(this,n),t=a.call(this,e),(0,g.default)((0,s.default)(t),"addHandleCancel",(function(){t.props.linkArr;t.setState({courseSearch:"",modalVisible:!1})})),(0,g.default)((0,s.default)(t),"addClick",(function(){t.setState({modalVisible:!0});t.props.linkArr;var e=t.state;e.courseArr,e.examArr,e.researchArr,e.voteArr,e.homeworkArr;t.setState({courseArr:[],examArr:[],researchArr:[],voteArr:[],homeworkArr:[]}),t.courseList("",1,"10",[])})),(0,g.default)((0,s.default)(t),"courseList",(function(e,a,n,r){var l={name:e||void 0,pageNo:a,pageSize:n,ids:r};t.props.viewCourseList(l)})),(0,g.default)((0,s.default)(t),"examList",(function(e,a,n,r){var l={name:e||void 0,pageNo:a,pageSize:n,ids:r};t.props.viewExamList(l)})),(0,g.default)((0,s.default)(t),"researchList",(function(e,a,n,r){var l={name:e||void 0,pageNo:a,pageSize:n,ids:r};t.props.viewResearchList(l)})),(0,g.default)((0,s.default)(t),"voteList",(function(e,a,n,r){var l={name:e||void 0,pageNo:a,pageSize:n,ids:r};t.props.viewVoteList(l)})),(0,g.default)((0,s.default)(t),"homeworkList",(function(e,a,n,r){var l={name:e||void 0,pageNo:a,pageSize:n,ids:r};t.props.viewHomeworkList(l)})),(0,g.default)((0,s.default)(t),"eidtClick",(function(){var e=t.props.linkArr,a=e&&e.filter((function(e,t){if(1===e.type)return e.bizId}));a.length>0&&(a=a.map((function(e,t){return e.bizId})));var n=e&&e.filter((function(e,t){if(2===e.type)return e}));n.length>0&&(n=n.map((function(e,t){return e.bizId})));var r=e&&e.filter((function(e,t){if(3===e.type)return e.bizId}));r.length>0&&(r=r.map((function(e,t){return e.bizId})));var l=e&&e.filter((function(e,t){if(4===e.type)return e}));l.length>0&&(l=l.map((function(e,t){return e.bizId})));var o=e&&e.filter((function(e,t){if(6===e.type)return e}));o.length>0&&(o=o.map((function(e,t){return e.bizId}))),t.setState({modalVisible:!0,courseArr:a,examArr:n,researchArr:r,voteArr:l,homeworkArr:o}),t.courseList("",1,"10",a)})),(0,g.default)((0,s.default)(t),"iconClick",(function(e){var a;a=t.props.linkArr.filter((function(t,a){return t.bizId!==e&&t})),t.props.linkArrProps(a)})),(0,g.default)((0,s.default)(t),"tabsChange",(function(e){var a=t.state,n=a.courseArr,r=a.examArr,l=a.researchArr,o=a.voteArr,u=a.homeworkArr;1==e&&t.courseList("",1,"10",n),2==e&&t.examList("",1,"10",r),3==e&&t.researchList("",1,"10",l),4==e&&t.voteList("",1,"10",o),6==e&&t.homeworkList("",1,"10",u),t.setState({key:e})})),(0,g.default)((0,s.default)(t),"addHandleOk",(function(){var e=t.state,a=e.catchRowKeys,n=e.catchRowKeys1,r=e.catchRowKeys2,l=e.catchRowKeys3,o=e.catchRowKeys4,u=e.courseArr,i=e.examArr,d=e.researchArr,s=e.voteArr,f=e.homeworkArr,p=t.props.linkArr,m=[];a.map((function(e){return m=[].concat((0,c.default)(m),(0,c.default)(e.rows)),e}));var g=m.map((function(e,t){return{bizId:e.id,bizName:e.name,type:1,bizNo:e.code}})),h=[];n.map((function(e){return h=[].concat((0,c.default)(h),(0,c.default)(e.rows)),e}));var E=h.map((function(e,t){return{bizId:e.id,bizName:e.name,type:2,bizNo:e.code}})),v=[];r.map((function(e){return v=[].concat((0,c.default)(v),(0,c.default)(e.rows)),e}));var y=v.map((function(e,t){return{bizId:e.id,bizName:e.name,type:3,bizNo:e.code}})),S=[];l.map((function(e){return S=[].concat((0,c.default)(S),(0,c.default)(e.rows)),e}));var b=S.map((function(e,t){return{bizId:e.id,bizName:e.name,type:4,bizNo:e.code}})),x=[];o.map((function(e){return x=[].concat((0,c.default)(x),(0,c.default)(e.rows)),e}));for(var k=x.map((function(e,t){return{bizId:e.id,bizName:e.name,type:6,bizNo:e.code}})),w=[].concat((0,c.default)(g),(0,c.default)(E),(0,c.default)(y),(0,c.default)(b),(0,c.default)(k)),C=0;C<p.length;C++)for(var T=0;T<w.length;T++)w[T].bizId===p[C].bizId&&w.splice(T,1);w=[].concat((0,c.default)(w),(0,c.default)(p));var O=g.map((function(e,t){return e.bizId})),I=E.map((function(e,t){return e.bizId})),P=y.map((function(e,t){return e.bizId})),_=b.map((function(e,t){return e.bizId})),L=k.map((function(e,t){return e.bizId}));t.setState({courseArr:[].concat((0,c.default)(O),(0,c.default)(u)),examArr:[].concat((0,c.default)(I),(0,c.default)(i)),researchArr:[].concat((0,c.default)(P),(0,c.default)(d)),voteArr:[].concat((0,c.default)(_),(0,c.default)(s)),homeworkArr:[].concat((0,c.default)(L),(0,c.default)(f)),selectedRowKeys:[],selectedRowKeys1:[],selectedRowKeys2:[],selectedRowKeys3:[],selectedRowKeys4:[],catchRowKeys:[],catchRowKeys1:[],catchRowKeys2:[],catchRowKeys3:[],catchRowKeys4:[]}),t.props.linkArrProps(w),t.addHandleCancel()})),(0,g.default)((0,s.default)(t),"onSelectChange",(function(e,a){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",a);var n=t.state,r=n.catchRowKeys,l=n.pageNo,o=[],u=r.filter((function(e){if(e.pageNo===l)return e})),i={pageNo:l,keys:e,rows:a};o=u.length>0?r.map((function(e){return e.pageNo===l?i:e})):[].concat((0,c.default)(r),[i]),t.setState({selectedRowKeys:e,selectedRows:a,catchRowKeys:o})})),(0,g.default)((0,s.default)(t),"onSelectChange1",(function(e,a){var n=t.state,r=n.catchRowKeys1,l=n.pageNo1,o=[],u=r.filter((function(e){if(e.pageNo===l)return e})),i={pageNo:l,keys:e,rows:a};o=u.length>0?r.map((function(e){return e.pageNo===l?i:e})):[].concat((0,c.default)(r),[i]),t.setState({selectedRowKeys1:e,selectedRows1:a,catchRowKeys1:o})})),(0,g.default)((0,s.default)(t),"onSelectChange2",(function(e,a){var n=t.state,r=n.catchRowKeys2,l=n.pageNo2,o=[],u=r.filter((function(e){if(e.pageNo===l)return e})),i={pageNo:l,keys:e,rows:a};o=u.length>0?r.map((function(e){return e.pageNo===l?i:e})):[].concat((0,c.default)(r),[i]),t.setState({selectedRowKeys2:e,selectedRows2:a,catchRowKeys2:o})})),(0,g.default)((0,s.default)(t),"onSelectChange3",(function(e,a){var n=t.state,r=n.catchRowKeys3,l=n.pageNo3,o=[],u=r.filter((function(e){if(e.pageNo===l)return e})),i={pageNo:l,keys:e,rows:a};o=u.length>0?r.map((function(e){return e.pageNo===l?i:e})):[].concat((0,c.default)(r),[i]),t.setState({selectedRowKeys3:e,selectedRows3:a,catchRowKeys3:o}),t.setState({selectedRowKeys3:e,selectedRows3:a})})),(0,g.default)((0,s.default)(t),"onSelectChange4",(function(e,a){var n=t.state,r=n.catchRowKeys4,l=n.pageNo4,o=[],u=r.filter((function(e){if(e.pageNo===l)return e})),i={pageNo:l,keys:e,rows:a};o=u.length>0?r.map((function(e){return e.pageNo===l?i:e})):[].concat((0,c.default)(r),[i]),t.setState({selectedRowKeys4:e,selectedRows4:a,catchRowKeys4:o}),t.setState({selectedRowKeys4:e,selectedRows4:a})})),(0,g.default)((0,s.default)(t),"courseSearch",(function(e){var a=t.state.courseArr;t.setState({courseSearch:e}),t.courseList(e,"1","10",a)})),(0,g.default)((0,s.default)(t),"examSearch",(function(e){t.setState({examSearch:e});var a=t.state.examArr;t.examList(e,"1","10",a)})),(0,g.default)((0,s.default)(t),"reserchSearch",(function(e){t.setState({reserchSearch:e});var a=t.state.researchArr;t.researchList(e,"1","10",a)})),(0,g.default)((0,s.default)(t),"voteSearch",(function(e){t.setState({voteSearch:e});var a=t.state.voteArr;t.voteList(e,"1","10",a)})),(0,g.default)((0,s.default)(t),"homeworkSearch",(function(e){t.setState({homeworkSearch:e});var a=t.state.homeworkArr;t.homeworkList(e,"1","10",a)}));t.props.linkArr;return t.state={pageNo:1,pageNo1:1,pageNo2:1,pageNo3:1,pageNo4:1,pageSize:10,total:98,pageSize1:10,total1:58,shelves:!1,key:1,scopeVal:1,courseArr:[],examArr:[],researchArr:[],voteArr:[],homeworkArr:[],scopeVisible:!1,modalVisible:!1,selectedRowKeys:[],selectedRows:[],catchRowKeys:[],selectedRowKeys1:[],selectedRows1:[],catchRowKeys1:[],selectedRowKeys2:[],selectedRows2:[],catchRowKeys2:[],selectedRowKeys3:[],selectedRows3:[],catchRowKeys3:[],selectedRowKeys4:[],selectedRows4:[],catchRowKeys4:[]},t.tabsChange=t.tabsChange.bind((0,s.default)(t)),t.pageCallback=t.pageCallback.bind((0,s.default)(t)),t.pageCallback1=t.pageCallback1.bind((0,s.default)(t)),t.pageCallback2=t.pageCallback2.bind((0,s.default)(t)),t.pageCallback3=t.pageCallback3.bind((0,s.default)(t)),t.pageCallback4=t.pageCallback4.bind((0,s.default)(t)),t}return(0,d.default)(n,[{key:"pageCallback",value:function(e){var t=this.state,a=t.courseSearch,n=t.courseArr,r=(t.selectedRowKeys,t.catchRowKeys.filter((function(t){if(t.pageNo===e.pageNo)return t})));this.courseList(a,e.pageNo,e.pageSize,n),this.setState({selectedRowKeys:r.length>0?r[0].keys:[],pageNo:e.pageNo})}},{key:"pageCallback1",value:function(e){var t=this.state,a=t.examSearch,n=t.examArr,r=t.catchRowKeys1.filter((function(t){if(t.pageNo===e.pageNo)return t}));this.examList(a,e.pageNo,e.pageSize,n),this.setState({selectedRowKeys1:r.length>0?r[0].keys:[],pageNo1:e.pageNo})}},{key:"pageCallback2",value:function(e){var t=this.state,a=t.reserchSearch,n=t.researchArr,r=t.catchRowKeys2.filter((function(t){if(t.pageNo===e.pageNo)return t}));this.researchList(a,e.pageNo,e.pageSize,n),this.setState({selectedRowKeys2:r.length>0?r[0].keys:[],pageNo2:e.pageNo})}},{key:"pageCallback3",value:function(e){var t=this.state,a=t.voteSearch,n=t.voteArr,r=t.catchRowKeys3.filter((function(t){if(t.pageNo===e.pageNo)return t}));this.voteList(a,e.pageNo,e.pageSize,n),this.setState({selectedRowKeys3:r.length>0?r[0].keys:[],pageNo3:e.pageNo})}},{key:"pageCallback4",value:function(e){var t=this.state,a=t.homeworkSearch,n=t.homeworkArr,r=t.catchRowKeys4.filter((function(t){if(t.pageNo===e.pageNo)return t}));this.homeworkList(a,e.pageNo,e.pageSize,n),this.setState({selectedRowKeys4:r.length>0?r[0].keys:[],pageNo4:e.pageNo})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.shelves,t.scopeVal,t.modalVisible),n=t.selectedRowKeys,r=t.selectedRowKeys1,c=t.selectedRowKeys2,i=(t.selectedRowKeys3,t.selectedRowKeys4),d=(this.props.form.getFieldDecorator,this.props),s=d.linkArr,f=d.courseList,p=d.examList,m=d.researchList,g=(d.voteList,d.homeworkList),h=[{title:C.default.get("CourseCode").d("课程编码"),dataIndex:"code",key:"code",render:function(e){return S.default.createElement("span",{title:e},e.length>10?e.substring(9,0)+"...":e)}},{title:C.default.get("CourseType").d("课程类型"),dataIndex:"courseType",render:function(e,t){return S.default.createElement("span",null,0===e&&S.default.createElement("span",null,C.default.get("GeneralCourse").d("一般课程")),1===e&&S.default.createElement("span",null,"Scrom",C.default.get("Course").d("课程")))}},{title:C.default.get("CourseName").d("课程名称"),dataIndex:"name",key:"name",render:function(e){return S.default.createElement("span",{title:e},e.length>10?e.substring(9,0)+"...":e)}}],v={selectedRowKeys:n,onChange:this.onSelectChange},y=[{title:C.default.get("ExamTime").d("考试时间"),dataIndex:"startTime",key:"startTime",render:function(e,t){return S.default.createElement("span",null,(0,b.default)(Number(e)).format("YYYY/MM/DD")+"-"+(0,b.default)(Number(t.endTime)).format("YYYY/MM/DD"))}},{title:C.default.get("ExamName").d("考试名称"),dataIndex:"name",key:"name",render:function(e){return S.default.createElement("span",{title:e},e.length>10?e.substring(9,0)+"...":e)}},{title:C.default.get("CourseReleaseTime").d("上架时间"),dataIndex:"upTime",key:"upTime",render:function(e,t){return S.default.createElement("span",null,(0,b.default)(Number(e)).format("YYYY/MM/DD HH:mm:ss"))}}],w={selectedRowKeys:r,onChange:this.onSelectChange1},T=[{title:C.default.get("SystemActive30").d("调研时间"),dataIndex:"startTime",key:"startTime",render:function(e,t){return S.default.createElement("span",null,(0,b.default)(Number(e)).format("YYYY/MM/DD")+"-"+(0,b.default)(Number(t.endTime)).format("YYYY/MM/DD"))}},{title:C.default.get("Statisitic29").d("调研名称"),dataIndex:"name",key:"name",render:function(e){return S.default.createElement("span",{title:e},e.length>10?e.substring(9,0)+"...":e)}},{title:C.default.get("CourseReleaseTime").d("上架时间"),dataIndex:"upTime",key:"upTime",render:function(e,t){return S.default.createElement("span",null,(0,b.default)(Number(e)).format("YYYY/MM/DD HH:mm:ss"))}}],O={selectedRowKeys:c,onChange:this.onSelectChange2},_=(C.default.get("customProject50").d("投票时间"),C.default.get("customProject51").d("投票名称"),C.default.get("CourseReleaseTime").d("上架时间"),this.onSelectChange3,[{title:C.default.get("rankCreateTime").d("创建时间"),dataIndex:"createTime",key:"createTime",render:function(e,t){return S.default.createElement("span",null,(0,b.default)(Number(e)).format("YYYY/MM/DD HH:mm:ss"))}},{title:C.default.get("Statisitic77").d("作业名称"),dataIndex:"name",key:"name",render:function(e){return S.default.createElement("span",{title:e},e.length>10?e.substring(9,0)+"...":e)}}]),L={selectedRowKeys:i,onChange:this.onSelectChange4};return console.log("12312312"+s),S.default.createElement("div",{className:s.length>0?k.default.link_box:""},s.length>0?S.default.createElement("div",{className:k.default.link_btn_box},S.default.createElement(u.default,{className:k.default.box_btn,type:"primary",onClick:this.eidtClick},C.default.get("comment100").d("继续添加")),S.default.createElement("ul",null,s.map((function(t,a){switch(t.type){case 1:return S.default.createElement("li",{id:t.bizId,className:k.default.box_btn_li},S.default.createElement("div",null,"【"+C.default.get("Course").d("课程")+"】"," ",t.bizName," "),S.default.createElement(o.default,{type:"close",className:k.default.box_btn_icon,onClick:function(a){return e.iconClick(t.bizId)}}));case 2:return S.default.createElement("li",{id:t.bizId,className:k.default.box_btn_li},S.default.createElement("div",null,"【"+C.default.get("Exam").d("考试")+"】"," ",t.bizName," "),S.default.createElement(o.default,{type:"close",className:k.default.box_btn_icon,onClick:function(a){return e.iconClick(t.bizId)}}));case 3:return S.default.createElement("li",{id:t.bizId,className:k.default.box_btn_li},S.default.createElement("div",null,"【"+C.default.get("Research").d("调研")+"】"," ",t.bizName," "),S.default.createElement(o.default,{type:"close",className:k.default.box_btn_icon,onClick:function(a){return e.iconClick(t.bizId)}}));case 4:return S.default.createElement("li",{id:t.bizId,className:"box-btn-li"},S.default.createElement("div",null,"【"+C.default.get("Votes").d("投票")+"】"," ",t.bizName),S.default.createElement(o.default,{type:"close",className:"box-btn-icon",onClick:function(a){return e.iconClick(t.bizId)}}));case 6:return S.default.createElement("li",{id:t.bizId,className:k.default.box_btn_li},S.default.createElement("div",null,"【"+C.default.get("Assignment").d("作业")+"】"," ",t.bizName),S.default.createElement(o.default,{type:"close",className:k.default.box_btn_icon,onClick:function(a){return e.iconClick(t.bizId)}}))}})))):S.default.createElement(u.default,{type:"dashed",onClick:this.addClick},C.default.get("add").d("添加")),S.default.createElement(l.default,{visible:a,title:C.default.get("customProject52").d("关联培训项目/活动"),width:"880px",destroyOnClose:!0,onOk:this.addHandleOk,onCancel:this.addHandleCancel,footer:[S.default.createElement(u.default,{key:"back",onClick:this.addHandleCancel},C.default.get("Cancel").d("取消")),S.default.createElement(u.default,{key:"submit",type:"primary",onClick:this.addHandleOk},C.default.get("Yes").d("确定"))]},S.default.createElement(E.default,{defaultActiveKey:"1",onChange:this.tabsChange,animated:!1},S.default.createElement(I,{tab:C.default.get("Course").d("课程"),key:"1"},S.default.createElement("div",null,S.default.createElement(P,{style:{width:"260px",marginBottom:"30px",marginTop:"15px"},placeholder:C.default.get("Statisitic235").d("请输入课程名称"),onSearch:function(t){return e.courseSearch(t)},enterButton:!0}),S.default.createElement(x.default,{rowKey:function(e){return e.id},columns:h,dataSource:f.records,current:f.current,pageSize:f.size?f.size:10,total:f.total,rowSelection:v,pageCallback:this.pageCallback}))),S.default.createElement(I,{tab:C.default.get("Exam").d("考试"),key:"2"},S.default.createElement("div",null,S.default.createElement(P,{style:{width:"260px",marginBottom:"30px",marginTop:"15px"},placeholder:C.default.get("Statisitic237").d("请输入考试名称"),onSearch:function(t){return e.examSearch(t)},enterButton:!0}),S.default.createElement(x.default,{columns:y,dataSource:p.records,current:p.current,pageSize:p.size?p.size:10,total:p.total,rowSelection:w,pageCallback:this.pageCallback1}))),S.default.createElement(I,{tab:C.default.get("Research").d("调研"),key:"3"},S.default.createElement("div",null,S.default.createElement(P,{style:{width:"260px",marginBottom:"30px",marginTop:"15px"},placeholder:C.default.get("Statisitic30").d("请输入调研名称"),onSearch:function(t){return e.reserchSearch(t)},enterButton:!0}),S.default.createElement(x.default,{columns:T,dataSource:m.records,current:m.current,pageSize:m.size?m.size:10,total:m.total,rowSelection:O,pageCallback:this.pageCallback2}))),S.default.createElement(I,{tab:C.default.get("Assignment").d("作业"),key:"6"},S.default.createElement("div",null,S.default.createElement(P,{style:{width:"260px",marginBottom:"30px",marginTop:"15px"},placeholder:C.default.get("Statisitic84").d("请输入作业名称"),onSearch:function(t){return e.homeworkSearch(t)},enterButton:!0}),S.default.createElement(x.default,{columns:_,dataSource:g&&g.records,current:g&&g.current,pageSize:g&&g.size?g.size:10,total:g&&g.total,rowSelection:L,pageCallback:this.pageCallback4}))))))}}]),n}(S.Component);var L=(0,w.connect)((function(e,t){return{customList:e.custom.customList,courseList:e.custom.courseList,examList:e.custom.examList,researchList:e.custom.researchList,voteList:e.custom.voteList,homeworkList:e.custom.homeworkList,linkArr:e.custom.linkArr}}),(function(e){return{getCustomList:function(t,a){return e((0,T.getCustomList)(t,a))},saveCustomOne:function(t,a){return e((0,T.saveCustomOne)(t,a))},viewCourseList:function(t,a){return e((0,T.viewCourseList)(t,a))},viewExamList:function(t,a){return e((0,T.viewExamList)(t,a))},viewResearchList:function(t,a){return e((0,T.viewResearchList)(t,a))},viewVoteList:function(t,a){return e((0,T.viewVoteList)(t,a))},viewHomeworkList:function(t,a){return e((0,T.viewHomeworkList)(t,a))},linkArrProps:function(t,a){return e((0,T.linkArrProps)(t,a))}}}))(y.default.create()(_));t.default=L},2272:function(e,t,a){"use strict";var n=a(4),r=a(0);a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var l=r(a(558));a(549);var o=r(a(544)),u=r(a(29)),c=r(a(30)),i=r(a(59)),d=r(a(32)),s=r(a(33)),f=r(a(31)),p=r(a(2)),m=n(a(1));r(a(60));function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var h=function(e){(0,d.default)(n,e);var t,a=(t=n,function(){var e,a=(0,f.default)(t);if(g()){var n=(0,f.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,s.default)(this,e)});function n(e){var t;return(0,u.default)(this,n),t=a.call(this,e),(0,p.default)((0,i.default)(t),"pageChange",(function(e,a){var n={pageNo:e,pageSize:a};t.props.pageCallback(n)})),(0,p.default)((0,i.default)(t),"onShowSizeChange",(function(e,a){var n={pageNo:1,pageSize:a};t.props.pageCallback(n)})),t}return(0,c.default)(n,[{key:"componentDidMount",value:function(){}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.current,a=e.pageSize,n=e.total,r=e.columns,u=e.dataSource,c=e.rowSelection,i=e.scroll;console.log("123123"+a);var d=(new Date).getTime();return m.default.createElement("div",null,m.default.createElement(o.default,{scroll:i,rowKey:String(d),columns:r,dataSource:u,rowSelection:c,pagination:!1}),m.default.createElement(l.default,{style:{textAlign:"right",marginTop:"20px",marginRight:"30px"},current:t,pageSize:a,total:n,showSizeChanger:!0,showQuickJumper:!0,onChange:this.pageChange,onShowSizeChange:this.onShowSizeChange,showTotal:this.showTotal}))}}]),n}(m.Component);t.default=h},2273:function(e,t,a){e.exports={link_box:"link_box__3Rw9d",link_btn_box:"link_btn_box__3sbWF",box_btn:"box_btn__3EyzD",box_btn_li:"box_btn_li__1GHqF",box_btn_icon:"box_btn_icon__Z8m6a"}},2274:function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var a=0;a<e.length;a++)if(e[a]===t)return a;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var a in e)t.push(a);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var a=0;a<e.length;a++)t(e[a],a,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,a){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:a})}}catch(e){return function(e,t,a){e[t]=a}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var a=t.contentWindow,n=a.eval,r=a.execScript;!n&&r&&(r.call(a,"null"),n=a.eval),forEach(Object_keys(e),(function(t){a[t]=e[t]})),forEach(globals,(function(t){e[t]&&(a[t]=e[t])}));var l=Object_keys(a),o=n.call(a,this.code);return forEach(Object_keys(a),(function(t){(t in e||-1===indexOf(l,t))&&(e[t]=a[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,a[t])})),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),a=this.runInContext(t);return e&&forEach(Object_keys(t),(function(a){e[a]=t[a]})),a},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var a=Script(t);return a[e].apply(a,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(a){t[a]=e[a]})),t}},2275:function(e,t,a){"use strict";var n=a(4),r=a(0);a(82),a(43),a(51),a(620),a(20),a(34),a(23),a(84),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var l=r(a(225));a(549);var o=r(a(544));a(140);var u=r(a(535));a(564);var c=r(a(563));a(590);var i=r(a(591));a(616);var d=r(a(617));a(61);var s=r(a(62)),f=r(a(29)),p=r(a(30)),m=r(a(59)),g=r(a(32)),h=r(a(33)),E=r(a(31)),v=r(a(2));a(556);var y=r(a(553)),S=n(a(1)),b=(r(a(60)),a(52)),x=a(1321),k=r(a(106));function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var C=y.default.Group,T=function(e){(0,g.default)(n,e);var t,a=(t=n,function(){var e,a=(0,E.default)(t);if(w()){var n=(0,E.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,h.default)(this,e)});function n(e){var t;return(0,f.default)(this,n),t=a.call(this,e),(0,v.default)((0,m.default)(t),"gradeModal",(function(){t.setState({gradeModalVsb:!0})})),(0,v.default)((0,m.default)(t),"addHandleOk",(function(){var e=t.state,a=e.gradeVal,n=e.selectedRowKeys,r=(e.selectedRows,e.gradeObj,t.props.callData.map((function(e,t){return n.includes(t)&&(e.activityExperience=a),e})));t.setState({gradeObj:r,random:(new Date).getTime()}),t.props.stepTwoCall(r),t.addHandleCancel()})),(0,v.default)((0,m.default)(t),"addHandleCancel",(function(){t.setState({gradeModalVsb:!1})})),(0,v.default)((0,m.default)(t),"examModal",(function(e){t.setState({activityExperienceId:e.id}),t.props.getSetsOne({activityExperienceId:e.id},(function(a){if("1000"===a.code)if(console.log(a.data.type,"res.data.type"),1===a.data.type)t.setState({gradeModalObj:a.data.activityExperienceSets||[],radioVal:a.data.type,random:(new Date).getTime(),times:null,examDisabled:1===e.evaluate,examModalVsb:!0});else if(2===a.data.type){var n=a.data.activityExperienceSets[0];t.setState({gradeModalObj:[],radioVal:a.data.type,times:Number(a.data.activityExperienceSets[0].times),random:(new Date).getTime(),examDisabled:1===e.evaluate,examModalVsb:!0,activityExperienceSetId:n.id})}else t.setState({gradeModalObj:[],radioVal:1,randomExam:(new Date).getTime(),examDisabled:1===e.evaluate,examModalVsb:!0})}))})),(0,v.default)((0,m.default)(t),"homeworkModal",(function(e){t.setState({activityExperienceId:e.id}),t.props.getSetsOne({activityExperienceId:e.id},(function(a){if("1000"===a.code)if(console.log(a.data.type,"res.data.type"),1===a.data.type)t.setState({gradeModalObj:a.data.activityExperienceSets||[],radioVal1:a.data.type,random:(new Date).getTime(),times:null,homeworkDisabled:1===e.evaluate,homeworkModalVsb:!0});else if(2===a.data.type){var n=a.data.activityExperienceSets[0];t.setState({gradeModalObj:[],radioVal1:a.data.type,times:Number(a.data.activityExperienceSets[0].times),random:(new Date).getTime(),homeworkDisabled:1===e.evaluate,homeworkModalVsb:!0,activityExperienceSetId:n.id})}else t.setState({gradeModalObj:[],radioVal1:1,randomHomework:(new Date).getTime(),homeworkDisabled:1===e.evaluate,homeworkModalVsb:!0})}))})),(0,v.default)((0,m.default)(t),"examDeleteModal",(function(e){t.setState({activityExperienceId:e.id});var a=t.props.callData;t.props.deleteSetsOneAll({activityExperienceId:e.id},(function(e){if("1000"===e.code){var n=a.map((function(t,a){return t.id===e.data.activityExperienceId&&(t.activityExperienceSource=e.data.source),t}));t.setState({randomExam:(new Date).getTime(),gradeModalObj:[],radioVal:1,times:null}),t.props.stepTwoCall(n)}}))})),(0,v.default)((0,m.default)(t),"homeworkDeleteModal",(function(e){t.setState({activityExperienceId:e.id});var a=t.props.callData;t.props.deleteSetsOneAll({activityExperienceId:e.id},(function(e){if("1000"===e.code){var n=a.map((function(t,a){return t.id===e.data.activityExperienceId&&(t.activityExperienceSource=e.data.source),t}));t.setState({randomHomework:(new Date).getTime(),gradeModalObj:[],radioVal1:1,times:null}),t.props.stepTwoCall(n)}}))})),(0,v.default)((0,m.default)(t),"gradeInput",(function(e){t.setState({gradeVal:e})})),(0,v.default)((0,m.default)(t),"examHandleOk",(function(){var e=t.state,a=e.activityExperienceId,n=e.radioVal,r=e.times,l=t.props.callData;t.props.insertSetsOneScore({activityExperienceId:a,setType:n,times:r},(function(e){if("1000"===e.code){var a=l.map((function(t,a){return t.id===e.data.activityExperienceId&&(t.activityExperienceSource=e.data.source),t}));t.props.stepTwoCall(a),t.examCancel()}}))})),(0,v.default)((0,m.default)(t),"homeworkHandleOk",(function(){var e=t.state,a=e.activityExperienceId,n=e.radioVal1,r=e.times,l=t.props.callData;t.props.insertSetsOneScore({activityExperienceId:a,setType:n,times:r},(function(e){if("1000"===e.code){var a=l.map((function(t,a){return t.id===e.data.activityExperienceId&&(t.activityExperienceSource=e.data.source),t}));t.props.stepTwoCall(a),t.homeworkCancel()}}))})),(0,v.default)((0,m.default)(t),"examCancel",(function(){t.setState({examModalVsb:!1,random:(new Date).getTime(),randomExam:(new Date).getTime(),times:null,gradeModalObj:[],radioVal:1})})),(0,v.default)((0,m.default)(t),"homeworkCancel",(function(){t.setState({homeworkModalVsb:!1,random:(new Date).getTime(),randomHomework:(new Date).getTime(),times:null,gradeModalObj:[],radioVal1:1})})),(0,v.default)((0,m.default)(t),"onInputChange",(function(e,a){var n=t.props.callData;if(e===k.default.get("customProject61").d("按成绩设置"))return!1;var r=n.map((function(t,n){return t.id===a&&(t.activityExperience=e||"0",t.activityExperienceSource=0),t}));t.examDeleteModal({id:a}),t.props.stepTwoCall(r)})),(0,v.default)((0,m.default)(t),"gradeModalEdit",(function(e){t.setState({gradeModalVsbAdd:!0,activityExperienceSetId:e.id,jingyanVal:e.experience,chengjiVal:e.minScore})})),(0,v.default)((0,m.default)(t),"gradeModalAdd",(function(){t.setState({gradeModalVsbAdd:!0,activityExperienceSetId:null,jingyanVal:null,chengjiVal:null})})),(0,v.default)((0,m.default)(t),"gradeModalDelete",(function(e){t.props.deleteSetsOne({activityExperienceSetId:e.id},(function(a){t.props.getSetsOne({activityExperienceId:t.state.activityExperienceId,setType:1},(function(a){"1000"===a.code&&t.setState({gradeModalObj:a.data.activityExperienceSets||[],examDisabled:1===e.evaluate})}))}))})),(0,v.default)((0,m.default)(t),"chengjiFun",(function(e){t.setState({chengjiVal:e})})),(0,v.default)((0,m.default)(t),"jingyanFun",(function(e){t.setState({jingyanVal:e})})),(0,v.default)((0,m.default)(t),"examInput",(function(e){t.setState({times:e})})),(0,v.default)((0,m.default)(t),"homeworkModalEdit",(function(e){t.setState({homeworkModalVsbAdd:!0,activityExperienceSetId:e.id,jingyanVal1:e.experience,chengjiVal1:e.minScore})})),(0,v.default)((0,m.default)(t),"homeworkModalAdd",(function(){t.setState({homeworkModalVsbAdd:!0,activityExperienceSetId:null,jingyanVal1:null,chengjiVal1:null})})),(0,v.default)((0,m.default)(t),"homeworkModalDelete",(function(e){t.props.deleteSetsOne({activityExperienceSetId:e.id},(function(a){t.props.getSetsOne({activityExperienceId:t.state.activityExperienceId,setType:1},(function(a){"1000"===a.code&&t.setState({gradeModalObj:a.data.activityExperienceSets||[],homeworkDisabled:1===e.evaluate})}))}))})),(0,v.default)((0,m.default)(t),"chengjiFun1",(function(e){t.setState({chengjiVal1:e})})),(0,v.default)((0,m.default)(t),"jingyanFun1",(function(e){t.setState({jingyanVal1:e})})),(0,v.default)((0,m.default)(t),"examInput1",(function(e){t.setState({times:e})})),(0,v.default)((0,m.default)(t),"gradeModalVsbOk",(function(){var e=t.state,a=e.chengjiVal,n=e.jingyanVal,r=e.activityExperienceId,l=e.radioVal,o=e.activityExperienceSetId;if(!(a>=0))return s.default.error("请输入成绩"),!1;if(null==n)return s.default.error("请输入经验值"),!1;var u={minScore:a,experience:n,activityExperienceId:r,setType:l,activityExperienceSetId:o||void 0};t.props.insertSetsOne(u,(function(e){"1000"===e.code&&t.setState({gradeModalObj:e.data}),t.gradeModalVsbCancel()}))})),(0,v.default)((0,m.default)(t),"homeworkModalVsbOk",(function(){var e=t.state,a=e.chengjiVal1,n=e.jingyanVal1,r=e.activityExperienceId,l=e.radioVal1,o=e.activityExperienceSetId;if(!(a>=0))return s.default.error("请输入成绩"),!1;if(null==n)return s.default.error("请输入经验值"),!1;var u={minScore:a,experience:n,activityExperienceId:r,setType:l,activityExperienceSetId:o||void 0};t.props.insertSetsOne(u,(function(e){"1000"===e.code&&t.setState({gradeModalObj:e.data}),t.homeworkModalVsbCancel()}))})),(0,v.default)((0,m.default)(t),"gradeModalVsbCancel",(function(){t.setState({gradeModalVsbAdd:!1})})),(0,v.default)((0,m.default)(t),"homeworkModalVsbCancel",(function(){t.setState({homeworkModalVsbAdd:!1})})),(0,v.default)((0,m.default)(t),"onSelectChange",(function(e,a){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",a),t.setState({selectedRowKeys:e,selectedRows:a,batchDisabled:!(e.length>0)})})),(0,v.default)((0,m.default)(t),"radioChange",(function(e){t.setState({radioVal:e})})),(0,v.default)((0,m.default)(t),"radioChange1",(function(e){t.setState({radioVal1:e})})),t.state={pageNo:1,pageSize:1e3,total:88,gradeObj:[],gradeModalObj:[],poolId:null,random:null,randomExam:null,randomHomework:null,projectVal:null,projectId:null,gradeModalVsb:!1,examModalVsb:!1,homeworkModalVsb:!1,examDisabled:!1,homeworkDisabled:!1,gradeModalVsbAdd:!1,homeworkModalVsbAdd:!1,radioVal:1,radioVal1:1,jingyanVal:null,jingyanVal1:null,chengjiVal:null,chengjiVal1:null,examScoure:!1,batchDisabled:!0},t.previousBtn=t.previousBtn.bind((0,m.default)(t)),t.nextBtn=t.nextBtn.bind((0,m.default)(t)),t}return(0,p.default)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"previousBtn",value:function(){this.props.stepCallback(0,{poolId:this.props.poolId}),this.props.upCallback({poolId:this.props.poolId}),this.setState({random:(new Date).getTime()})}},{key:"nextBtn",value:function(){var e=this,t={activityExperienceList:this.props.callData};this.props.saveCustomTwo(t,(function(t){e.props.stepCallback(2,{poolId:e.props.poolId})})),this.setState({random:(new Date).getTime()})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.pageNo,t.pageSize,t.selectedRowKeys),n=t.radioVal,r=t.radioVal1,s=t.batchDisabled,f=t.gradeModalObj,p=t.times,m=t.examDisabled,g=t.homeworkDisabled,h=this.props.callData,E={selectedRowKeys:a,onChange:this.onSelectChange,getCheckboxProps:function(e){return{disabled:1===e.evaluate,name:e.name}}},v=[{title:"活动类型",dataIndex:"type",code:"type",render:function(e,t){return S.default.createElement("span",null,1===e&&S.default.createElement("span",null,"课程"),2===e&&S.default.createElement("span",null,"考试"),3===e&&S.default.createElement("span",null,k.default.get("Research").d("调研")," "),4===e&&S.default.createElement("span",null,"投票"),6===e&&S.default.createElement("span",null,"作业"))}},{title:"活动名称",dataIndex:"activityName",code:"activityName",render:function(e){return S.default.createElement("span",{title:e},e.length>10?e.substring(9,0)+"...":e)}},{title:"按完成设置经验值",dataIndex:"activityExperience",code:"activityExperience",render:function(t,a){return 2===a.type?1===a.activityExperienceSource?S.default.createElement("span",null,S.default.createElement("span",null,k.default.get("customProject61").d("按成绩设置"))):S.default.createElement(d.default,{style:{width:"120px"},min:"0",precision:0,defaultValue:t,disabled:1===a.evaluate,onBlur:function(t){e.onInputChange(t.target.value,a.id)}}):6===a.type&&1===a.activityExperienceSource?S.default.createElement("span",null,S.default.createElement("span",null,k.default.get("customProject61").d("按成绩设置"))):S.default.createElement(d.default,{style:{width:"120px"},min:"0",precision:0,defaultValue:t,disabled:1===a.evaluate,onBlur:function(t){e.onInputChange(t.target.value,a.id)}})}},{title:k.default.get("customProject30").d("按其他条件设置经验"),dataIndex:"activityExperienceSource",code:"activityExperienceSource",render:function(t,a){return 2===a.type?1===a.evaluate?1===a.activityExperienceSource?S.default.createElement("a",{onClick:function(){e.examModal(a)}},k.default.get("customProject62").d("查看设置")):S.default.createElement("span",null,k.default.get("customProject31").d("无其他条件")):1===a.activityExperienceSource?S.default.createElement("div",null,S.default.createElement("a",{onClick:function(){e.examModal(a)}},k.default.get("customProject62").d("查看设置")),S.default.createElement(i.default,{type:"vertical"}),S.default.createElement(c.default,{title:k.default.get("ConfirmDelete").d("确定删除")+"?",okText:k.default.get("Yes").d("确定"),cancelText:k.default.get("Cancel").d("取消"),onConfirm:function(){e.examDeleteModal(a)}},S.default.createElement("a",null,k.default.get("customProject62").d("删除设置")))):S.default.createElement("a",{onClick:function(){e.examModal(a)}},k.default.get("customProject64").d("按考试成绩设置")):6===a.type?1===a.evaluate?1===a.activityExperienceSource?S.default.createElement("a",{onClick:function(){e.homeworkModal(a)}},k.default.get("customProject62").d("查看设置")):S.default.createElement("span",null,k.default.get("customProject31").d("无其他条件")):1===a.activityExperienceSource?S.default.createElement("div",null,S.default.createElement("a",{onClick:function(){e.homeworkModal(a)}},k.default.get("customProject62").d("查看设置")),S.default.createElement(i.default,{type:"vertical"}),S.default.createElement(c.default,{title:k.default.get("ConfirmDelete").d("确定删除")+"?",okText:k.default.get("Yes").d("确定"),cancelText:k.default.get("Cancel").d("取消"),onConfirm:function(){e.examDeleteModal(a)}},S.default.createElement("a",null,k.default.get("customProject62").d("删除设置")))):S.default.createElement("a",{onClick:function(){e.homeworkModal(a)}},k.default.get("customProject65").d("按作业成绩设置")):S.default.createElement("span",null,k.default.get("customProject31").d("无其他条件"))}}],b=[{title:k.default.get("customProject48").d("考试成绩"),dataIndex:"minScore",code:"minScore"},{title:k.default.get("customProject39").d("对应经验值"),dataIndex:"experience",code:"experience"},{title:k.default.get("operate").d("操作"),dataIndex:"action",code:"action",render:function(t,a){return e.state.examDisabled?S.default.createElement("div",null,S.default.createElement("span",null,k.default.get("change").d("修改")),S.default.createElement(i.default,{type:"vertical"}),S.default.createElement("span",null,k.default.get("caseContentDelete").d("删除"))):S.default.createElement("div",null,S.default.createElement("a",{onClick:function(){e.gradeModalEdit(a)}},k.default.get("change").d("修改")),S.default.createElement(i.default,{type:"vertical"}),S.default.createElement("a",{onClick:function(){e.gradeModalDelete(a)}},k.default.get("caseContentDelete").d("删除")))}}],x=[{title:k.default.get("customProject38").d("作业成绩"),dataIndex:"minScore",code:"minScore"},{title:k.default.get("customProject39").d("对应经验值"),dataIndex:"experience",code:"experience"},{title:k.default.get("operate").d("操作"),dataIndex:"action",code:"action",render:function(t,a){return e.state.homeworkDisabled?S.default.createElement("div",null,S.default.createElement("span",null,k.default.get("change").d("修改")),S.default.createElement(i.default,{type:"vertical"}),S.default.createElement("span",null,k.default.get("caseContentDelete").d("删除"))):S.default.createElement("div",null,S.default.createElement("a",{onClick:function(){e.homeworkModalEdit(a)}},k.default.get("change").d("修改")),S.default.createElement(i.default,{type:"vertical"}),S.default.createElement("a",{onClick:function(){e.homeworkModalDelete(a)}},k.default.get("caseContentDelete").d("删除")))}}];return S.default.createElement("div",{style:{display:this.props.show?"block":"none"}},S.default.createElement("h3",{style:{margin:"20px"}},k.default.get("customProject27").d("设置所有关联活动的经验")),S.default.createElement("div",null,S.default.createElement(u.default,{disabled:s,type:"primary",onClick:this.gradeModal},k.default.get("customProject28").d("批量设置经验值")),S.default.createElement(o.default,{key:this.state.random,rowKey:"code",style:{width:"80%",height:"400px",overflowY:"scroll"},rowSelection:E,columns:v,dataSource:h,pagination:!1})),S.default.createElement(l.default,{visible:this.state.gradeModalVsb,title:k.default.get("customProject28").d("批量设置经验值"),width:"500px",destroyOnClose:!0,onOk:this.addHandleOk,onCancel:this.addHandleCancel,footer:[S.default.createElement(u.default,{key:"back",onClick:this.addHandleCancel},k.default.get("goBack").d("返回")),S.default.createElement(u.default,{key:"submit",type:"primary",onClick:this.addHandleOk},k.default.get("Yes").d("确定"))]},S.default.createElement("label",null,k.default.get("customProject25").d("设置经验"),"+:"),S.default.createElement(d.default,{style:{width:"210px"},precision:0,min:0,onChange:function(t){e.gradeInput(t)}})),S.default.createElement(l.default,{visible:this.state.examModalVsb,title:k.default.get("customProject32").d("按考试成绩设置经验"),width:"680px",destroyOnClose:!0,onOk:this.examHandleOk,onCancel:this.examCancel,footer:[S.default.createElement(u.default,{key:"back",onClick:this.examCancel},k.default.get("goBack").d("返回")),S.default.createElement(u.default,{key:"submit",type:"primary",onClick:this.examHandleOk},k.default.get("Yes").d("确定"))]},S.default.createElement("div",null,S.default.createElement("h3",null,k.default.get("customProject33").d("经验设置方式"),"+:"),S.default.createElement(C,{onChange:function(t){e.radioChange(t.target.value)},defaultValue:n},S.default.createElement(y.default,{disabled:!!this.state.times,value:1},k.default.get("customProject66").d("按成绩范围设置")),S.default.createElement(y.default,{disabled:f.length>0,value:2},k.default.get("customProject34").d("按成绩数值设置"))),1===n?S.default.createElement("div",{style:{marginTop:"20px"}},S.default.createElement(u.default,{type:"primary",disabled:this.state.examDisabled,style:{marginBottom:"20px"},onClick:this.gradeModalAdd},k.default.get("SystemAdmin9").d("新增")),S.default.createElement(o.default,{key:this.state.randomExam,columns:b,dataSource:f,pagination:!1})):S.default.createElement("div",{style:{marginTop:"20px"}},S.default.createElement("label",null,k.default.get("customProject35").d("经验值")," = ",k.default.get("customProject36").d("成绩数值")," x"),S.default.createElement(d.default,{type:"number",style:{width:"160px",marginLeft:"5px",marginRight:"5px"},placeholder:k.default.get("customProject67").d("请输入正整数"),precision:0,disabled:m,defaultValue:p,onChange:this.examInput}),S.default.createElement("label",null,k.default.get("comment101").d("倍")),S.default.createElement("h4",{style:{color:"lightgray",marginTop:"20px"}},k.default.get("customProject37").d("例：如果某员成绩为20分，设置倍数为2，则学员能获得经验值为40经验"))))),S.default.createElement(l.default,{visible:this.state.homeworkModalVsb,title:k.default.get("customProject43").d("按作业成绩设置经验"),width:"680px",destroyOnClose:!0,onOk:this.homeworkHandleOk,onCancel:this.homeworkCancel,footer:[S.default.createElement(u.default,{key:"back",onClick:this.homeworkCancel},k.default.get("goBack").d("返回")),S.default.createElement(u.default,{key:"submit",type:"primary",onClick:this.homeworkHandleOk},k.default.get("Yes").d("确定"))]},S.default.createElement("div",null,S.default.createElement("h3",null,k.default.get("customProject33").d("经验设置方式"),":"),S.default.createElement(C,{onChange:function(t){e.radioChange1(t.target.value)},defaultValue:r},S.default.createElement(y.default,{disabled:!!this.state.times,value:1},k.default.get("customProject67").d("按作业范围设置")),S.default.createElement(y.default,{disabled:f.length>0,value:2},k.default.get("customProject69").d("按作业数值设置"))),1===r?S.default.createElement("div",{style:{marginTop:"20px"}},S.default.createElement(u.default,{type:"primary",disabled:this.state.homeworkDisabled,style:{marginBottom:"20px"},onClick:this.homeworkModalAdd},k.default.get("SystemAdmin9").d("新增")),S.default.createElement(o.default,{key:this.state.randomHomework,columns:x,dataSource:f,pagination:!1})):S.default.createElement("div",{style:{marginTop:"20px"}},S.default.createElement("label",null,k.default.get("customProject35").d("经验值")," = ",k.default.get("customProject36").d("成绩数值")," x"),S.default.createElement(d.default,{type:"number",style:{width:"160px",marginLeft:"5px",marginRight:"5px"},placeholder:k.default.get("customProject67").d("请输入正整数"),precision:0,disabled:g,defaultValue:p,onChange:this.examInput1}),S.default.createElement("label",null,k.default.get("comment101").d("倍")),S.default.createElement("h4",{style:{color:"lightgray",marginTop:"20px"}},k.default.get("customProject37").d("例：如果某员成绩为20分，设置倍数为2，则学员能获得经验值为40经验"))))),S.default.createElement(l.default,{visible:this.state.gradeModalVsbAdd,title:k.default.get("customProject44").d("新增经验"),width:"500px",destroyOnClose:!0,onOk:this.gradeModalVsbOk,onCancel:this.gradeModalVsbCancel,footer:[S.default.createElement(u.default,{key:"submit",type:"primary",onClick:this.gradeModalVsbOk},k.default.get("Save").d("保存"))]},S.default.createElement("h4",null,k.default.get("customProject47").d("学员要获得当前经验值，考试成绩需大于等于对应的成绩")),S.default.createElement("label",null,k.default.get("customProject48").d("考试成绩"),S.default.createElement("span",{style:{color:"red"}},"* ")," ",S.default.createElement(d.default,{style:{width:"80%",marginBottom:"20px"},precision:0,min:0,max:120,defaultValue:this.state.chengjiVal,onChange:function(t){e.chengjiFun(t)},placeholder:k.default.get("customProject70").d("支持输入小于或等于总分的正整数或0")})),S.default.createElement("br",null),S.default.createElement("label",null,k.default.get("customProject46").d("对应经验"),S.default.createElement("span",{style:{color:"red"}},"* ")," ",S.default.createElement(d.default,{style:{width:"80%"},precision:0,min:0,defaultValue:this.state.jingyanVal,onChange:function(t){e.jingyanFun(t)},placeholder:k.default.get("customProject71").d("支持输入正整数和0")}))),S.default.createElement(l.default,{visible:this.state.homeworkModalVsbAdd,style:{zIndex:"999"},title:k.default.get("customProject44").d("新增经验"),width:"500px",destroyOnClose:!0,onOk:this.homeworkModalVsbOk,onCancel:this.homeworkModalVsbCancel,footer:[S.default.createElement(u.default,{key:"submit",type:"primary",onClick:this.homeworkModalVsbOk},k.default.get("Save").d("保存"))]},S.default.createElement("h4",null,k.default.get("customProject45").d("学员要获得当前经验值，作业成绩需大于等于对应的成绩")),S.default.createElement("label",null,k.default.get("customProject38").d("作业成绩"),S.default.createElement("span",{style:{color:"red"}},"* ")," ",S.default.createElement(d.default,{style:{width:"80%",marginBottom:"20px"},precision:0,min:0,max:120,defaultValue:this.state.chengjiVal1,onChange:function(t){e.chengjiFun1(t)},placeholder:k.default.get("customProject70").d("支持输入小于或等于总分的正整数或0")})),S.default.createElement("br",null),S.default.createElement("label",null,k.default.get("customProject46").d("对应经验"),S.default.createElement("span",{style:{color:"red"}},"* ")," ",S.default.createElement(d.default,{style:{width:"80%"},precision:0,min:0,defaultValue:this.state.jingyanVal1,onChange:function(t){e.jingyanFun1(t)},placeholder:k.default.get("customProject71").d("支持输入正整数和0")}))),S.default.createElement("div",{style:{marginTop:"20px"}},S.default.createElement(u.default,{style:{marginLeft:"20px"},onClick:this.previousBtn},k.default.get("Previous").d("上一步")),S.default.createElement(u.default,{style:{marginLeft:"20px"},type:"primary",onClick:this.nextBtn},k.default.get("NextStep").d("下一步"))))}}]),n}(S.Component);var O=(0,b.connect)((function(e,t){return{saveTwo:e.custom.saveTwo}}),(function(e){return{saveCustomTwo:function(t,a){return e((0,x.saveCustomTwo)(t,a))},saveCustomOne:function(t,a){return e((0,x.saveCustomOne)(t,a))},getSetsOne:function(t,a){return e((0,x.getSetsOne)(t,a))},insertSetsOne:function(t,a){return e((0,x.insertSetsOne)(t,a))},deleteSetsOne:function(t,a){return e((0,x.deleteSetsOne)(t,a))},insertSetsOneScore:function(t,a){return e((0,x.insertSetsOneScore)(t,a))},deleteSetsOneAll:function(t,a){return e((0,x.deleteSetsOneAll)(t,a))}}}))(T);t.default=O},2276:function(e,t,a){"use strict";var n=a(4),r=a(0);a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var l=r(a(535));a(61);var o=r(a(62)),u=r(a(29)),c=r(a(30)),i=r(a(59)),d=r(a(32)),s=r(a(33)),f=r(a(31)),p=r(a(2)),m=n(a(1)),g=(r(a(60)),a(636),a(65)),h=a(52),E=a(1321),v=r(a(106));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var S=location.pathname.split("/")[1],b=location.pathname.split("/")[2],x=function(e){(0,d.default)(n,e);var t,a=(t=n,function(){var e,a=(0,f.default)(t);if(y()){var n=(0,f.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,s.default)(this,e)});function n(e){var t;return(0,u.default)(this,n),t=a.call(this,e),(0,p.default)((0,i.default)(t),"nextBtn",(function(){t.props.saveCustomThree({experiencePoolId:t.props.poolId},(function(e){"1000"===e.code&&o.default.success(v.default.get("customProject59").d("请求成功")),t.props.history.push("/"+S+"/"+b+"/index/programs/custom-project")}))})),t.state={},t.previousBtn=t.previousBtn.bind((0,i.default)(t)),t}return(0,c.default)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"previousBtn",value:function(){this.props.stepCallback(1,{poolId:this.props.poolId,callData:this.props.callData})}},{key:"render",value:function(){var e=this.props.type;return m.default.createElement("div",{style:{display:this.props.show?"block":"none",marginTop:"50px"}},m.default.createElement("div",{style:{marginLeft:"50px",marginBottom:"50px"}},m.default.createElement("h3",null,"edit"===e?v.default.get("customProject40").d("经验池已修改。请按照以下操作完成开发项目配置"):v.default.get("customProject60").d("经验池已生成。请按照以下操作完成开发项目配置"),":"),m.default.createElement("h4",null,"1.",v.default.get("customProject41").d("在你的代码包中嵌入需要调用的数据接口，关联活动ID列表可在经验池管理页面查看")),m.default.createElement("h4",null,"2.",v.default.get("customProject42").d("在你的H5代码包中完成数据接口对接后，把代码包上传至代码包页面即可生成自定义项目访问路径"))),m.default.createElement(l.default,{style:{marginLeft:"20px"},onClick:this.previousBtn},v.default.get("Previous").d("上一步")),m.default.createElement(l.default,{style:{marginLeft:"20px"},type:"primary",onClick:this.nextBtn},v.default.get("Ok").d("完成")))}}]),n}(m.Component);var k=(0,h.connect)((function(e,t){return{editOne:e.custom.editOne,linkArr:e.custom.linkArr}}),(function(e){return{saveCustomThree:function(t,a){return e((0,E.saveCustomThree)(t,a))},editCustomOne:function(t,a){return e((0,E.editCustomOne)(t,a))},linkArrProps:function(t,a){return e((0,E.linkArrProps)(t,a))}}}))((0,g.withRouter)(x));t.default=k},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},540:function(e,t,a){"use strict";a.r(t);a(26),a(577),a(584)},544:function(e,t,a){e.exports=a(11)(846)},553:function(e,t,a){e.exports=a(11)(206)},558:function(e,t,a){e.exports=a(11)(251)},563:function(e,t,a){e.exports=a(11)(837)},564:function(e,t,a){"use strict";a.r(t);a(26),a(581),a(140)},565:function(e,t,a){e.exports=a(11)(170)},568:function(e,t,a){e.exports=a(11)(333)},570:function(e,t,a){e.exports=a(11)(99)},577:function(e,t,a){},581:function(e,t,a){"use strict";a.r(t);a(26),a(585)},585:function(e,t,a){},586:function(e,t,a){},590:function(e,t,a){"use strict";a.r(t);a(26),a(597)},591:function(e,t,a){e.exports=a(11)(819)},596:function(e,t,a){e.exports=a(11)(827)},597:function(e,t,a){},616:function(e,t,a){"use strict";a.r(t);a(26),a(652)},617:function(e,t,a){e.exports=a(11)(824)},618:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.exportUsers=t.importUsers=t.getAuditorList=t.getUserList=t.getGroupList=t.getOrgList=void 0;var l=r(a(76)),o=r(a(635)),u=n(a(235)),c=o.default.linkUser,i=c.orgList,d=c.userList,s=c.auditorList,f=c.importUserUrl,p=c.exportUserUrl;t.getOrgList=function(e,t){return function(a){return(0,l.default)({url:i,data:{type:e}}).then((function(e){a({type:u.ORGLIST,data:e.data}),t&&t(e.data)}))}};t.getGroupList=function(e,t,a){return function(t){return(0,l.default)({url:d,data:{type:e,typ:"system"}}).then((function(e){a&&a(e.data)}))}};t.getUserList=function(e,t,a){return function(n){return(0,l.default)({url:d,data:{seachVal:e,type:t}}).then((function(e){1e3==e.code&&a&&a(e.data)}))}};t.getAuditorList=function(e,t){return function(a){return(0,l.default)({url:s,data:e}).then((function(e){t&&t(e.data)}))}};t.importUsers=function(e,t,a){return function(n){return(0,l.default)({url:"".concat(f,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}};t.exportUsers=function(e,t,a){return function(n){return(0,l.default)({url:"".concat(p,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}}},620:function(e,t,a){"use strict";var n=a(19),r=a(16),l=a(85),o=a(36),u=a(21),c=a(45),i=a(153),d=a(81),s=a(14),f=a(66),p=a(78).f,m=a(49).f,g=a(22).f,h=a(236).trim,E=r.Number,v=E.prototype,y="Number"==c(f(v)),S=function(e){var t,a,n,r,l,o,u,c,i=d(e,!1);if("string"==typeof i&&i.length>2)if(43===(t=(i=h(i)).charCodeAt(0))||45===t){if(88===(a=i.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(i.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+i}for(o=(l=i.slice(2)).length,u=0;u<o;u++)if((c=l.charCodeAt(u))<48||c>r)return NaN;return parseInt(l,n)}return+i};if(l("Number",!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var b,x=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof x&&(y?s((function(){v.valueOf.call(a)})):"Number"!=c(a))?i(new E(S(t)),a,x):S(t)},k=n?p(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;k.length>w;w++)u(E,b=k[w])&&!u(x,b)&&g(x,b,m(E,b));x.prototype=v,v.constructor=x,o(r,"Number",x)}},622:function(e,t,a){e.exports=a(11)(854)},624:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),a(3),a(5),a(51),a(20),a(34),a(35),a(23),a(229),a(6),a(569);var l=r(a(558));a(549);var o=r(a(544));a(146);var u=r(a(150));a(574);var c=r(a(565));a(578);var i=r(a(570));a(634);var d=r(a(596));a(99);var s=r(a(100));a(61);var f=r(a(62)),p=r(a(29)),m=r(a(30)),g=r(a(59)),h=r(a(32)),E=r(a(33)),v=r(a(31)),y=r(a(2));a(575);var S=r(a(568));a(537);var b=r(a(536)),x=n(a(1)),k=a(52),w=r(a(649)),C=r(a(141)),T=a(618);function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var I=b.default.Search;var P=S.default.TabPane,_=function(e){(0,h.default)(n,e);var t,a=(t=n,function(){var e,a=(0,v.default)(t);if(O()){var n=(0,v.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,E.default)(this,e)});function n(){var e;(0,p.default)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=a.call.apply(a,[this].concat(r)),(0,y.default)((0,g.default)(e),"search",(function(t,a){var n=e.state.tabKey,r=e.props,l=r.getGroupList,o=r.getUserList,u=r.getAuditorList,c=t.target?t.target.value:t;if(e.setState({value:c}),c){var i=(0,g.default)(e);switch(n){case"3":e.setState({groupLoading:!0}),l(c,(function(e){i.setState({searchGroup:e,groupLoading:!1})}));break;case"2":e.setState({userLoading:!0}),"on"==e.props.onlyUser?u({name:c,pageNo:1,pageSize:10},(function(e){console.log(e,"3444"),i.setState({searchUser:e.records,userLoading:!1,searchData:e})})):o(c,a,(function(e){i.setState({searchUser:e,userLoading:!1})}))}}else f.default.info("请输入关键词")})),(0,y.default)((0,g.default)(e),"closeMode",(function(){e.setState({vsb:!1})})),e.state={selectedItems:[],invisible:!0,departmentFlag:!0,show:!0,orgData:"",searchGroup:[],searchUser:[],tabKey:"2",orgLoading:!1,groupLoading:!1,userLoading:!1,userKeyword:"",groupKeyword:"",value:"",searchData:{records:[],pageRecords:""}},e.tabChange=e.tabChange.bind((0,g.default)(e)),e.removeSelected=e.removeSelected.bind((0,g.default)(e)),e.getSelected=e.getSelected.bind((0,g.default)(e)),e.isExist=e.isExist.bind((0,g.default)(e)),e.search=e.search.bind((0,g.default)(e)),e.onSearchChange=e.onSearchChange.bind((0,g.default)(e)),e}return(0,m.default)(n,[{key:"componentWillMount",value:function(){var e=this,t=this.props.groupTypes;this.props.getOrgList(t,(function(){e.setState({orgData:e.props.orgList})}))}},{key:"componentDidMount",value:function(){console.log("检测打印变量=this.props.initData ",this.props.initData),"research"===this.props.groupTypes&&this.props.initData&&this.props.initData.forEach((function(e){e.relationId&&(e.id=e.relationId)})),this.setState({selectedItems:this.props.initData?this.props.initData:[],invisible:void 0===this.props.invisible,departmentFlag:void 0===this.props.departmentFlag})}},{key:"onSearchChange",value:function(e,t){var a=e.target.value;a.length>50?f.default.info("输入长度不可超过50"):("user"==t?this.setState({userKeyword:a}):this.setState({groupKeyword:a}),"1"==this.state.tabKey&&(a.length>0?this.setState({show:!1}):this.setState({show:!0})))}},{key:"getSelected",value:function(e){var t=this;if(this.isExist(e.id)){var a=this;C.default.confirm(e.name+"已存在，是否删除？",(function(){a.removeSelected(e.id)}))}else{var n={name:e.name,type:this.state.tabKey,id:e.id,fullName:e.fullName,workNum:e.workNum},r=this.state.selectedItems;r.push(n),this.setState({selectedItems:r},(function(){t.props.getData(r),f.default.success("选择成功")}))}}},{key:"listSelect",value:function(e){var t=this;if(console.log("检测打印变量=item ",e),this.isExist(e.id)){var a=this;C.default.confirm(e.name+"已存在，是否删除？",(function(){a.removeSelected(e.id)}))}else{console.log("检测打印变量=this.state.tabKey ",this.state.tabKey);var n={name:e.name,type:this.state.tabKey,id:e.id,fullName:e.fullName,workNum:e.workNum},r=this.state.selectedItems;r.push(n),this.setState({selectedItems:r},(function(){t.props.getData(r),f.default.success("选择成功")}))}}},{key:"tabChange",value:function(e){console.log("key",e),this.setState({tabKey:e})}},{key:"isExist",value:function(e){return this.state.selectedItems.filter((function(t){return t.id==e})).length>0}},{key:"removeSelected",value:function(e){if(!this.props.disabled){var t=this.state.selectedItems.filter((function(t){return t.id!=e}));this.setState({selectedItems:t}),this.props.getData(t)}}},{key:"render",value:function(){var e=this,t=[{title:x.default.createElement("p",{style:{minWidth:"60px",marginTop:"0",marginBottom:"0"}},"用户名"),dataIndex:"name",key:"name",render:function(t,a){return x.default.createElement("a",{onClick:function(){return e.listSelect(a)},style:{whiteSpace:"nowrap"}},x.default.createElement(s.default,{type:"contacts"})," ",t)}},{title:x.default.createElement("p",{style:{minWidth:"50px",marginTop:"0",marginBottom:"0"}},"姓名"),dataIndex:"fullName",key:"fullName"},{title:x.default.createElement("p",{style:{minWidth:"50px",marginTop:"0",marginBottom:"0"}},"工号"),dataIndex:"workNum",key:"workNum"}],a=this.props.types;return"look"==this.props.type?x.default.createElement("div",null,x.default.createElement(c.default,null,x.default.createElement(i.default,{span:24,style:{paddingLeft:15,paddingRight:15}},x.default.createElement("h3",null,"已选择的部门、成员",this.state.departmentFlag?"或用户组":""),x.default.createElement("div",{style:{maxHeight:650,overflowY:"scroll"}},x.default.createElement(d.default,{itemLayout:"horizontal",split:!1,dataSource:this.state.selectedItems,renderItem:function(e){return x.default.createElement(d.default.Item,null,x.default.createElement(d.default.Item.Meta,{title:x.default.createElement("a",null,x.default.createElement(s.default,{type:"contacts"}),e.name)}))}}))))):x.default.createElement("div",null,x.default.createElement(c.default,null,x.default.createElement(i.default,{span:12,style:{paddingLeft:15,paddingRight:15}},x.default.createElement(S.default,{defaultActiveKey:this.state.tabKey,onChange:this.tabChange},x.default.createElement(P,{tab:"用户",key:"2"},x.default.createElement(I,{placeholder:"用户名/姓名/工号",style:{marginBottom:"15px"},max:50,onSearch:function(t){return e.search(t,a)},onPressEnter:function(t){return e.search(t,a)},value:this.state.userKeyword,onChange:function(t){return e.onSearchChange(t,"user")}}),x.default.createElement("div",{style:{height:500,overflowY:"auto"}},x.default.createElement(u.default,{spinning:this.state.userLoading}),x.default.createElement(o.default,{columns:t,dataSource:this.state.searchUser,rowKey:function(e){return e.id},pagination:!1}),"on"==this.props.onlyUser?x.default.createElement(l.default,{style:{textAlign:"right",marginRight:"15px",marginTop:"15px"},onChange:function(t){var a={name:e.state.value,pageNo:t,pageSize:10};e.props.getAuditorList(a,(function(t){console.log(t,"3444"),e.setState({searchUser:t.records,searchData:t,userLoading:!1})}))},showTotal:function(e){return"共计 ".concat(e," 条")},total:this.state.searchData.pageRecords}):"")),this.state.departmentFlag?x.default.createElement(P,{tab:"部门",key:"1",disabled:"on"==this.props.onlyUser},x.default.createElement(w.default,{data:this.state.orgData,getSelect:this.getSelected})):null,this.state.invisible?x.default.createElement(P,{tab:"用户组",key:"3",disabled:"on"==this.props.onlyUser},x.default.createElement(I,{placeholder:"搜索",max:50,onPressEnter:this.search,value:this.state.groupKeyword,onChange:function(t){return e.onSearchChange(t,"group")}}),x.default.createElement("div",{style:{height:500,overflowY:"auto"}},x.default.createElement(u.default,{spinning:this.state.groupLoading}),x.default.createElement(d.default,{itemLayout:"horizontal",split:!1,"data-locale":{emptyText:""},dataSource:this.state.searchGroup,renderItem:function(t){return x.default.createElement(d.default.Item,null,x.default.createElement(d.default.Item.Meta,{title:x.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.listSelect(t)}},x.default.createElement(s.default,{type:"contacts"}),t.name)}))}}))):null)),x.default.createElement(i.default,{span:12,style:{paddingLeft:15,paddingRight:15}},this.props.tabTitle?x.default.createElement("div",null,this.props.tabTitle):x.default.createElement("h3",null,"已选择的部门、成员",this.state.invisible?"或用户组":""),x.default.createElement("div",{style:{maxHeight:650,overflowY:"scroll"}},x.default.createElement(d.default,{itemLayout:"horizontal",split:!1,"data-locale":{emptyText:""},dataSource:this.state.selectedItems,renderItem:function(t){return x.default.createElement(d.default.Item,{actions:[x.default.createElement("a",{onClick:function(){return e.removeSelected(t.id)}},x.default.createElement(s.default,{type:"close"}))]},x.default.createElement(d.default.Item.Meta,{title:1==t.type?x.default.createElement("a",null,x.default.createElement(s.default,{type:"team"})," ",t.name):x.default.createElement("a",null,x.default.createElement("div",null,console.log(t,"item")),x.default.createElement(s.default,{type:"contacts"})," ",t.name," ",t.fullName," ",t.workNum)}))}})))))}}]),n}(x.Component);e.exports=(0,k.connect)((function(e,t){var a=e.linkUserReducer;return{fetching:a.fetching,orgList:a.orgList}}),(function(e){return{getOrgList:function(t,a){return e((0,T.getOrgList)(t,a))},getGroupList:function(t,a){return e((0,T.getGroupList)(t,a))},getUserList:function(t,a,n){return e((0,T.getUserList)(t,a,n))},getAuditorList:function(t,a){return e((0,T.getAuditorList)(t,a))}}}))(_)},628:function(e,t,a){"use strict";a(156),a(35),a(23),a(228),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,r){var l=[];new RegExp(/^\s+/,"i");t||(t="");""===t.trim()&&t.length>0&&l.push(new Error(n,e.field));0==t.length&&e.required&&l.push(new Error(n,e.field));t.length>r&&l.push(new Error("最多支持输入"+r+"个字符以内",e.field));a(l)}},635:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),l={linkUser:{orgList:"GET ".concat(r.default.systemManage,"/org/userGroup/list"),userList:"GET ".concat(r.default.systemManage,"/account/name/search"),auditorList:"GET ".concat(r.default.webManage,"/assignment/get/all/auditor"),importUserUrl:"POST ".concat(r.default.webManage,"/range/import"),exportUserUrl:"GET ".concat(r.default.webManage,"/range/export")}};t.default=l},636:function(e,t,a){e.exports=a(46)(174)},649:function(e,t,a){"use strict";var n=a(4),r=a(0);a(101),a(43),a(51),a(20),a(34),a(35),a(23),a(53),a(61);var l=r(a(62)),o=r(a(29)),u=r(a(30)),c=r(a(59)),i=r(a(32)),d=r(a(33)),s=r(a(31)),f=r(a(2));a(537);var p=r(a(536));a(719);var m=r(a(622)),g=n(a(1));function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var E=m.default.TreeNode,v=p.default.Search,y=function(e){(0,i.default)(n,e);var t,a=(t=n,function(){var e,a=(0,s.default)(t);if(h()){var n=(0,s.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),t=a.call(this,e),(0,f.default)((0,c.default)(t),"onExpand",(function(e){t.setState({expandedKeys:e,autoExpandParent:!1})})),(0,f.default)((0,c.default)(t),"onChange",(function(e){var a=e.target.value;if(a.length>50)l.default.info("关键词长度最大为50");else{var n=(0,c.default)(t);a?t.setState({searchValue:a,expandedKeys:[]},(function(){for(var e=0;e<t.props.data.trees.length;e++)n.getExpandedKeys(t.props.data.trees[e].children,a,""+e)})):(t.setState({searchValue:a}),t.setDefaultExpandKeys())}})),t.state={expandedKeys:[],searchValue:"",autoExpandParent:!0},t.loop=t.loop.bind((0,c.default)(t)),t.onSelect=t.onSelect.bind((0,c.default)(t)),t.getExpandedKeys=t.getExpandedKeys.bind((0,c.default)(t)),t.renderTree=t.renderTree.bind((0,c.default)(t)),t.setDefaultExpandKeys=t.setDefaultExpandKeys.bind((0,c.default)(t)),t}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.setDefaultExpandKeys()}},{key:"setDefaultExpandKeys",value:function(){var e=this.props.data.trees.map((function(e,t){return""+t}));this.setState({expandedKeys:e})}},{key:"onSelect",value:function(e,t){this.props.getSelect(t.node.props.dataRef)}},{key:"getExpandedKeys",value:function(e,t,a){var n=this,r=this.state.expandedKeys;e.map((function(e){if(e.name.indexOf(t)>=0){for(var l=a.split("&&&"),o=0;o<l.length;o++)-1==r.indexOf(l[o])&&l[o]&&r.push(l[o]);r.push(e.id)}if(e.children.length>0){var u="";u+=a?a+"&&&"+e.id:e.id,n.getExpandedKeys(e.children,t,u)}})),this.setState({expandedKeys:r})}},{key:"loop",value:function(e){var t=this,a=this.state.searchValue,n=[];return e.length>0&&(n=e.map((function(e){var n=e.name.indexOf(a),r=e.name.substr(0,n),l=e.name.substr(n+a.length),o=n>-1?g.default.createElement("span",null,r,g.default.createElement("span",{style:{color:"#f50"}},a),l):g.default.createElement("span",null,e.name);return g.default.createElement(E,{key:e.id,title:o,dataRef:e},t.loop(e.children))}))),n}},{key:"renderTree",value:function(e){var t=this,a=[],n=this.state.expandedKeys;return e&&(a=e.trees.map((function(e,a){return g.default.createElement(m.default,{onSelect:t.onSelect,onExpand:t.onExpand,expandedKeys:n,autoExpandParent:!1,key:a},g.default.createElement(E,{key:a,title:e.name,dataRef:e},t.loop(e.children)))}))),a}},{key:"render",value:function(){return g.default.createElement("div",null,g.default.createElement(v,{placeholder:"部门名称",max:50,style:{marginBottom:8},value:this.state.searchValue,onChange:this.onChange}),g.default.createElement("div",{style:{height:500,overflowY:"auto"}},this.renderTree(this.props.data)))}}]),n}(g.Component);e.exports=y},652:function(e,t,a){},799:function(e,t,a){"use strict";a.r(t);a(26),a(810)},800:function(e,t,a){e.exports=a(11)(844)},810:function(e,t,a){}}]);