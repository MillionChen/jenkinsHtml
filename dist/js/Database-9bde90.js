(window.webpackJsonp=window.webpackJsonp||[]).push([[64,4],{1003:function(e,t,a){"use strict";var n=a(4),l=a(0);a(44),a(3),a(101),a(227),a(43),a(143),a(20),a(34),a(35),a(23),a(53),a(99);var i=l(a(100));a(537);var s=l(a(536));a(144);var o=l(a(230));a(648);var d=l(a(619)),r=l(a(79));a(61);var u=l(a(62)),f=l(a(29)),c=l(a(30)),p=l(a(59)),h=l(a(32)),m=l(a(33)),g=l(a(31)),y=l(a(2)),v=n(a(1));function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){(0,h.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(b()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;return(0,f.default)(this,n),t=a.call(this,e),(0,y.default)((0,p.default)(t),"saveInputRef",(function(e){return t.input=e})),t.props.init&&t.props.init((0,p.default)(t)),console.log(t.props.defaultTags,"回显938"),t.state={tags:t.props.defaultTags?t.props.defaultTags:[],inputVisible:!1,inputValue:""},t.showInput=t.showInput.bind((0,p.default)(t)),t.handleClose=t.handleClose.bind((0,p.default)(t)),t.handleInputConfirm=t.handleInputConfirm.bind((0,p.default)(t)),t.handleInputChange=t.handleInputChange.bind((0,p.default)(t)),t.props.defaultTags&&t.props.getTags(t.props.defaultTags),t}return(0,c.default)(n,[{key:"initTags",value:function(e){this.setState({tags:e})}},{key:"handleClose",value:function(e){var t=this.state.tags.filter((function(t){return t!==e}));this.setState({tags:t});var a=this.props.getTags;a&&a(t)}},{key:"showInput",value:function(){var e=this;this.state.tags&&this.state.tags.length>=5?u.default.error("最多只能添加5个"):this.setState({inputVisible:!0},(function(){return e.input.focus()}))}},{key:"handleInputChange",value:function(e){var t=e.target.value.split(" ");this.setState({inputValue:t.join("")})}},{key:"componentWillReceiveProps",value:function(e){if(!this.state.tags.length&&e.defaultTags.length){console.log("oldTags",e.defaultTags);var t=e.defaultTags.join(","),a=!1;this.props.defaultTags.length?t!=this.props.defaultTags.join(",")&&(a=!0):a=!0,a&&(this.setState({tags:e.defaultTags}),this.props.getTags(e.defaultTags))}}},{key:"handleInputConfirm",value:function(e){if(e.target.value.length>10)return console.log("长度不可超过10，请重新输入..."),u.default.error("长度不可超过10，请重新输入..."),void this.setState({inputValue:"",inputVisible:!1});var t=this.props.getTags,a=this.state,n=a.inputValue,l=a.tags;l||(l=[]),n&&-1===l.indexOf(n)&&(l=[].concat((0,r.default)(l),[n])),t&&t(l),this.setState({tags:l,inputVisible:!1,inputValue:"",focus:!0})}},{key:"render",value:function(){var e=this,t=this.props.disabled,a=this.state,n=a.tags,l=a.inputVisible,r=a.inputValue;return n||(n=[]),t?v.default.createElement("div",{style:{float:"left"}},n.map((function(e,t){var a=e.length>20,n=v.default.createElement(d.default,{key:e,closable:!1,onClose:function(){}},a?"".concat(e.slice(0,20),"..."):e);return a?v.default.createElement(o.default,{title:e,key:e},n):n}))):v.default.createElement("div",{style:{float:"left"}},l&&v.default.createElement(s.default,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78,display:this.props.disable?"none":"inline-block"},value:r,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!l&&v.default.createElement(d.default,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed",display:this.props.disable?"none":"inline-block"}},v.default.createElement(i.default,{type:"plus"})," 添加"),n.map((function(t,a){var n=t.length>20,l=v.default.createElement(d.default,{key:t,closable:e.props.disable?a<0:a>=0,onClose:function(){return e.handleClose(t)}},n?"".concat(t.slice(0,20),"..."):t);return n?v.default.createElement(o.default,{title:t,key:t},l):l})))}}]),n}(v.default.Component);e.exports=C},1008:function(e,t,a){},1293:function(e,t,a){},1711:function(e,t,a){"use strict";var n=a(4),l=a(0);a(7),a(154),a(3),a(5),a(103),a(227),a(43),a(51),a(9),a(10),a(8),a(20),a(34),a(35),a(23),a(148),a(53),a(6),a(151),a(710),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(764);var i=l(a(765));a(540);var s=l(a(539)),o=l(a(98));a(144);var d=l(a(230));a(99);var r=l(a(100));a(592);var u=l(a(566));a(140);var f=l(a(535));a(61);var c=l(a(62)),p=l(a(29)),h=l(a(30)),m=l(a(59)),g=l(a(32)),y=l(a(33)),v=l(a(31)),b=l(a(2));a(537);var C=l(a(536));a(554);var E=l(a(550));a(719);var S=l(a(622));a(224);var w=l(a(225)),k=n(a(1)),D=l(a(226)),U=l(a(1712)),x=l(a(1713)),T=l(a(223)),_=l(a(1003)),M=l(a(157)),O=l(a(1714)),I=a(52),P=a(1715),N=l(a(106));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){return function(){var t,a=(0,v.default)(e);if(z()){var n=(0,v.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,y.default)(this,t)}}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var V=w.default.confirm,A=S.default.TreeNode,F=E.default.Option,j=C.default.TextArea,K=function(e){(0,g.default)(a,e);var t=L(a);function a(e){var n,l;return(0,p.default)(this,a),l=t.call(this,e),(0,b.default)((0,m.default)(l),"saveFormRef",(function(e){l.formRef=e})),(0,b.default)((0,m.default)(l),"getTags",(function(e){l.setState({keywords:e.join()}),console.log(e.join(),"任务938")})),(0,b.default)((0,m.default)(l),"download",(function(){var e=l.state.selectedRowKeys,t=(sessionStorage.getItem("getToken"),(0,m.default)(l));0==e.length?w.default.info({title:N.default.get("albumManagement84")||"请至少选择一条记录",onOk:function(){}}):V({title:"",content:N.default.get("albumManagement85")||"确认下载"+e.length+N.default.get("Records")||"条记录",onOk:function(){console.log("OK");var a=t.getUrlById(e),n={method:"get",responseType:"arraybuffer"};a.map((function(e){n.url=e.url,(0,M.default)(n).then((function(a){t.saveShareContent(a.data,e.fileName,e.suffixName)}))})),t.downloadById(e)},onCancel:function(){console.log("Cancel")}})})),(0,b.default)((0,m.default)(l),"downloadById",(function(e){var t=(0,m.default)(l).getUrlById(e),a={method:"get",responseType:"arraybuffer"};t.map((function(e){a.url=e.url,(0,M.default)(a).then((function(e){e.status}))}))})),(0,b.default)((0,m.default)(l),"saveShareContent",(function(e,t){var a=document.createElement("a");a.download=t;var n=new Blob([e],{type:"text/plain;charset=UTF-8"}),l=window.URL.createObjectURL(n);a.href=l,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(l),document.body.removeChild(a)})),(0,b.default)((0,m.default)(l),"getUrlById",(function(e){var t=l.state.tableList.records,a={},n=[];return t.map((function(e,t){a[e.id]=e})),e.map((function(e){a[e]&&n.push(a[e])})),n})),(0,b.default)((0,m.default)(l),"getTime",(function(e){var t=e.length?(0,T.default)(e[0]).format("YYYY-MM-DD"):"",a=e.length?(0,T.default)(e[1]).format("YYYY-MM-DD"):"";l.setState({startTime:t,endTime:a})})),(0,b.default)((0,m.default)(l),"updateSelectedKeys",(function(e){l.setState({selectedRowKeys:e})})),l.state=(n={gData:[],visible:!1,visible2:!1,gData2:[],lastdepartment:"",lastid:"",inside:!0,outside:!1,updata:!0,layer:1,rootId:"0",item:"",type:1,xlastid:"",tableList:"",name:"",ziliaotype:"",uploadModal:!1,infotype:"add",isTablelist:!1,revisible:!1,pageNo:1,pageSize:10},(0,b.default)(n,"type","no"),(0,b.default)(n,"keywords",""),(0,b.default)(n,"startTime",""),(0,b.default)(n,"endTime",""),(0,b.default)(n,"selectedRowKeys",[]),(0,b.default)(n,"randomkey","123"),n),l}return(0,h.default)(a,[{key:"handleCanceluploadModal",value:function(e){this.setState({uploadModal:!1})}},{key:"handleOkuploadModal",value:function(){var e=this,t=this.state,a=(t.pageNo,t.pageSize,t.type,this.formRef.props.form);a.validateFields((function(t,n){if(!t){if(console.log("资料上传 values==",n),0==("add"!=e.state.infotype&&e.state.info.url==n.upload[0].fileUrl)&"done"!=n.upload[0].status)return c.default.warning(N.default.get("Uploading")||"上传中..."),!1;if(!(n.upload[0].size/1024/1024<50))return c.default.error(N.default.get("albumManagement83")||"资料大小不能超过50M!"),!1;var l={classfyId:e.state.lastid,fileName:n.upload[0].name,fileSize:n.upload[0].size,name:n.name,suffixName:n.upload[0].name.split(".").pop().toLowerCase(),url:n.upload[0].fileUrl,uuId:n.upload[0].uid,keywords:e.state.keywords};"add"==e.state.infotype?(console.log("资料上传 ",l),e.props.databaseCategoryUpload(l,(function(t){1e3==t.code&&(e.state.isTablelist?e.query():e.tableList(1,10,"no"))}))):(l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,b.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,{id:e.state.ziliaoid}),console.log("修改资料上传 ",e.state.pageNo,e.state.type),e.props.databaseCategoryUploadUpdata(l,(function(t){1e3==t.code&&(e.setState({pageNo:e.state.pageNo}),c.default.success(t.data),e.state.isTablelist,e.tableList(e.state.pageNo,e.state.pageSize))}))),a.resetFields(),e.setState({uploadModal:!1},(function(){}))}}))}},{key:"componentDidMount",value:function(){this.databaseCategoryList(),this.databaseCategoryListfalse(),this.tableList()}},{key:"Keyword",value:function(e){this.setState({name:e.target.value})}},{key:"ziliaotype",value:function(e){this.setState({ziliaotype:e})}},{key:"query",value:function(){this.tableList()}},{key:"tableList",value:function(e,t,a){var n=this;console.log(e,"pageNo");var l={classifyId:"no"==a?"":this.state.lastid,name:this.state.name,pageNo:e||1,pageSize:t||10,type:this.state.ziliaotype,startDate:this.state.startTime,endDate:this.state.endTime};this.props.getDatabaseList(l,(function(e){if(1e3==e.code){var t=n.props.databaseList,a=void 0===t?{}:t;n.setState({tableList:a,pageNo:a.current})}}))}},{key:"databaseCategoryList",value:function(){var e=this;this.props.databaseCategoryList({showThirdClassfy:!0},(function(t){1e3==t.code&&e.setState({gData:t.data})}))}},{key:"databaseCategoryListfalse",value:function(){var e=this;this.props.databaseCategoryList({showThirdClassfy:!1},(function(t){1e3==t.code&&e.setState({gData2:t.data})}))}},{key:"onSelect",value:function(e,t){var a=this;console.log(e,t),console.log("ref",t.node.props.dateRef),this.setState({lastdepartment:t.node.props.dateRef.classifyVo.codeName,inside:!1,updata:!1,lastid:t.node.props.dateRef.classifyVo.id,layer:t.node.props.dateRef.classifyVo.layer,rootId:t.node.props.dateRef.classifyVo.rootId,item:t.node.props.dateRef.classifyVo,isTablelist:!0},(function(){a.tableList()})),3==t.node.props.dateRef.classifyVo.layer?this.setState({inside:!0}):this.setState({inside:!1})}},{key:"addone",value:function(e){1==e&&this.setState({visible:!0,type:1,uptitle:N.default.get("comment20")||"添加一级分类"}),2==e&&this.setState({visible2:!0}),5==e&&this.setState({uploadModal:!0,infotype:"add",randomkey:Math.random()}),3==e&&1==this.state.item.layer&&this.setState({visible:!0,type:3,uptitle:N.default.get("comment22")||"修改分类"}),3==e&&1!==this.state.item.layer&&this.setState({visible3:!0}),4==e&&this.setState({revisible:!0})}},{key:"revisibleOk",value:function(){var e=this,t=this,a={id:this.state.lastid};this.props.databaseCategoryremove(a,(function(a){1e3==a.code?(c.default.success(a.data),setTimeout((function(){t.databaseCategoryList()}),500),e.setState({revisible:!1})):c.default.error(a.subMsg)}))}},{key:"revisibleCancel",value:function(){this.setState({revisible:!1})}},{key:"handleCancel",value:function(e){this.setState({visible:!1})}},{key:"handleOk",value:function(){var e=this,t=this,a=this.formRef.props.form;a.validateFields((function(n,l){if(!n){if(1==e.state.type){var i={name:l.name,description:l.description,parentId:0,rootId:0};e.props.databaseCategoryAdd(i,(function(e){1e3==e.code&&c.default.success(e.data)}))}else{i={name:l.name,description:l.description,parentId:"",id:e.state.item.id};e.props.databaseCategoryUpdata(i,(function(e){1e3==e.code&&c.default.success(e.data)}))}console.log("一级分类 ",l),a.resetFields(),e.setState({visible:!1},(function(){setTimeout((function(){t.databaseCategoryList()}),500)}))}}))}},{key:"handleCancel2",value:function(e){this.setState({visible2:!1})}},{key:"handleOk2",value:function(){var e=this,t=this,a=this.formRef.props.form;a.validateFields((function(n,l){if(!n){if(1==e.state.layer)var i={name:l.dname,description:l.description,parentId:e.state.lastid,rootId:0};if(2==e.state.layer)i={name:l.dname,description:l.description,parentId:e.state.lastid,rootId:e.state.rootId};e.props.databaseCategoryAdd(i,(function(e){1e3==e.code&&c.default.success(e.data)})),console.log("子分类 ",l),a.resetFields(),e.setState({visible2:!1},(function(){setTimeout((function(){t.databaseCategoryList()}),500)}))}}))}},{key:"handleCancel3",value:function(e){this.setState({visible3:!1})}},{key:"handleOk3",value:function(){var e=this,t=this,a=this.formRef.props.form;a.validateFields((function(n,l){if(!n){var i={name:l.name,description:l.description,parentId:e.state.xlastid?e.state.xlastid:e.state.item.parentId,id:e.state.item.id};e.props.databaseCategoryUpdata(i,(function(e){1e3==e.code&&c.default.success(e.data)})),console.log("子分类 ",l),a.resetFields(),e.setState({visible3:!1},(function(){setTimeout((function(){t.databaseCategoryList()}),500)}))}}))}},{key:"onChange",value:function(e,t){console.log("onChange",e.split(",")[0],t),this.setState({lastid:e.split(",")[0],layer:e.split(",")[2]})}},{key:"onChange1",value:function(e,t){console.log("onChange",e.split(",")[0],t),this.setState({xlastid:e.split(",")[0]})}},{key:"handlePageChange",value:function(e,t){var a=this;this.setState({pageNo:e,pageSize:t},(function(){console.log("handlePageChange",a.state.pageNo,a.state.pageSize)})),this.tableList(e,t)}},{key:"handlePageSizeChange",value:function(e,t){var a=this;this.setState({pageNo:1,pageSize:t},(function(){console.log("handlePageSizeChange",a.state.pageNo,a.state.pageSize)})),this.tableList(1,t)}},{key:"uploadUpdata",value:function(e){console.log(this.state.pageNo,"uploadUpdata",e),this.setState({uploadModal:!0,info:e,infotype:"updata",ziliaoid:e.id,lastid:e.classifyId,keywords:e.keywords})}},{key:"uploadDelete",value:function(e){var t=this,a={id:e.id,needDelete:!0};this.props.databaseCategoryDelete(a,(function(e){1e3==e.code?(c.default.success(e.data),t.state.isTablelist?t.tableList():t.tableList(1,10,"no")):c.default.error(e.data)}))}},{key:"export",value:function(){var e={classifyId:this.state.lastid,name:this.state.name,type:this.state.ziliaotype,enableFilter:!1};this.props.databaseCategoryExport(e,(function(e){1e3==e.code?c.default.success(e.data):c.default.error(e.data)}))}},{key:"render",value:function(){var e=this;console.log("this.state==",this.state);var t=[];console.log(this.props,"关键词"),this.state.keywords&&(t=this.state.keywords.split(",")),"add"==this.state.infotype&&(t=[]);var a={defaultTags:t,getTags:this.getTags};return k.default.createElement("div",{className:O.default.database_manage_body},k.default.createElement(D.default,{title:N.default.get("albumManagement86")||"我的资料库"}),k.default.createElement("div",{className:O.default.body_left},k.default.createElement("div",{className:O.default.left_head},k.default.createElement(f.default,{type:"primary",disabled:this.state.outside,onClick:function(){return e.addone(1)}},N.default.get("onlineDatabase1")||"添加一级分类"),k.default.createElement(f.default,{type:"primary",disabled:this.state.inside,onClick:function(){return e.addone(2)}},N.default.get("AddSubcategory")||"添加子分类"),k.default.createElement(f.default,{type:"primary",disabled:this.state.updata,onClick:function(){return e.addone(3)}},N.default.get("comment22")||"修改分类"),k.default.createElement(f.default,{type:"primary",disabled:this.state.updata,onClick:function(){return e.addone(4)}},N.default.get("DeleteCategory")||"删除分类"),k.default.createElement(f.default,{type:"primary",disabled:this.state.updata,onClick:function(){return e.addone(5)}},N.default.get("comment11")||"上传资料")),k.default.createElement(S.default,{className:"draggable-tree",defaultExpandedKeys:this.state.expandedKeys,blockNode:!0,onSelect:function(t,a){return e.onSelect(t,a)}},function e(t){return t.map((function(t){return t.children&&t.children.length?k.default.createElement(A,{key:t.classifyVo.id,dateRef:t,title:t.classifyVo.codeName},e(t.children)):k.default.createElement(A,{key:t.classifyVo.id,dateRef:t,title:t.classifyVo.codeName})}))}(this.state.gData))),k.default.createElement("div",{className:O.default.body_right},k.default.createElement("div",{className:O.default.right_head},k.default.createElement("div",{className:O.default.right_head_item},k.default.createElement("span",null,N.default.get("Statisitic27")||"关键字（词）",":  "),k.default.createElement(C.default,{className:O.default.search_input,placeholder:N.default.get("albumManagement87")||"请输入资料名称、资料编码、自定义关键词",onChange:function(t){return e.Keyword(t)}})),k.default.createElement("div",{className:O.default.right_head_item},k.default.createElement("span",null,N.default.get("onlineDatabase6")||"资料类型",":  "),k.default.createElement(E.default,{defaultValue:"全部",style:{width:66},onChange:function(t){return e.ziliaotype(t)}},k.default.createElement(F,{key:"0",value:""},N.default.get("All")||"全部"),k.default.createElement(F,{key:"1",value:"1"},N.default.get("albumManagement88")||"文档"),k.default.createElement(F,{key:"2",value:"2"},N.default.get("Picture")||"图片"),k.default.createElement(F,{key:"3",value:"3"},N.default.get("Audio")||"音频"),k.default.createElement(F,{key:"4",value:"4"},N.default.get("Video")||"视频"),k.default.createElement(F,{key:"5",value:"5"},N.default.get("Other")||"其他"))),k.default.createElement("div",{className:O.default.right_head_item},k.default.createElement("span",null,N.default.get("albumManagement89")||"上传时间段",":  "),k.default.createElement(u.default.RangePicker,{showTime:!0,format:"YYYY-MM-DD HH:mm",onChange:this.getTime,style:{marginRight:15,width:"200px"}})),k.default.createElement(f.default,{type:"primary",onClick:function(){return e.query()}},N.default.get("Find")||"查询")),k.default.createElement("div",{className:O.default.right_main},k.default.createElement("div",{className:O.default.table_top},k.default.createElement(d.default,{placement:"left",title:function(){return k.default.createElement("div",null,N.default.get("albumManagement90")||"为更好的体验功能，建议对浏览器做如下设置",":",k.default.createElement("br",null),"1)",N.default.get("albumManagement91")||"设置默认保存地址",k.default.createElement("br",null),"2)",N.default.get("albumManagement92")||"关闭'下载前询问每个文件的保存位置'设置")}},k.default.createElement(r.default,{type:"question-circle",style:{cursor:"pointer"}})),k.default.createElement(f.default,{type:"primary",className:O.default.btn_download,onClick:function(){return e.download()}},N.default.get("albumManagement93")||"下载"),k.default.createElement(f.default,{type:"primary",onClick:function(){e.export()}},N.default.get("onlineDatabase8")||"导出资料列表")),k.default.createElement(U.default,{pageSize:this.state.pageSize,pageNo:this.state.pageNo,uploadDelete:this.uploadDelete.bind(this),updateSelectedKeys:this.updateSelectedKeys,selectedRowKeys:this.state.selectedRowKeys,downloadById:this.downloadById,uploadUpdata:this.uploadUpdata.bind(this),list:this.state.tableList,handlePageChange:this.handlePageChange.bind(this),handlePageSizeChange:this.handlePageSizeChange.bind(this),databaseCategoryDelete:this.props.databaseCategoryDelete}))),k.default.createElement(w.default,{width:400,title:N.default.get("albumManagement94")||"删除提醒",visible:this.state.revisible,onOk:this.revisibleOk.bind(this),onCancel:this.revisibleCancel.bind(this),destroyOnClose:1},k.default.createElement("div",{style:{textAlign:"center"}},k.default.createElement(r.default,{style:{fontSize:"60px",color:"#1890ff"},type:"exclamation-circle"})),k.default.createElement("div",{style:{textAlign:"center",padding:"20px 0"}},N.default.get("albumManagement95")||"确定删除该分类，删除后不可恢复")),k.default.createElement(w.default,{width:600,title:this.state.uptitle,visible:this.state.visible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),destroyOnClose:1},k.default.createElement(Y,{sendToParent:this.saveFormRef,type:this.state.type,item:this.state.item,databaseCategoryGet:this.props.databaseCategoryGet})),k.default.createElement(w.default,{width:600,title:N.default.get("AddSubcategory")||"添加子分类",visible:this.state.visible2,onOk:this.handleOk2.bind(this),onCancel:this.handleCancel2.bind(this),destroyOnClose:1},k.default.createElement(q,{onChange:this.onChange.bind(this),sendToParent:this.saveFormRef,lastdepartment:this.state.lastdepartment,gData:this.state.gData2,databaseCategoryGet:this.props.databaseCategoryGet})),k.default.createElement(w.default,{width:600,title:N.default.get("comment22")||"修改分类",visible:this.state.visible3,onOk:this.handleOk3.bind(this),onCancel:this.handleCancel3.bind(this),destroyOnClose:1},k.default.createElement(B,{onChange:this.onChange1.bind(this),sendToParent:this.saveFormRef,item:this.state.item,gData:this.state.gData2,databaseCategoryGet:this.props.databaseCategoryGet})),k.default.createElement(w.default,{width:600,title:N.default.get("albumManagement96")||"资料上传",visible:this.state.uploadModal,onOk:this.handleOkuploadModal.bind(this),onCancel:this.handleCanceluploadModal.bind(this),destroyOnClose:1,key:this.state.randomkey},k.default.createElement(x.default,{info:this.state.info,infotype:this.state.infotype,sendToParent:this.saveFormRef}),k.default.createElement("div",{style:{float:"left"}},N.default.get("CustomKeyswords")||"自定义关键词","： "),k.default.createElement(_.default,(0,o.default)({key:this.state.randomkey},a))))}}]),a}(k.Component);var G=(0,I.connect)((function(e,t){return{databaseList:e.databaseReducer.databaseList}}),(function(e){return{getDatabaseList:function(t,a){return e((0,P.getDatabaseList)(t,a))},databaseCategoryList:function(t,a){return e((0,P.databaseCategoryList)(t,a))},databaseCategoryremove:function(t,a){return e((0,P.databaseCategoryremove)(t,a))},databaseCategoryAdd:function(t,a,n){return e((0,P.databaseCategoryAdd)(t,a,n))},databaseCategoryUpdata:function(t,a){return e((0,P.databaseCategoryUpdata)(t,a))},databaseCategoryUpload:function(t,a){return e((0,P.databaseCategoryUpload)(t,a))},databaseCategoryUploadUpdata:function(t,a){return e((0,P.databaseCategoryUploadUpdata)(t,a))},databaseCategoryDelete:function(t,a){return e((0,P.databaseCategoryDelete)(t,a))},databaseCategoryExport:function(t,a){return e((0,P.databaseCategoryExport)(t,a))},databaseCategoryGet:function(t,a){return e((0,P.databaseCategoryGet)(t,a))}}}))(s.default.create()(K));t.default=G;var Y=s.default.create()(function(e){(0,g.default)(a,e);var t=L(a);function a(e){var n;return(0,p.default)(this,a),(n=t.call(this,e)).state={item:""},n}return(0,h.default)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.props.type),1!==this.props.type){var t={id:this.props.item.id};this.props.databaseCategoryGet(t,(function(t){1e3==t.code&&e.setState({item:t.data})}))}else this.setState({item:""});this.props.sendToParent(this)}},{key:"render",value:function(){var e={labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},t=this.props,a=t.form,n=(t.type,this.state.item),l=a.getFieldDecorator;return k.default.createElement("div",null,k.default.createElement(s.default,null,k.default.createElement(s.default.Item,(0,o.default)({label:N.default.get("comment25")||"一级分类名称"},e),l("name",{rules:[{required:!0,message:N.default.get("albumManagement97")||"一级分类名称不能为空！"},{max:20,message:N.default.get("albumManagement98")||"最多输入20个字"}],initialValue:n.name?n.name:""})(k.default.createElement(C.default,{placeholder:N.default.get("PleaseEnterCategoryName")||"请输入分类名称"}))),k.default.createElement(s.default.Item,(0,o.default)({label:N.default.get("ClassificationDescription")||"分类描述"},e),l("description",{rules:[{max:50,message:N.default.get("MaxInp50Chars")||"最多输入50个字"}],initialValue:n.description?n.description:""})(k.default.createElement(j,{placeholder:N.default.get("caseadmin89")||"请输入子分类描述",rows:4})))))}}]),a}(k.Component)),q=s.default.create()(function(e){(0,g.default)(a,e);var t=L(a);function a(e){var n;return(0,p.default)(this,a),(n=t.call(this,e)).state={},n}return(0,h.default)(a,[{key:"componentDidMount",value:function(){this.props.sendToParent(this)}},{key:"render",value:function(){var e={labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},t=this.props.form.getFieldDecorator,a=this.props.gData,n=this.props.lastdepartment;return function e(t){for(var a=0;a<t.length;a++)t[a].key=t[a].classifyVo.id,t[a].title=t[a].classifyVo.codeName,t[a].value=t[a].classifyVo.id+","+t[a].classifyVo.name+","+t[a].classifyVo.layer,null!=t[a].children&&t[a].children.length>0&&e(t[a].children)}(a),k.default.createElement("div",{id:"ModalTwo"},k.default.createElement(s.default,null,k.default.createElement(s.default.Item,(0,o.default)({label:N.default.get("cred47")||"上级分类名称"},e),t("name",{rules:[{required:!0,message:N.default.get("SelectNepartment")||"选择部门"}],initialValue:n||""})(k.default.createElement(i.default,{showSearch:!0,style:{width:300},treeData:a,placeholder:N.default.get("SelectNepartment")||"选择部门",searchPlaceholder:N.default.get("PleaseInputDepName")||"请输入部门名称",dropdownStyle:{width:300,maxHeight:300,overflow:"auto"},allowClear:!0,onChange:this.props.onChange}))),k.default.createElement(s.default.Item,(0,o.default)({label:N.default.get("albumManagement99")||"子分类名称"},e),t("dname",{rules:[{required:!0,message:N.default.get("albumManagement100")||"分类名称不能为空！"},{max:20,message:N.default.get("albumManagement98")||"最多输入20个字"}],initialValue:""})(k.default.createElement(C.default,{placeholder:N.default.get("albumManagement101")||"请输入子分类名称"}))),k.default.createElement(s.default.Item,(0,o.default)({label:N.default.get("ClassificationDescription")||"分类描述"},e),t("description",{rules:[{max:50,message:N.default.get("MaxInp50Chars")||"最多输入50个字"}],initialValue:""})(k.default.createElement(j,{placeholder:N.default.get("caseadmin89")||"请输入子分类描述",rows:4})))))}}]),a}(k.Component)),B=s.default.create()(function(e){(0,g.default)(a,e);var t=L(a);function a(e){var n;return(0,p.default)(this,a),(n=t.call(this,e)).state={item:""},n}return(0,h.default)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(111,this.props.item);var t={id:this.props.item.id};this.props.databaseCategoryGet(t,(function(t){1e3==t.code&&(console.log(123,t.data),e.setState({item:t.data}))})),this.props.sendToParent(this)}},{key:"render",value:function(){var e={labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},t=this.props.form,a=this.state.item,n=t.getFieldDecorator,l=this.props.gData;return function e(t){for(var a=0;a<t.length;a++)t[a].key=t[a].classifyVo.id,t[a].title=t[a].classifyVo.codeName,t[a].value=t[a].classifyVo.id+","+t[a].classifyVo.name+","+t[a].classifyVo.layer,null!=t[a].children&&t[a].children.length>0&&e(t[a].children)}(l),k.default.createElement("div",{id:"ModalThree"},k.default.createElement(s.default,null,k.default.createElement(s.default.Item,(0,o.default)({label:N.default.get("cred47")||"上级分类名称"},e),n("parentName",{rules:[{required:!0,message:N.default.get("SelectNepartment")||"选择部门"}],initialValue:a.parentName?a.parentName:""})(k.default.createElement(i.default,{showSearch:!0,style:{width:300},treeData:l,placeholder:N.default.get("SelectNepartment")||"选择部门",searchPlaceholder:N.default.get("PleaseInputDepName")||"请输入部门名称",dropdownStyle:{width:300,maxHeight:300,overflow:"auto"},allowClear:!0,onChange:this.props.onChange}))),k.default.createElement(s.default.Item,(0,o.default)({label:N.default.get("albumManagement99")||"子分类名称"},e),n("name",{rules:[{required:!0,message:N.default.get("albumManagement100")||"分类名称不能为空！"},{max:20,message:N.default.get("albumManagement98")||"最多输入20个字"}],initialValue:a.name?a.name:""})(k.default.createElement(C.default,{placeholder:N.default.get("albumManagement101")||"请输入子分类名称"}))),k.default.createElement(s.default.Item,(0,o.default)({label:N.default.get("ClassificationDescription")||"分类描述"},e),n("description",{rules:[{max:50,message:N.default.get("MaxInp50Chars")||"最多输入50个字"}],initialValue:a.description?a.description:""})(k.default.createElement(j,{placeholder:N.default.get("caseadmin89")||"请输入子分类描述",rows:4})))))}}]),a}(k.Component))},1712:function(e,t,a){"use strict";var n=a(4),l=a(0);a(103),a(20),a(86),a(34),a(23),a(148),a(151),a(710),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var i=l(a(225));a(99);var s=l(a(100));a(549);var o=l(a(544)),d=l(a(29)),r=l(a(30)),u=l(a(59)),f=l(a(32)),c=l(a(33)),p=l(a(31)),h=l(a(2)),m=n(a(1)),g=l(a(223)),y=l(a(106));function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){(0,f.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(v()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,d.default)(this,n),t=a.call(this,e),(0,h.default)((0,u.default)(t),"onSelectChange",(function(e){console.log("selectedRowKeys changed: ",e),t.props.updateSelectedKeys(e)})),t.state={visible:!1,message:"",text:"",pageNo:1,pageSize:10},t}return(0,r.default)(n,[{key:"handleCancel",value:function(e){this.setState({visible:!1})}},{key:"handleOk",value:function(){this.props.uploadDelete(this.state.text),this.setState({visible:!1})}},{key:"isremove",value:function(e){var t=this,a={id:e.id,needDelete:!1};this.props.databaseCategoryDelete(a,(function(a){1e3==a.code&&t.setState({message:a.data,visible:!0,text:e})}))}},{key:"down",value:function(e){fetch(e.url).then((function(e){return console.log(e.headers.get("Content-Type")),console.log(e.headers),e.blob()})).then((function(t){var a=URL.createObjectURL(t),n=document.createElement("a"),l=e.fileName;n.href=a,n.download=l,n.click()}))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.pageNo,t.selectedRowKeys),n=this.props.list.records,l=this.props.list.total,d=[{fixed:"left",title:y.default.get("onlineDatabase5")||"资料编码",dataIndex:"codeName",key:"codeName",width:150},{title:y.default.get("onlineDatabase4")||"资料名称",dataIndex:"name",width:150,render:function(e,t){return m.default.createElement("div",null,e)}},{title:y.default.get("onlineDatabase6")||"资料类型",dataIndex:"type",width:120,render:function(e,t){return m.default.createElement("span",{style:{display:"inline-block",width:"80px"}}," ",function(){switch(e){case 1:return y.default.get("albumManagement88")||"文档";case 2:return y.default.get("Picture")||"图片";case 3:return y.default.get("Audio")||"音频";case 4:return y.default.get("Video")||"视频";case 5:return y.default.get("Other")||"其他";default:return null}}())}},{title:y.default.get("onlineDatabase3")||"上传者",dataIndex:"createAccounName",width:80,render:function(e,t){return m.default.createElement("div",{style:{width:"60px"}},e)}},{title:y.default.get("onlineDatabase2")||"上传/更新时间",dataIndex:"createTime",width:140,render:function(e,t){return m.default.createElement("span",null,(0,g.default)(e).format("YYYY/MM/DD HH:mm:ss"))}},{title:y.default.get("comment12")||"资料大小",dataIndex:"fileSizeName",width:100},{title:y.default.get("comment14")||"下载次数",dataIndex:"downloadTimes",width:100,render:function(e,t){return m.default.createElement("div",{style:{width:"40px"}},e)}},{title:y.default.get("Operation")||"操作",dataIndex:"classifyId",width:100,fixed:"right",render:function(t,a){return m.default.createElement("div",{style:{minWidth:48}},m.default.createElement("a",{style:{marginRight:"20px",whiteSpace:"nowrap"},onClick:function(){return e.props.uploadUpdata(a)}},y.default.get("Change")||"修改"),m.default.createElement("a",{style:{marginRight:"20px",whiteSpace:"nowrap"},onClick:function(){return e.down(a)}},y.default.get("albumManagement93")||"下载"),m.default.createElement("div",null,m.default.createElement("a",{onClick:function(){return e.isremove(a)},style:{marginRight:"20px",whiteSpace:"nowrap"}},y.default.get("Delete")||"删除")))}}],r={selectedRowKeys:a,onChange:this.onSelectChange};return m.default.createElement("div",null,m.default.createElement(o.default,{scroll:{x:940},rowSelection:r,columns:d,dataSource:n,rowKey:function(e){return e.id},pagination:{total:l,showTotal:function(){return y.default.get("Total")||"共计 "+l+y.default.get("item")||"条"},pageSize:this.props.pageSize,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.props.pageNo,onChange:this.props.handlePageChange,onShowSizeChange:this.props.handlePageSizeChange,showQuickJumper:!0,size:"small"}}),m.default.createElement(i.default,{width:600,title:y.default.get("albumManagement94")||"删除提醒",visible:this.state.visible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),destroyOnClose:1},m.default.createElement("div",{style:{textAlign:"center"}},m.default.createElement(s.default,{style:{fontSize:"60px",color:"#1890ff"},type:"exclamation-circle"})),m.default.createElement("div",{style:{textAlign:"center",padding:"20px 0"}},this.state.message)))}}]),n}(m.Component);t.default=b},1713:function(e,t,a){"use strict";var n=a(4),l=a(0);a(3),a(43),a(51),a(20),a(34),a(35),a(23),a(234),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(580);var i=l(a(571));a(140);var s=l(a(535));a(99);var o=l(a(100)),d=l(a(98));a(537);var r=l(a(536));a(61);var u=l(a(62)),f=l(a(29)),c=l(a(30)),p=l(a(59)),h=l(a(32)),m=l(a(33)),g=l(a(31)),y=l(a(2));a(540);var v=l(a(539)),b=n(a(1)),C=a(52),E=a(561),S=l(a(106));function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var k=v.default.Item,D={labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},U=function(e){(0,h.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(w()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;return(0,f.default)(this,n),t=a.call(this,e),(0,y.default)((0,p.default)(t),"normFile",(function(e){return Array.isArray(e)?e:e&&e.fileList})),t.state={fileList:[],uploadAction:"",uploadParams:{}},t.props.gupfetch({needTranscode:!0,type:1}),t.beforeUpload=t.beforeUpload.bind((0,p.default)(t)),t.handleUploadChange=t.handleUploadChange.bind((0,p.default)(t)),t}return(0,c.default)(n,[{key:"beforeUpload",value:function(e,t){if(!(e.size/1024/1024<50))return u.default.error(S.default.get("albumManagement83")||"资料大小不能超过50M!");var a=this.props.param;null!==a&&(this.setState({uploadParams:{Filename:a.dir+"/"+e.uid+"."+e.name.replace(/\s/g,""),key:a.dir+"/"+e.uid+"."+e.name.replace(/\s/g,""),policy:a.policy,OSSAccessKeyId:a.accessid,success_action_status:"200",signature:a.signature},uploadAction:a.host}),this.setState({hostAndDir:a.host+"/"+a.dir,fileList:[]}))}},{key:"handleUploadChange",value:function(e){var t=this,a=e.file,n=e.fileList;if(a.size/1024/1024<50){var l=this.state.fileList;if("removed"==a.status)l=l.filter((function(e){return e.uid!=a.uid})),this.setState({fileList:l,responseList:l.map((function(e){return{fileName:e.name,fileUrl:e.fileUrl?e.fileUrl:t.state.hostAndDir+"/"+e.uid+"."+e.name.replace(/\s/g,""),size:e.size+"",suffix:"."+e.name}}))});else{if(l.push(n.pop()),!(a.size/1024/1024<50))return console.log("esle"),!1;this.setState({fileList:l.map((function(e){return{uid:e.uid,name:e.name,size:e.size,fileUrl:e.fileUrl?e.fileUrl:t.state.hostAndDir+"/"+e.uid+"."+e.name.replace(/\s/g,"")}}))})}}}},{key:"onRemove",value:function(e){setTimeout(this.props.form.resetFields(),2e3)}},{key:"componentDidMount",value:function(){if("updata"==this.props.infotype){var e=this.props.info;this.setState({fileList:[{uid:e.uid,name:e.fileName,size:e.fileSize,fileUrl:e.url}],info:e})}else this.setState({fileList:[],info:""});this.props.sendToParent(this)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.info;return console.log("this.props=upload=",this.props),b.default.createElement("div",null,b.default.createElement("div",{style:{textAlign:"center",color:"red"}},S.default.get("onlineDatabase7")||"资料名称和附件都不能为空，且附件大小不能超过50M！"),b.default.createElement(v.default,null,b.default.createElement(v.default.Item,(0,d.default)({label:S.default.get("onlineDatabase4")||"资料名称"},D),e("name",{rules:[{required:!0,message:S.default.get("customProject106")||"请输入资料名称"},{max:50,message:S.default.get("albumManagement102")||"资料名称不能超过50个字！"}],initialValue:t&&t.name?t&&t.name:""})(b.default.createElement(r.default,null))),b.default.createElement(k,(0,d.default)({label:S.default.get("UploadAttachment")||"上传附件"},D),e("upload",{rules:[{required:!0,message:S.default.get("ReportingManage38")||"请上传文件"}],initialValue:t&&t.fileName?[{name:t&&t.fileName?t&&t.fileName:"",uid:t&&t.uid?t&&t.uid:"",size:t&&t.fileSize?t&&t.fileSize:"",fileUrl:t&&t.url?t&&t.url:""}]:"",getValueFromEvent:this.normFile})(b.default.createElement(i.default,{headers:{"X-Requested-With":null},fileList:this.state.fileList,action:this.state.uploadAction,data:this.state.uploadParams,beforeUpload:this.beforeUpload,onChange:this.handleUploadChange},b.default.createElement(s.default,null,b.default.createElement(o.default,{type:"upload"})))))))}}]),n}(b.Component);var x=v.default.create()((0,C.connect)((function(e,t){return{param:e.uploadParam.param}}),(function(e){return{gupfetch:function(t){return e((0,E.gupfetch)(t))}}}))(v.default.create()(U)));t.default=x},1714:function(e,t,a){e.exports={database_manage_body:"database_manage_body__3agNk",body_left:"body_left__zlpN_",left_head:"left_head__20Q5a",body_right:"body_right__-KFEa",right_head:"right_head__3rBoP",right_head_item:"right_head_item__1ESgu",search_input:"search_input__1yWCL",right_main:"right_main__1AhBg",table_top:"table_top__DBiT6",btn_download:"btn_download__1XVKf"}},1715:function(e,t,a){"use strict";var n=a(4),l=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.databaseCategoryDown=t.databaseCategoryExport=t.databaseCategoryDelete=t.databaseCategoryUploadUpdata=t.databaseCategoryUpload=t.getDatabaseList=t.databaseCategoryremove=t.databaseCategoryGet=t.databaseCategoryUpdata=t.databaseCategoryList=t.databaseCategoryAdd=void 0;var i=l(a(76)),s=l(a(1716)),o=n(a(286)),d=s.default.databaseManage,r=d.dataListUrl,u=d.classifyListUrl,f=d.classifyDelUrl,c=d.classifySaveUrl,p=d.classifyUpdateUrl,h=d.dataUploadUrl,m=d.dataUpdateUrl,g=d.dataDelUrl,y=d.dataExportUrl,v=d.classifyDetailUrl,b=d.dataDownloadUrl;t.databaseCategoryAdd=function(e,t){return function(a){return(0,i.default)({url:c,data:e}).then((function(e){t&&t(e)}))}};t.databaseCategoryList=function(e,t){return function(a){return(0,i.default)({url:u,data:e}).then((function(e){t&&t(e)}))}};t.databaseCategoryUpdata=function(e,t){return function(a){return(0,i.default)({url:p,data:e}).then((function(e){t&&t(e)}))}};t.databaseCategoryGet=function(e,t){return function(a){return(0,i.default)({url:v,data:e}).then((function(e){t&&t(e)}))}};t.databaseCategoryremove=function(e,t){return function(a){return(0,i.default)({url:f,data:e}).then((function(e){t&&t(e)}))}};t.getDatabaseList=function(e,t){return function(a){return(0,i.default)({url:r,data:e}).then((function(e){a({type:o.DATABASE_LIST,data:e.data}),t&&t(e)}))}};t.databaseCategoryUpload=function(e,t){return function(a){return(0,i.default)({url:h,data:e}).then((function(e){t&&t(e)}))}};t.databaseCategoryUploadUpdata=function(e,t){return function(a){return(0,i.default)({url:m,data:e}).then((function(e){t&&t(e)}))}};t.databaseCategoryDelete=function(e,t){return function(a){return(0,i.default)({url:g,data:e}).then((function(e){t&&t(e)}))}};t.databaseCategoryExport=function(e,t){return function(a){return(0,i.default)({url:y,data:e}).then((function(e){t&&t(e)}))}};t.databaseCategoryDown=function(e,t){return function(a){return(0,i.default)({url:b,data:e}).then((function(e){t&&t(e)}))}}},1716:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(63)),i={databaseManage:{dataListUrl:"POST ".concat(l.default.webManage,"/document/query/onCondition"),classifyListUrl:"GET ".concat(l.default.webManage,"/DocumentClassify/query"),classifyDelUrl:"POST ".concat(l.default.webManage,"/DocumentClassify/delete"),classifySaveUrl:"POST ".concat(l.default.webManage,"/DocumentClassify/save"),classifyUpdateUrl:"POST ".concat(l.default.webManage,"/DocumentClassify/update"),dataUploadUrl:"POST ".concat(l.default.webManage,"/document/upload"),dataUpdateUrl:"POST ".concat(l.default.webManage,"/document/update"),dataDelUrl:"POST ".concat(l.default.webManage,"/document/delete"),dataExportUrl:"POST ".concat(l.default.webManage,"/document/export/onCondition"),classifyDetailUrl:"GET ".concat(l.default.webManage,"/DocumentClassify/queryById"),dataDownloadUrl:"GET ".concat(l.default.webManage,"/document/download")}};t.default=i},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},539:function(e,t,a){e.exports=a(11)(821)},540:function(e,t,a){"use strict";a.r(t);a(26),a(577),a(584)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},561:function(e,t,a){"use strict";var n=a(4),l=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.gupList=function(e){return function(t){t({type:o.GET_UPLOAD_LIST,data:e})}},t.gupfetch=function(e,t){var a,n=!1,l=!1;e?(n=e.needTranscode,l=e.type,a="".concat(r,"/upload/policy?needTranscode=").concat(n,"&type=").concat(l,"&date=").concat(new Date)):a="".concat(r,"/upload/policy?date=").concat(new Date);return function(e){return(0,i.default)({url:a}).then((function(a){if("1000"===a.code){var n=JSON.parse(a.data);e({type:o.GET_UPLOAD_PARAM,data:n}),t&&t()}return a}))}},t.upvideo=function(e,t,a){return function(a){return(0,i.default)({videoUpload:u,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:o.UP_INFO,data:JSON.parse(e.data)}),t&&t())}))}},t.videoInfo=function(e,t){return function(a){return(0,i.default)({videoPlay:f,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:o.VIDEO_INFO,data:e.data}),t&&t())}))}},t.UploadUtilFile=function(e){return{type:o.GET_FILE_NAME_ADDRESS,fileAddress:e}},t.clearUpload=function(){return function(e){e({type:o.CLEARUPLOAD})}};var i=l(a(76)),s=l(a(587)),o=n(a(231)),d=s.default.common,r=d.ossUrl,u=d.videoUpload,f=d.videoPlay},566:function(e,t,a){e.exports=a(11)(817)},571:function(e,t,a){e.exports=a(11)(912)},577:function(e,t,a){},580:function(e,t,a){"use strict";a.r(t);a(26),a(625),a(598),a(144)},587:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(63)),i={common:{ossUrl:"GET ".concat(l.default.ossUrl),videoUpload:"POST ".concat(l.default.ossUrl,"/video/upload"),videoPlay:"GET ".concat(l.default.ossUrl,"/video/play"),ossPolicy:"GET ".concat(l.default.ossUrl,"/upload/policy")}};t.default=i},598:function(e,t,a){"use strict";a.r(t);a(26),a(626)},619:function(e,t,a){e.exports=a(11)(415)},622:function(e,t,a){e.exports=a(11)(854)},625:function(e,t,a){},626:function(e,t,a){},719:function(e,t,a){"use strict";a.r(t);a(26),a(1293)},764:function(e,t,a){"use strict";a.r(t);a(26),a(1008),a(554),a(655)},765:function(e,t,a){e.exports=a(11)(855)}}]);