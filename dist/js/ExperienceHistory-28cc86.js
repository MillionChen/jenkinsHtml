(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1005:function(e,t,a){e.exports={user_head:"user_head__wRk59",serch_time:"serch_time__YBEeX",seach_type:"seach_type__1MtSU",duser:"duser__2x7xU",seachresult:"seachresult__2wbZZ",dinput:"dinput__17fWR",question:"question__2I041",survey_list_pagination:"survey_list_pagination__30Wnf",survey_list_paginations:"survey_list_paginations__i2z6D",time_border:"time_border__1-Nqh",online_list_pagination:"online_list_pagination__2qnCe",row_style:"row_style__vsJJ0","ant-input-affix-wrapper":"ant-input-affix-wrapper__RA9-1",exam_table:"exam_table__3sYYq",integral_box:"integral_box__172bC"}},1597:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(78)),r=n(a(2306)).default.experienceStatistics,i=r.experienceStatisticsList,l=r.experienceDetailList,c=r.experiencePersonalDetail,u=r.experienceStageChange,s=r.experienceDetailDownload,d=r.experienceAllChangeDownload,f=r.experienceStageOutDownload,p=r.experienceStageValueDownload,g=r.experiencePersonDetailDownload,h={getExperienceStatisticsList:function(e,t){return function(a){return(0,o.default)({url:i,data:e}).then((function(e){t&&t(e)}))}},getExperienceDetailList:function(e,t){return function(a){return(0,o.default)({url:l,data:e}).then((function(e){t&&t(e)}))}},getExperiencePersonalDetail:function(e,t){return function(a){return(0,o.default)({url:c,data:e}).then((function(e){t&&t(e)}))}},getExperienceStageChange:function(e,t){return function(a){return(0,o.default)({url:u,data:e}).then((function(e){t&&t(e)}))}},getExperienceDetailDownload:function(e,t){return function(a){return(0,o.default)({url:s,data:e}).then((function(e){t&&t(e)}))}},getExperienceAllChangeDownload:function(e,t){return function(a){return(0,o.default)({url:d,data:e}).then((function(e){t&&t(e)}))}},getExperienceStageOutDownload:function(e,t){return function(a){return(0,o.default)({url:f,data:e}).then((function(e){t&&t(e)}))}},getExperienceStageValueDownload:function(e,t){return function(a){return(0,o.default)({url:p,data:e}).then((function(e){t&&t(e)}))}},getExperiencePersonDetailDownload:function(e,t){return function(a){return(0,o.default)({url:g,data:e}).then((function(e){t&&t(e)}))}}};t.default=h},1598:function(e,t,a){"use strict";var n=a(4),o=a(0);a(107),a(620),a(20),a(34),a(35),a(23),a(82),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var r=o(a(225));a(549);var i=o(a(544));a(564);var l=o(a(563));a(140);var c=o(a(535));a(537);var u=o(a(536));a(61);var s=o(a(62)),d=o(a(29)),f=o(a(30)),p=o(a(59)),g=o(a(32)),h=o(a(33)),m=o(a(31)),x=o(a(2));a(592);var N=o(a(566));a(554);var S=o(a(550));a(575);var v=o(a(568)),E=n(a(1)),w=o(a(223)),b=o(a(1005)),D=n(a(1597)),y=a(52);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,x.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var k=v.default.TabPane,T=S.default.Option,Y=N.default.RangePicker,M=(new Date).getTime(),z=(0,w.default)(M).format("YYYY-MM-DD"),P=z.split("-").length,O=(0,w.default)(M).format("YYYY-MM")+"-01";if("01"===z.split("-")[P-1]){var L=(0,w.default)(M).format("YYYY-MM"),A=Number(L.split("-")[1]);A=A>10?String(A-1):"0"+String(A-1),O=(0,w.default)(M).format("YYYY")+"-"+A+"-01"}var G=(0,w.default)(M).endOf("day").subtract(1,"days").format("YYYY-MM-DD"),V=function(e){(0,g.default)(n,e);var t,a=(t=n,function(){var e,a=(0,m.default)(t);if(C()){var n=(0,m.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,h.default)(this,e)});function n(e){var t;(0,d.default)(this,n),t=a.call(this,e),(0,x.default)((0,p.default)(t),"disabledDate",(function(e){return e&&e>(0,w.default)().endOf("day").subtract(1,"days")})),(0,x.default)((0,p.default)(t),"range",(function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a})),(0,x.default)((0,p.default)(t),"disabledRangeTime",(function(e,a){return"start"===a?{disabledHours:function(){return t.range(0,60).splice(4,20)},disabledMinutes:function(){return t.range(30,60)},disabledSeconds:function(){return[55,56]}}:{disabledHours:function(){return t.range(0,60).splice(20,4)},disabledMinutes:function(){return t.range(0,31)},disabledSeconds:function(){return[55,56]}}})),(0,x.default)((0,p.default)(t),"onValueChange1",(function(e){t.setState({orgName:e.target.value},(function(){console.log("哈哈哈哈哈哈哈",t.state.orgName)}))})),(0,x.default)((0,p.default)(t),"onValueChange2",(function(e){t.setState({accountName:e.target.value},(function(){console.log("1111",t.state.accountName)}))})),(0,x.default)((0,p.default)(t),"onHandleSearch1",(function(){t.setState({loading:!0,pageNo1:1},(function(){t.accountGroup(t.state.poolId)}))})),(0,x.default)((0,p.default)(t),"onHandleSearch2",(function(){t.setState({loading:!0,pageNo2:1},(function(){t.experienceChange("search")}))})),(0,x.default)((0,p.default)(t),"onHandleSearch3",(function(){t.setState({loading:!0,pageNo3:1},(function(){t.trainingGroup("search")}))})),(0,x.default)((0,p.default)(t),"handleOk",(function(e){t.setState({visible:!1})})),(0,x.default)((0,p.default)(t),"handleCancel",(function(e){t.setState({visible:!1})})),(0,x.default)((0,p.default)(t),"handleChange",(function(e){console.log("value",e),t.setState({state:e},(function(){console.log(t.state.state,"00000000")}))})),(0,x.default)((0,p.default)(t),"handleLook",(function(e){t.setState({visible:!0,accountId:e},(function(){t.personalExperience()})),console.log(t.state.accountId,"id",e)}));var o=(0,w.default)(M).format("YYYY-MM")+"-01",r=(0,w.default)(M).format("YYYY-MM-DD");return t.state={userName:"",orgNameLike:"",pageNo:1,pageSize:10,startDate:o,endDate:r,timeDataArr:"",value:"",value1:"",value2:"",value3:"",visible:!1,dataSource1:[],dataSource2:[],dataSource3:[],pageNo1:"1",pageNo2:"1",pageNo3:"1",pageSize1:"10",pageSize2:"10",pageSize3:"10",current1:"",current2:"",current3:"",total1:"",total2:"",total3:"",loading:!1,poolId:"",orgKwd:"",orgName:"",poolName:"",accountName:"",accountId:"",state:"",key:"1"},t}return(0,f.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=location.pathname.split("/"),a=t[t.length-1];this.setState({poolId:a},(function(){e.accountGroup(a),e.experienceChange(a)}))}},{key:"accountGroup",value:function(e,t,a){var n=this,o={pageNo:this.state.pageNo1,pageSize:this.state.pageSize1,poolId:e,accountName:this.state.accountName||void 0,orgName:this.state.orgName||void 0};this.props.getExperienceDetailList(o,(function(e){"1000"===e.code?n.setState({dataSource1:e.data.records,current1:e.data.current,total1:e.data.total}):s.default.error(e.subMsg)}))}},{key:"personalExperience",value:function(e,t,a){var n=this,o={pageNo:this.state.pageNo3,pageSize:this.state.pageSize3,poolId:this.state.poolId,state:this.state.state,accountId:this.state.accountId};this.props.getExperiencePersonalDetail(o,(function(e){"1000"===e.code?n.setState({dataSource3:e.data.records,current3:e.data.current,total3:e.data.total}):s.default.error(e.subMsg)}))}},{key:"experienceChange",value:function(e,t,a){var n=this,o={pageNo:"search"===a?1:this.state.pageNo2,pageSize:this.state.pageSize2,accountName:this.state.accountName,poolId:this.state.poolId,orgName:this.state.orgName||void 0,startTime:this.state.startDate,endTime:this.state.endDate};this.props.getExperienceStageChange(o,(function(e){"1000"===e.code?n.setState({dataSource2:e.data.records,current2:e.page.pageNo,total2:e.page.total}):s.default.error(e.subMsg)}))}},{key:"callback",value:function(e){this.setState({key:e})}},{key:"onChange",value:function(e,t){var a=t[0],n=t[1],o=n.split("/")[n.split("/").length-1]-a.split("/")[a.split("/").length-1];this.setState({startDate:a,endDate:n,pageSize:o}),console.log(e,t)}},{key:"accountGroupDownload",value:function(e){var t={pageNo:this.state.pageNo1,pageSize:this.state.pageSize1,poolId:this.state.poolId,poolName:this.state.poolName,accountName:this.state.accountName||void 0,orgName:this.state.orgName||void 0};this.props.getExperienceDetailDownload(t,(function(e){"1000"===e.code?s.default.success(e.data):s.default.error(e.subMsg)}))}},{key:"experienceAllChangeDownLoad",value:function(e){var t={poolId:this.state.poolId};this.props.getExperienceAllChangeDownload(t,(function(e){"1000"===e.code?s.default.success(e.data):s.default.error(e.subMsg)}))}},{key:"experienceChangeDownLoad",value:function(e){var t={poolId:this.state.poolId,startTime:this.state.startDate,endTime:this.state.endDate,orgName:this.state.orgName,accountName:this.state.accountName};this.props.getExperienceStageOutDownload(t,(function(e){"1000"===e.code?s.default.success(e.data):s.default.error(e.subMsg)}))}},{key:"experiencePurchaseDownLoad",value:function(e){var t={poolId:this.state.poolId,startTime:this.state.startDate,endTime:this.state.endDate,orgName:this.state.orgName,accountName:this.state.accountName};this.props.getExperienceStageValueDownload(t,(function(e){"1000"===e.code?s.default.success(e.data):s.default.error(e.subMsg)}))}},{key:"personalExperienceDownLoad",value:function(e){var t={poolId:this.state.poolId,accountId:this.state.accountId,state:this.state.state};this.props.getExperiencePersonDetailDownload(t,(function(e){"1000"===e.code?s.default.success(e.data):s.default.error(e.subMsg)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageNo1,n=t.pageNo2,o=t.pageNo3,s=(t.pageSize1,t.pageSize2),d=t.pageSize3;console.log(this.props),console.log(this.props.match);var f=[{title:"用户名",dataIndex:"accountName"},{title:"姓名",dataIndex:"accountFullName"},{title:"所在部门",dataIndex:"orgName"},{title:"邮箱",dataIndex:"email"},{title:"总经验值",dataIndex:"experienceTotal"},{title:"等级",dataIndex:"experienceLevel"},{title:"操作",dataIndex:"action",render:function(t,a){return E.default.createElement("a",{onClick:function(){return e.handleLook(a.accountId)}},"查看经验明细")}}],p=[{title:"用户名",dataIndex:"accountName",key:"accountName",align:"center"},{title:"姓名",dataIndex:"accountFullName",key:"accountFullName",align:"center"},{title:"所在部门",dataIndex:"orgName",key:"orgName",align:"center"},{title:"变动值",dataIndex:"experience",key:"experience",align:"center"},{title:"时间",dataIndex:"createTime",key:"createTime",align:"center",render:function(e){return E.default.createElement("span",null,(0,w.default)(e).format("YYYY-MM-DD HH:mm"))}},{title:"剩余经验值",dataIndex:"experienceTotal",key:"experienceTotal",align:"center"},{title:"明细",dataIndex:"description",key:"description",align:"center"}],g=this,h={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.current1,total:this.state.total1,showTotal:function(e){return"共计 ".concat(e," 条")},PageSize:this.state.pageSize1,onShowSizeChange:function(t,n){g.setState({pageNo1:1,pageSize1:n},(function(){g.accountGroup(e.state.poolId,a,n)}))},onChange:function(t,a){g.setState({pageNo1:t,pageSize1:a},(function(){g.accountGroup(e.state.poolId,t,a)}))}},m={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.current2,total:this.state.total2,showTotal:function(e){return"共计 ".concat(e," 条")},PageSize:this.state.pageSize2,onShowSizeChange:function(t,a){g.setState({pageNo2:1,pageSize2:a},(function(){g.experienceChange(e.state.poolId,n,s)}))},onChange:function(t,a){g.setState({pageNo2:t,pageSize2:a},(function(){g.experienceChange(e.state.poolId,t,a)}))}},x={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.current3,total:this.state.total3,showTotal:function(e){return"共计 ".concat(e," 条")},PageSize:this.state.pageSize3,onShowSizeChange:function(e,t){g.setState({pageNo3:1,pageSize3:t},(function(){g.personalExperience(o,d)}))},onChange:function(e,t){g.setState({pageNo3:e,pageSize3:t},(function(){g.personalExperience(e,d)}))}};return console.log(this.state.current1,"000000",this.state.total1),E.default.createElement("div",null,E.default.createElement("div",{style:{marginLeft:"20px",marginTop:"10px"}},E.default.createElement("h1",null,"经验值统计")),E.default.createElement(v.default,{className:"survey-tabs",defaultActiveKey:"1",onChange:function(t){return e.callback(t)}},E.default.createElement(k,{tab:"按用户统计",key:"1"},E.default.createElement("div",{className:"row-style"},E.default.createElement(u.default,{className:b.default.dinput,placeholder:"请输入部门关键字",style:{marginLeft:"10px"},onChange:function(t){e.onValueChange1(t)}}),E.default.createElement(u.default,{className:b.default.dinput,placeholder:"请输入用户名",style:{marginLeft:"10px"},onChange:function(t){e.onValueChange2(t)}}),E.default.createElement(c.default,{onClick:function(){return e.onHandleSearch1(1)}},"查询"),E.default.createElement(l.default,{title:"确定导出?",okText:"确定",cancelText:"取消",onConfirm:function(){return e.accountGroupDownload(1)}},E.default.createElement(c.default,{className:b.default.serch_time,style:{marginLeft:"20px"}},"导出排名列表")),E.default.createElement(l.default,{title:"确定导出?",okText:"确定",cancelText:"取消",onConfirm:function(){return e.experienceAllChangeDownLoad(1)}},E.default.createElement(c.default,{className:b.default.serch_time},"导出全部变更明细"))),E.default.createElement(i.default,{style:{background:"white"},columns:f,pagination:h,dataSource:this.state.dataSource1})),E.default.createElement(k,{tab:"阶段经验值变动统计",key:"2"},E.default.createElement("div",{className:"row-style"},E.default.createElement(Y,{style:{marginLeft:"20px"},className:b.default.serch_time,disabledDate:this.disabledDate,disabledTime:this.disabledRangeTime,onChange:this.onChange.bind(this),defaultValue:[(0,w.default)(O,"YYYY/MM/DD"),(0,w.default)(G,"YYYY/MM/DD")],format:"YYYY/MM/DD"}),E.default.createElement(u.default,{className:b.default.dinput,placeholder:"请输入部门关键字",style:{marginLeft:"10px",width:"11%"},onChange:function(t){e.onValueChange1(t)}}),E.default.createElement(u.default,{className:b.default.dinput,placeholder:"请输入用户名",style:{marginLeft:"10px",width:"11%"},onChange:function(t){e.onValueChange2(t)}}),E.default.createElement(c.default,{onClick:function(){return e.onHandleSearch2(1)}},"查询"),E.default.createElement(l.default,{title:"确定导出?",okText:"确定",cancelText:"取消",onConfirm:function(){return e.experienceChangeDownLoad(1)}},E.default.createElement(c.default,{className:b.default.serch_time,style:{marginLeft:"20px"}},"导出明细")),E.default.createElement(l.default,{title:"确定导出?",okText:"确定",cancelText:"取消",onConfirm:function(){return e.experiencePurchaseDownLoad(1)}},E.default.createElement(c.default,{className:b.default.serch_time},"导出用户经验值消耗明细"))),E.default.createElement(i.default,{style:{background:"white"},columns:[{title:"用户名",dataIndex:"accountName",key:"accountName",align:"center"},{title:"姓名",dataIndex:"accountFullName",key:"accountFullName",align:"center"},{title:"所在部门",dataIndex:"orgName",key:"orgName",align:"center"},{title:"消耗总值",dataIndex:"purchaseExperienceTotal",key:"purchaseExperienceTotal",align:"center"},{title:"增加总值",dataIndex:"increaseExperienceTotal",key:"increaseExperienceTotal",align:"center"}],pagination:m,dataSource:this.state.dataSource2}))),E.default.createElement(r.default,{width:1e3,title:"经验明细统计详情",visible:this.state.visible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),destroyOnClose:1},E.default.createElement("div",{style:{marginBottom:"10px"}},E.default.createElement(S.default,{defaultValue:"0",style:{width:120},onChange:this.handleChange},E.default.createElement(T,{value:"0"},"全部"),E.default.createElement(T,{value:"1"},"经验值增加"),E.default.createElement(T,{value:"2"},"经验值减少")),E.default.createElement(c.default,{className:b.default.serch_time,style:{marginLeft:"20px"},onClick:function(){return e.personalExperience()}},"查询"),E.default.createElement(l.default,{title:"确定导出?",okText:"确定",cancelText:"取消",onConfirm:function(){return e.personalExperienceDownLoad(1)}},E.default.createElement(c.default,{className:b.default.serch_time},"下载经验报表"))),E.default.createElement(i.default,{columns:p,dataSource:this.state.dataSource3,pagination:x})))}}]),n}(E.Component),j=(0,y.connect)((function(e){return I({},e)}),I({},D.default))(V);t.default=j},2306:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(63)),r={experienceStatistics:{experienceStatisticsList:"GET ".concat(o.default.webManage,"/report/experiencePool/list"),experienceDetailList:"GET ".concat(o.default.webManage,"/report/experiencePool/list/view"),experiencePersonalDetail:"GET ".concat(o.default.webManage,"/report/experiencePool/list/view/account/details"),experienceStageChange:"GET ".concat(o.default.webManage,"/report/experiencePool/list/view/details/list"),experienceDetailDownload:"GET ".concat(o.default.webManage,"/report/experiencePool/list/viewExport"),experienceAllChangeDownload:"GET ".concat(o.default.webManage,"/report/experiencePool/list/view/all/details/export"),experienceStageOutDownload:"GET ".concat(o.default.webManage,"/report/experiencePool/list/view/stage/details/export"),experienceStageValueDownload:"GET ".concat(o.default.webManage,"/report/experiencePool/list/view/stage/purchase/details/export"),experiencePersonDetailDownload:"GET ".concat(o.default.webManage,"/report/experiencePool/list/view/account/details/export")}};t.default=r},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},563:function(e,t,a){e.exports=a(11)(837)},564:function(e,t,a){"use strict";a.r(t);a(26),a(581),a(140)},566:function(e,t,a){e.exports=a(11)(817)},568:function(e,t,a){e.exports=a(11)(333)},575:function(e,t,a){"use strict";a.r(t);a(26),a(623)},581:function(e,t,a){"use strict";a.r(t);a(26),a(585)},585:function(e,t,a){},620:function(e,t,a){"use strict";var n=a(19),o=a(16),r=a(85),i=a(36),l=a(21),c=a(45),u=a(153),s=a(83),d=a(14),f=a(66),p=a(80).f,g=a(49).f,h=a(22).f,m=a(236).trim,x=o.Number,N=x.prototype,S="Number"==c(f(N)),v=function(e){var t,a,n,o,r,i,l,c,u=s(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=m(u)).charCodeAt(0))||45===t){if(88===(a=u.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+u}for(i=(r=u.slice(2)).length,l=0;l<i;l++)if((c=r.charCodeAt(l))<48||c>o)return NaN;return parseInt(r,n)}return+u};if(r("Number",!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var E,w=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof w&&(S?d((function(){N.valueOf.call(a)})):"Number"!=c(a))?u(new x(v(t)),a,w):v(t)},b=n?p(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;b.length>D;D++)l(x,E=b[D])&&!l(w,E)&&h(w,E,g(x,E));w.prototype=N,N.constructor=w,i(o,"Number",w)}},623:function(e,t,a){}}]);