(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1008:function(e,t,a){},1015:function(e,t,a){},1016:function(e,t,a){},1021:function(e,t,a){},1024:function(e,t,a){"use strict";var l=a(12),r=a(54).every,n=a(109),u=a(42),i=n("every"),o=u("every");l({target:"Array",proto:!0,forced:!i||!o},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},1474:function(e,t,a){e.exports={setDayView:"setDayView__23Lxn"}},1766:function(e,t,a){"use strict";var l=a(4),r=a(0);a(7),a(1024),a(3),a(5),a(51),a(9),a(10),a(8),a(20),a(34),a(156),a(35),a(23),a(53),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var n=r(a(535));a(616);var u=r(a(617));a(764);var i=r(a(765)),o=r(a(98)),d=r(a(29)),f=r(a(30)),c=r(a(59)),s=r(a(32)),m=r(a(33)),p=r(a(31)),h=r(a(2));a(592);var g=r(a(566));a(556);var y=r(a(553));a(537);var v=r(a(536));a(540);var E=r(a(539)),w=l(a(1)),b=a(65),x=r(a(223)),k=r(a(1474));function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=E.default.Item,N=(v.default.TextArea,y.default.Button,y.default.Group),T=(g.default.RangePicker,function(e){(0,s.default)(l,e);var t,a=(t=l,function(){var e,a=(0,p.default)(t);if(C()){var l=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,l)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function l(e){var t;return(0,d.default)(this,l),t=a.call(this,e),(0,h.default)((0,c.default)(t),"onChange",(function(e,a,l){var r=l.triggerNode.props.orgId?l.triggerNode.props.orgId:"";t.setState({orgId:r,orgname:a})})),(0,h.default)((0,c.default)(t),"handleSubmit",(function(e){e.preventDefault(),t.props.form.validateFields((function(e,a){if(!e){var l,r=t.props,n=r.updateUser,u=(r.getUserList,r.currentPage,r.currentPageSize,r.editeData),i=a.endTime;2==a.expiredType&&(l=new Date((0,x.default)(i._d).format("YYYY-MM-DD HH:mm:ss")).getTime());var o=t.state.orgId?t.state.orgId:u.orgId,d={email:a.email,endTime:l,expiredType:a.expiredType,fullName:a.fullName,name:a.name,orgId:o,password:a.password,position:a.position,mobile:a.mobile,validDays:a.validDays,remarkFirst:a.remarkFirst,remarkSecond:a.remarkSecond,remarkThird:a.remarkThird,workNum:a.workNum,id:a.id};console.log(d);var f=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,h.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},d);console.log(f);var s=(0,c.default)(t);n(f,(function(){s.props.history.push({pathname:"/"+t.state.companyCode+"/"+t.state.siteCode+"/index/manager/system/organization",state:{flag:!0}})})),t.props.onCancel(!1)}}))})),t.state={companyCode:"",siteCode:""},t}return(0,f.default)(l,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.editeData,l={labelCol:{xs:{span:4},sm:{span:4}},wrapperCol:{xs:{span:16},sm:{span:16}}},r=this.props.location.state.departmentTree.trees;return this.state.companyCode=this.props.location.state.companyCode,this.state.siteCode=this.props.location.state.siteCode,function e(t){for(var a=0;a<t.length;a++)t[a].value=t[a].name,t[a].orgId=t[a].key,null!=t[a].children&&t[a].children.length>0&&e(t[a].children)}(r),w.default.createElement("div",{className:"plusUser"},w.default.createElement(Breadcrumb,{title:"修改用户"}),w.default.createElement(E.default,{className:"login-form"},w.default.createElement("div",{style:{display:"none"}},w.default.createElement(O,null,t("id",{initialValue:a.id})(w.default.createElement(v.default,null)))),w.default.createElement(O,(0,o.default)({},l,{label:"用户名:"}),t("name",{initialValue:a.name,rules:[{validator:function(e,t,a,l,r){console.log(t);var n=[];t.split("").every((function(t){return!!/^[a-zA-Z0-9]|[\uFE30-\uFFA0]|[-_@#.]+$/.test(t)||(n.push(new Error(t+"不是合法输入（支持数字、大小写英文字母、_、-、@、#、.）",e.field)),!1)})),new RegExp(/\s+/,"i").test(t)&&n.push(new Error("不允许输入空格",e.field)),"."!==t[0]&&"-"!==t[0]&&"_"!==t[0]&&"@"!==t[0]&&"#"!==t[0]||n.push(new Error("必须以数字或字母开头",e.field)),t.length>50&&n.push(new Error("最多可输入50个字符",e.field)),t.length<3&&n.push(new Error("最少需输入3个字符",e.field)),a(n)}}]})(w.default.createElement(v.default,{placeholder:"用户名"}))),w.default.createElement(O,(0,o.default)({},l,{label:"工号:"}),t("workNum",{initialValue:a.workNum})(w.default.createElement(v.default,{placeholder:"工号"}))),w.default.createElement(O,(0,o.default)({},l,{label:"姓名:"}),t("fullName",{initialValue:a.fullName})(w.default.createElement(v.default,{placeholder:"姓名"}))),w.default.createElement(O,(0,o.default)({},l,{label:"部门"}),t("orgId",{initialValue:a.orgName})(w.default.createElement(i.default,{showSearch:!0,style:{width:300},dropdownStyle:{width:300,maxHeight:300,overflow:"auto"},treeData:r,searchPlaceholder:"请输入部门名称",placeholder:"选择部门",onChange:this.onChange}))),w.default.createElement(O,(0,o.default)({},l,{label:"职务:"}),t("position",{initialValue:a.position})(w.default.createElement(v.default,{placeholder:"职务"}))),w.default.createElement(O,(0,o.default)({},l,{label:"手机号:"}),t("mobile",{initialValue:a.mobile,rules:[{required:!1,pattern:/^[1][3,4,5,6,7,8,9][0-9]{9}$/,message:"请填正确手机号"}]})(w.default.createElement(v.default,{maxLength:11,placeholder:"手机号"}))),w.default.createElement(O,(0,o.default)({},l,{label:"邮箱:"}),t("email",{initialValue:a.email,rules:[{required:!1,pattern:/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,message:"请正确填写邮箱"}]})(w.default.createElement(v.default,{placeholder:"邮箱",maxLength:50}))),w.default.createElement(O,(0,o.default)({},l,{label:"备注1:"}),t("remarkFirst",{initialValue:a.remarkFirst,rules:[{required:!1,pattern:/^\w?(\w?[\u4e00-\u9fa5\w\.\：\- \_\:\、])+$/gim,message:"仅支持数字、字母及汉字输入，最多支持50字符长度"}]})(w.default.createElement(v.default,{placeholder:"备注1 支持数字、字母及汉字和四个特殊符号. ：- _ 、输入，最多支持50字符长度",maxLength:50}))),w.default.createElement(O,(0,o.default)({},l,{label:"备注2:"}),t("remarkSecond",{initialValue:a.remarkSecond,rules:[{required:!1,pattern:/^\w?(\w?[\u4e00-\u9fa5\w\.\：\- \_\:\、])+$/gim,message:"仅支持数字、字母及汉字输入，最多支持50字符长度"}]})(w.default.createElement(v.default,{placeholder:"备注2 支持数字、字母及汉字和四个特殊符号. ：- _ 、输入，最多支持50字符长度",maxLength:50}))),w.default.createElement(O,(0,o.default)({},l,{label:"备注3:"}),t("remarkThird",{initialValue:a.remarkThird,rules:[{required:!1,pattern:/^\w?(\w?[\u4e00-\u9fa5\w\.\：\- \_\:\、])+$/gim,message:"仅支持数字、字母及汉字输入，最多支持50字符长度"}]})(w.default.createElement(v.default,{placeholder:"备注3 支持数字、字母及汉字和四个特殊符号. ：- _ 、输入，最多支持50字符长度",maxLength:50}))),w.default.createElement(O,(0,o.default)({},l,{label:"设置有效期:"}),t("expiredType",{initialValue:a.expiredType+""})(w.default.createElement(N,null,w.default.createElement("div",null,w.default.createElement(y.default,{value:"1"},"长期有效")),w.default.createElement("div",null,w.default.createElement(y.default,{value:"2"},"固定失效日期:",w.default.createElement("div",{style:{position:"absolute",left:"115px",top:"-8px",width:"330px",height:"37px"}},w.default.createElement(O,{className:"cred-edit-expe"},t("endTime",{initialValue:a.endTime?(0,x.default)(a.endTime):""})(w.default.createElement(g.default,{className:"cred-edit-radio-datePicker",size:"small",placeholder:"请选择日期"})))))),w.default.createElement("div",{className:k.default.setDayView},w.default.createElement(y.default,{value:"3"},w.default.createElement(O,null,w.default.createElement("span",null,"设置周期:"),t("validDays",{initialValue:a.validDays})(w.default.createElement(u.default,{min:1})),w.default.createElement("span",{className:"ant-form-text"}," 天"))))))),w.default.createElement(O,null,w.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},w.default.createElement("div",null,w.default.createElement(n.default,{type:"default",style:{marginRight:"16px"},onClick:function(){e.props.onCancel(!1)}},"取消"),w.default.createElement(n.default,{type:"primary",onClick:this.handleSubmit},"确定"))))))}}]),l}(w.Component)),V=E.default.create()(T),P=(0,b.withRouter)(V);t.default=P},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},539:function(e,t,a){e.exports=a(11)(821)},540:function(e,t,a){"use strict";a.r(t);a(26),a(577),a(584)},553:function(e,t,a){e.exports=a(11)(206)},554:function(e,t,a){"use strict";a.r(t);a(26),a(1021),a(655)},556:function(e,t,a){"use strict";a.r(t);a(26),a(1016)},566:function(e,t,a){e.exports=a(11)(817)},577:function(e,t,a){},616:function(e,t,a){"use strict";a.r(t);a(26),a(652)},617:function(e,t,a){e.exports=a(11)(824)},652:function(e,t,a){},655:function(e,t,a){"use strict";a(26),a(1015)},764:function(e,t,a){"use strict";a.r(t);a(26),a(1008),a(554),a(655)},765:function(e,t,a){e.exports=a(11)(855)}}]);