(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{2325:function(t,e,a){"use strict";var n=a(4),u=a(0);a(20),a(34),a(23),a(228),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(146);var r=u(a(150));a(549);var o=u(a(544));a(564);var l=u(a(563));a(140);var i=u(a(535));a(537);var s=u(a(536));a(61);var f=u(a(62)),d=u(a(29)),c=u(a(30)),m=u(a(59)),p=u(a(32)),g=u(a(33)),y=u(a(31)),h=u(a(2));a(592);var D=u(a(566));a(575);var v=u(a(568)),w=n(a(1)),N=u(a(223)),S=n(a(2326)),b=a(52),P=u(a(226));function Y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function k(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(a),!0).forEach((function(e){(0,h.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var C=v.default.TabPane,B=D.default.RangePicker,M=function(t){(0,p.default)(n,t);var e,a=(e=n,function(){var t,a=(0,y.default)(e);if(E()){var n=(0,y.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,g.default)(this,t)});function n(t){var e;return(0,d.default)(this,n),e=a.call(this,t),(0,h.default)((0,m.default)(e),"reGetListByUser",(function(t){var a=(0,m.default)(e),n=e.state,u=n.pageNo,r=n.pageSize,o={keyword:n.valueByUser,pageNo:u,pageSize:r};"init"==t&&(o.pageNo=1,e.setState({pageNo:1})),e.setState({loading:!0}),e.props.getFuromUserList(o,(function(t){a.setState({listDataByUser:t.data.records,totalByUser:t.data.total,loading:!1})})),setTimeout((function(){return a.setState({loading:!1})}),5e3)})),(0,h.default)((0,m.default)(e),"reGetListByPost",(function(t){var a=(0,m.default)(e),n=e.state,u=n.pageNo2,r=n.pageSize2,o={keyword:n.valueByPost,pageNo:u,pageSize:r,startDate:n.startDate,endDate:n.endDate};"init"==t&&(o.pageNo=1,e.setState({pageNo2:1})),e.setState({loading:!0}),e.props.getFuromPostList(o,(function(t){a.setState({listDataByPost:t.data.records,totalByPost:t.data.total,loading:!1})})),setTimeout((function(){return a.setState({loading:!1})}),5e3)})),(0,h.default)((0,m.default)(e),"tabChange",(function(t){console.log("activeKey==",t),1==t?e.reGetListByUser():2==t&&e.reGetListByPost()})),(0,h.default)((0,m.default)(e),"inputChange",(function(t){e.setState({valueByUser:t.target.value.trim()})})),(0,h.default)((0,m.default)(e),"inputChange2",(function(t){e.setState({valueByPost:t.target.value.trim()})})),(0,h.default)((0,m.default)(e),"pickDateonChange",(function(t,a){console.log(t,a),e.setState({startDate:(0,N.default)(t[0]).format("YYYY-MM-DD"),endDate:(0,N.default)(t[1]).format("YYYY-MM-DD")})})),(0,h.default)((0,m.default)(e),"disabledDate",(function(t){return t&&t>(0,N.default)().endOf("day")})),(0,h.default)((0,m.default)(e),"downloadData",(function(t){var a=e.state,n=a.valueByUser,u=a.valueByPost,r=a.startDate,o=a.endDate;if("byUser"==t){var l={keyword:n};e.props.getFuromUserDownload(l,(function(t){f.default.success(t.data)}))}else if("byPost"==t){var i={keyword:u,startDate:r,endDate:o};e.props.getFuromPostDownload(i,(function(t){f.default.success(t.data)}))}})),(0,h.default)((0,m.default)(e),"pageChange",(function(t,a){e.setState({pageNo:t,pageSize:a},(function(){e.reGetListByUser()}))})),(0,h.default)((0,m.default)(e),"pageSizeChange",(function(t,a){e.setState({pageNo:t,pageSize:a},(function(){e.reGetListByUser()}))})),(0,h.default)((0,m.default)(e),"pageChange2",(function(t,a){e.setState({pageNo2:t,pageSize2:a},(function(){e.reGetListByPost()}))})),(0,h.default)((0,m.default)(e),"pageSizeChange2",(function(t,a){e.setState({pageNo2:t,pageSize2:a},(function(){e.reGetListByPost()}))})),e.state={loading:!1,valueByUser:"",valueByPost:"",startDate:(0,N.default)().startOf("month").format("YYYY-MM-DD"),endDate:(0,N.default)().format("YYYY-MM-DD"),listDataByUser:[],totalByUser:0,listDataByPost:[],totalByPost:0,pageNo:1,pageSize:20,pageNo2:1,pageSize2:20},e.columns=[{title:"用户名",key:"accountName",dataIndex:"accountName"},{title:"姓名",key:"fullName",dataIndex:"fullName",render:function(t,e){return w.default.createElement("span",null,e.fullName.toString().length>0?e.fullName:"--")}},{title:"部门",key:"orgName",dataIndex:"orgName"},{title:"职务",key:"position",dataIndex:"position"},{title:"已发表",key:"sendNum",dataIndex:"sendNum"},{title:"已查看",key:"readNum",dataIndex:"readNum"},{title:"已回复（贴子数/回复数）",key:"replyNum",dataIndex:"replyNum",render:function(t,e){return w.default.createElement("span",null,e.commentNum,"/",e.replyNum)}}],e.columns2=[{title:"帖子名称",key:"title",dataIndex:"title"},{title:"用户名",key:"accountName",dataIndex:"accountName"},{title:"姓名",key:"fullName",dataIndex:"fullName",render:function(t,e){return w.default.createElement("span",null,e.fullName.toString().length>0?e.fullName:"--")}},{title:"发表时间",key:"postsCreateTime",dataIndex:"postsCreateTime",render:function(t,e){return w.default.createElement("span",null,(0,N.default)(t).format("YYYY-MM-DD HH:mm:ss"))}},{title:"置顶状态",key:"isTop",dataIndex:"isTop",render:function(t,e){return w.default.createElement("span",null,1==e.isTop?"已置顶":"未置顶")}},{title:"加精状态",key:"isHighlight",dataIndex:"isHighlight",render:function(t,e){return w.default.createElement("span",null,1==e.isHighlight?"已精选":"未精选")}},{title:"总赞数",key:"thumbsNum",dataIndex:"thumbsNum"},{title:"回复数",key:"commentNum",dataIndex:"commentNum"},{title:"阅读数",key:"readNum",dataIndex:"thumbsNum"},{title:"收藏数",key:"favoriteNum",dataIndex:"favoriteNum"},{title:"发表端口",key:"terminalType",dataIndexr:"terminalType",render:function(t,e){switch(e.terminalType){case 1:return w.default.createElement("span",null,"管理端");case 2:return w.default.createElement("span",null,"pc端");case 3:return w.default.createElement("span",null,"微信端");case 4:return w.default.createElement("span",null,"app");default:return w.default.createElement("span",null,"--")}}}],e}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.reGetListByUser("init")}},{key:"render",value:function(){var t=this;return console.log("this.state==",this.state),w.default.createElement(r.default,{wrapperClassName:"spin-community",spinning:this.state.loading},w.default.createElement(P.default,{title:"论坛统计"}),w.default.createElement("div",{className:"statistics-community",style:{padding:20,width:"100%"}},w.default.createElement(v.default,{defaultActiveKey:"1",onChange:this.tabChange},w.default.createElement(C,{tab:"按用户统计",key:"1"},w.default.createElement("div",{className:"top"},w.default.createElement("label",{htmlFor:"community-input-user"},"关键字："),w.default.createElement(s.default,{id:"community-input-user",onChange:this.inputChange,style:{width:200},placeholder:"请输入用户关键字"}),w.default.createElement(i.default,{style:{marginLeft:20},onClick:function(){return t.reGetListByUser("init")}},"查询"),w.default.createElement(l.default,{title:"确认下载？",onConfirm:function(){return t.downloadData("byUser")}},w.default.createElement(i.default,{style:{float:"right"}},"下载结果数据"))),w.default.createElement(o.default,{style:{background:"white",marginTop:"16px"},rowKey:function(t){return t.id},dataSource:this.state.listDataByUser,columns:this.columns,pagination:{total:this.state.totalByUser,showTotal:function(){return"共计 "+t.state.totalByUser+"条"},pageSize:this.state.pageSize,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.pageNo,onChange:this.pageChange,onShowSizeChange:this.pageSizeChange,showQuickJumper:!0}})),w.default.createElement(C,{tab:"按帖子统计",key:"2"},w.default.createElement("div",{className:"top"},w.default.createElement("label",{htmlFor:"community-input-post"},"关键字："),w.default.createElement(s.default,{id:"community-input-post",onChange:this.inputChange2,style:{width:200},placeholder:"请输入关键字"}),w.default.createElement(B,{defaultValue:[(0,N.default)((0,N.default)().startOf("month").format("YYYY/MM/DD"),"YYYY/MM/DD"),(0,N.default)((0,N.default)().format("YYYY/MM/DD"),"YYYY/MM/DD")],format:"YYYY/MM/DD",onChange:this.pickDateonChange,disabledDate:this.disabledDate,style:{width:220,marginLeft:20}}),w.default.createElement(i.default,{style:{marginLeft:20},onClick:function(){return t.reGetListByPost("init")}},"查询"),w.default.createElement(l.default,{title:"确认下载？",onConfirm:function(){return t.downloadData("byPost")}},w.default.createElement(i.default,{style:{float:"right"}},"下载结果数据"))),w.default.createElement(o.default,{style:{background:"white",marginTop:"16px"},rowKey:function(t){return t.id},dataSource:this.state.listDataByPost,columns:this.columns2,pagination:{total:this.state.totalByPost,showTotal:function(){return"共计 "+t.state.totalByPost+"条"},pageSize:this.state.pageSize2,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.pageNo2,onChange:this.pageChange2,onShowSizeChange:this.pageSizeChange2,showQuickJumper:!0}})))))}}]),n}(w.Component),x=(0,b.connect)((function(t){return k({},t)}),k({},S.default))(M);e.default=x},2326:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=n(a(76)),r=n(a(2327)).default.furomStatistics,o=r.furomUserList,l=r.furomPostList,i=r.furomPostDownload,s=r.furomUserDownload,f={getFuromUserList:function(t,e){return function(a){return(0,u.default)({url:o,data:t}).then((function(t){e&&e(t)}))}},getFuromPostList:function(t,e){return function(a){return(0,u.default)({url:l,data:t}).then((function(t){e&&e(t)}))}},getFuromPostDownload:function(t,e){return function(a){return(0,u.default)({url:i,data:t}).then((function(t){e&&e(t)}))}},getFuromUserDownload:function(t,e){return function(a){return(0,u.default)({url:s,data:t}).then((function(t){e&&e(t)}))}}};e.default=f},2327:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=n(a(63)),r={furomStatistics:{furomUserList:"GET ".concat(u.default.webManage,"/statistic/forum/statisticsForumAccount/getPage"),furomPostList:"GET ".concat(u.default.webManage,"/statistic/forum/statisticsForum/getPage"),furomPostDownload:"GET ".concat(u.default.webManage,"/statistic/forum/statisticsForum/download"),furomUserDownload:"GET ".concat(u.default.webManage,"/statistic/forum/statisticsForumAccount/download")}};e.default=r},535:function(t,e,a){t.exports=a(11)(70)},536:function(t,e,a){t.exports=a(11)(166)},544:function(t,e,a){t.exports=a(11)(846)},563:function(t,e,a){t.exports=a(11)(837)},564:function(t,e,a){"use strict";a.r(e);a(26),a(581),a(140)},566:function(t,e,a){t.exports=a(11)(817)},568:function(t,e,a){t.exports=a(11)(333)},575:function(t,e,a){"use strict";a.r(e);a(26),a(623)},581:function(t,e,a){"use strict";a.r(e);a(26),a(585)},585:function(t,e,a){},623:function(t,e,a){}}]);