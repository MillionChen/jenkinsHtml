(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1005:function(e,t,a){e.exports={user_head:"user_head__wRk59",serch_time:"serch_time__YBEeX",seach_type:"seach_type__1MtSU",duser:"duser__2x7xU",seachresult:"seachresult__2wbZZ",dinput:"dinput__17fWR",question:"question__2I041",survey_list_pagination:"survey_list_pagination__30Wnf",survey_list_paginations:"survey_list_paginations__i2z6D",time_border:"time_border__1-Nqh",online_list_pagination:"online_list_pagination__2qnCe",row_style:"row_style__vsJJ0","ant-input-affix-wrapper":"ant-input-affix-wrapper__RA9-1",exam_table:"exam_table__3sYYq",integral_box:"integral_box__172bC"}},2313:function(e,t,a){"use strict";var n=a(4),r=a(0);a(51),a(620),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(146);var i=r(a(150));a(569);var u=r(a(558));a(549);var o=r(a(544));a(140);var s=r(a(535));a(537);var l=r(a(536)),c=r(a(2));a(61);var d=r(a(62)),f=r(a(29)),h=r(a(30)),p=r(a(32)),g=r(a(33)),m=r(a(31));a(592);var _=r(a(566)),N=n(a(1)),v=r(a(223)),y=r(a(1005)),w=n(a(2314)),b=a(52),k=r(a(226));function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,c.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}_.default.RangePicker;var S=(new Date).getTime(),O=(0,v.default)(S).format("YYYY-MM")+"-01",x=(0,v.default)(S).endOf("day").subtract(0,"days").format("YYYY-MM-DD"),T=function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,m.default)(t);if(I()){var n=(0,m.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,g.default)(this,e)});function n(e){var t;return(0,f.default)(this,n),(t=a.call(this,e)).state={userName:"",orgNameLike:"",startDate:O,endDate:x,list:[],totalsur:1,pageNo:1,pageSize:10,loading:!0},t}return(0,h.default)(n,[{key:"componentDidMount",value:function(){this.show()}},{key:"show",value:function(e){var t=this,a=this.state.pageNo,n={pageSize:this.state.pageSize,pageNo:"query"===e?1:this.state.pageNo,userName:this.state.userName,orgNameLike:this.state.orgNameLike};this.setState({pageNo:a}),this.props.getLearnTimeList(n,(function(e){"1000"===e.code?t.setState({list:e.data.records,totalsur:e.page.pageTotal,loading:!1}):d.default.error(e.subMsg)}))}},{key:"handlePageChange",value:function(e,t){var a=this;this.setState({pageNo:e},(function(){a.show()}))}},{key:"handlePageSizeChange",value:function(e,t){var a=this;this.setState({pageNo:1,pageSize:t},(function(){a.show()}))}},{key:"query",value:function(){this.setState({loading:!0}),this.show("query")}},{key:"showTotal2",value:function(e){return"共计 ".concat(e," 条")}},{key:"disabledDate",value:function(e){return e&&e>(0,v.default)().endOf("day").subtract(0,"days")}},{key:"handleInputChange",value:function(e){var t=e.target.name;this.setState((0,c.default)({},t,e.target.value))}},{key:"downurl",value:function(e){if(1==e){var t={startDate:this.state.startDate,endDate:this.state.endDate,userName:this.state.userName,orgNameLike:this.state.orgNameLike};this.props.getLearnTimeDownload(t,(function(e){"1000"===e.code?d.default.success(e.data):d.default.error(e.subMsg)}))}else if(2==e){var a={userName:this.state.userName,orgNameLike:this.state.orgNameLike};this.props.getDetailDownload(a,(function(e){"1000"===e.code?d.default.success(e.data):d.default.error(e.subMsg)}))}}},{key:"render",value:function(){var e=this,t=this.state.list,a=Number(this.state.totalsur),n=this.state.pageNo;return console.log(n,"000000"),N.default.createElement(i.default,{spinning:this.state.loading},N.default.createElement(k.default,{title:"学时统计"}),N.default.createElement("div",{id:y.default.duser},N.default.createElement("div",{style:{marginTop:"10px"}},N.default.createElement(l.default,{placeholder:"请输入部门",className:y.default.dinput,name:"orgNameLike",onChange:function(t){return e.handleInputChange(t)}}),N.default.createElement(l.default,{placeholder:"请输入用户关键字",className:y.default.dinput,name:"userName",onChange:function(t){return e.handleInputChange(t)}}),N.default.createElement(s.default,{className:y.default.serch_time,onClick:function(){return e.query(1)}},"查询"),N.default.createElement(s.default,{className:y.default.serch_time,onClick:function(){return e.downurl(1)}},"下载统计数据"),N.default.createElement(s.default,{className:y.default.serch_time,onClick:function(){return e.downurl(2)}},"下载明细数据")),N.default.createElement(o.default,{style:{background:"white"},rowKey:function(e){return e.index},rowkey:!0,columns:[{title:"序号",dataIndex:"index"},{title:"用户名",dataIndex:"userName"},{title:"姓名",dataIndex:"fullName"},{title:"所在部门",dataIndex:"orgName"},{title:"用户当前状态",dataIndex:"accountState"},{title:"学时数",dataIndex:"studyHour"}],dataSource:t,pagination:!1}),N.default.createElement(u.default,{current:this.state.pageNo,showTotal:this.showTotal2,className:y.default.survey_list_pagination,total:a,showQuickJumper:!0,onChange:this.handlePageChange.bind(this),showSizeChanger:!0,pageSizeOptions:["10","20","30"],onShowSizeChange:this.handlePageSizeChange.bind(this)})))}}]),n}(N.Component),C=(0,b.connect)((function(e){return E({},e)}),E({},w.default))(T);t.default=C},2314:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(76)),i=n(a(2315)).default.learnTimeStatistics,u=i.learnTimeList,o=i.learnTimeDownload,s=i.detailDownload,l={getLearnTimeList:function(e,t){return function(a){return(0,r.default)({url:u,data:e}).then((function(e){t&&t(e)}))}},getLearnTimeDownload:function(e,t){return function(a){return(0,r.default)({url:o,data:e}).then((function(e){t&&t(e)}))}},getDetailDownload:function(e,t){return function(a){return(0,r.default)({url:s,data:e}).then((function(e){t&&t(e)}))}}};t.default=l},2315:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),i={learnTimeStatistics:{learnTimeList:"GET ".concat(r.default.webManage,"/report/studyHour/list"),learnTimeDownload:"GET ".concat(r.default.webManage,"/report/studyHour/listDownload"),detailDownload:"GET ".concat(r.default.webManage,"/report/studyHour/details/download")}};t.default=i},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},544:function(e,t,a){e.exports=a(11)(846)},558:function(e,t,a){e.exports=a(11)(251)},566:function(e,t,a){e.exports=a(11)(817)},620:function(e,t,a){"use strict";var n=a(19),r=a(16),i=a(85),u=a(36),o=a(21),s=a(45),l=a(153),c=a(81),d=a(14),f=a(66),h=a(78).f,p=a(49).f,g=a(22).f,m=a(236).trim,_=r.Number,N=_.prototype,v="Number"==s(f(N)),y=function(e){var t,a,n,r,i,u,o,s,l=c(e,!1);if("string"==typeof l&&l.length>2)if(43===(t=(l=m(l)).charCodeAt(0))||45===t){if(88===(a=l.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(u=(i=l.slice(2)).length,o=0;o<u;o++)if((s=i.charCodeAt(o))<48||s>r)return NaN;return parseInt(i,n)}return+l};if(i("Number",!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var w,b=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof b&&(v?d((function(){N.valueOf.call(a)})):"Number"!=s(a))?l(new _(y(t)),a,b):y(t)},k=n?h(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;k.length>D;D++)o(_,w=k[D])&&!o(b,w)&&g(b,w,p(_,w));b.prototype=N,N.constructor=b,u(r,"Number",b)}}}]);