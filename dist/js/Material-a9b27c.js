(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1012:function(e,t,a){"use strict";var n=a(4),l=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getMaterialList=v,t.deleteMaterial=function(e,t){return function(a){return(0,u.default)({url:f,data:e}).then((function(e){"1000"===e.code&&a(v(t))}))}},t.editMaterial=function(e,t){return function(a){return(0,u.default)({url:p,data:e}).then((function(e){t&&t(e)}))}},t.newMaterial=function(e,t){return function(a){return(0,u.default)({url:g,data:e}).then((function(e){t&&t(e)}))}},t.showMaterial=function(e,t){return function(a){return(0,u.default)({url:m,data:e}).then((function(e){"1000"==e.code&&a({type:o.SHOW_MATERIAL,data:e.data}),t&&t()}))}},t.editMaterialType=S,t.materialExport=function(e,t){return function(t){return(0,u.default)({url:s,data:e}).then((function(e){1e3==e.code?r.default.success("导出成功，请在任务管理中下载查看"):r.default.error(e.subMsg)}))}},t.getMaterialCommonList=function(e,t){return function(t){return(0,u.default)({url:h,data:e}).then((function(e){"1000"==e.code&&(t({type:o.GET_MATERIAL_LIST,data:{list:e.data.records,total:e.data.total}}),t(S(1)))}))}},t.getCommonMaterialList=function(e,t){return function(t){return(0,u.default)({url:h,data:e}).then((function(e){"1000"==e.code&&(t({type:o.GET_MATERIAL_LIST,data:{list:e.data.records,total:e.data.total}}),t(S(1)))}))}},t.getScormMaterialList=function(e,t){return function(t){return(0,u.default)({url:E,data:e}).then((function(e){"1000"==e.code&&(t({type:o.GET_MATERIAL_LIST,data:{list:e.data.records,total:e.data.total}}),t(S(1)))}))}},t.getExamTsetList=function(e,t){return function(t){return(0,u.default)({url:y,data:e}).then((function(e){"1000"==e.code&&(t({type:o.GET_EXAMTEST_LIST,data:{list:e.data,page:e.page}}),t(S(1)))}))}},t.materialReduceInit=void 0,a(61);var r=l(a(62)),u=l(a(78)),i=l(a(1292)),o=n(a(250)),d=i.default.materialManage,c=d.materialListUrl,f=d.materiaDelUrl,s=d.materiaExportlUrl,m=d.materialDetialUrl,p=d.materialUpdateUrl,g=d.materialSaveUrl,h=d.materialCommonListUrl,E=d.materialScormListUrl,y=d.testListUrl;function v(e,t){return function(t){return(0,u.default)({url:c,data:e}).then((function(e){"1000"===e.code?(t({type:o.GET_MATERIAL_LIST,data:{list:e.data.records,total:e.data.total}}),t(S(1))):r.default.error("请求失败...")}))}}function S(e){return function(t){t({type:o.SELECT_MATERIAL_TYPE,data:e})}}t.materialReduceInit=function(e,t){return function(t){t({type:o.MATERIAL_REDUCER_INIT,data:e})}}},1292:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(63)),r={materialManage:{materialListUrl:"GET ".concat(l.default.webManage,"/material/list"),materiaDelUrl:"POST ".concat(l.default.webManage,"/material/delete"),materiaExportlUrl:"POST ".concat(l.default.webManage,"/material/export"),materialDetialUrl:"GET ".concat(l.default.webManage,"/material/get"),materialSaveUrl:"POST ".concat(l.default.webManage,"/material/save"),materialUpdateUrl:"POST ".concat(l.default.webManage,"/material/update"),materialCommonListUrl:"GET ".concat(l.default.webManage,"/material/commonList"),materialScormListUrl:"GET ".concat(l.default.webManage,"/material/scormList"),testListUrl:"POST ".concat(l.default.webManage,"/testInfo/test/list")}};t.default=r},1614:function(e,t,a){e.exports={material_manage_body:"material_manage_body__14eLU",head_search:"head_search__EcPMS",search_item:"search_item__1i_Ui",search_btns:"search_btns__UVrKl",search_btn_del:"search_btn_del__3Stty"}},527:function(e,t,a){"use strict";var n=a(4),l=a(0);a(7),a(44),a(3),a(5),a(227),a(51),a(9),a(10),a(8),a(20),a(34),a(35),a(23),a(53),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(549);var r=l(a(544));a(140);var u=l(a(535));a(146);var i=l(a(150));a(61);var o=l(a(62)),d=l(a(2));a(564);var c=l(a(563)),f=l(a(29)),s=l(a(30)),m=l(a(59)),p=l(a(32)),g=l(a(33)),h=l(a(31));a(554);var E=l(a(550));a(537);var y=l(a(536));a(540);var v=l(a(539)),S=n(a(1)),b=l(a(226)),M=a(65),_=a(52),w=l(a(223)),T=a(1012),C=l(a(106)),x=l(a(1614));function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,d.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=v.default.Item,I=(y.default.Search,E.default.Option),N=location.pathname.split("/")[1],D=location.pathname.split("/")[2],z=function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,h.default)(t);if(L()){var n=(0,h.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,g.default)(this,e)});function n(e){var t;return(0,f.default)(this,n),(t=a.call(this,e)).state={value:{},selectedRowKeys:[],checkArr:[],pageNo:1,pageSize:20},t.handleSearch=t.handleSearch.bind((0,m.default)(t)),t.handleTableChange=t.handleTableChange.bind((0,m.default)(t)),t.handlePageChange=t.handlePageChange.bind((0,m.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,m.default)(t)),t.handleDeleteRows=t.handleDeleteRows.bind((0,m.default)(t)),t.handleDeleteRow=t.handleDeleteRow.bind((0,m.default)(t)),t.columns=[{title:C.default.get("MaterialNumber")||"素材编号",dataIndex:"code"},{title:C.default.get("MaterialName")||"素材名称",dataIndex:"name",render:function(e){return S.default.createElement("span",{title:e,style:{maxWidth:160,display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"}},e)}},{title:C.default.get("MaterialType")||"素材类型",dataIndex:"type",render:function(e,t){return S.default.createElement("span",null,1===t.type&&S.default.createElement("span",null,C.default.get("Audio")||"音频"),2===t.type&&S.default.createElement("span",null,C.default.get("Video")||"视频"),3===t.type&&S.default.createElement("span",null,C.default.get("Text")||"文本"),4===t.type&&S.default.createElement("span",null,C.default.get("Multimedia")||"多媒体"),5===t.type&&S.default.createElement("span",null,C.default.get("albumManagement29")||"Scorm"))}},{title:C.default.get("MaterialOrigin")||"素材来源",dataIndex:"source",render:function(e,t){return S.default.createElement("span",null,3===t.source&&S.default.createElement("span",null,C.default.get("InternalCustomization")||"内部定制"),2===t.source&&S.default.createElement("span",null,C.default.get("ExternalCustomization")||"外部定制"," "),1===t.source&&S.default.createElement("span",null,C.default.get("globalsearch5")||"外部采购"))}},{title:C.default.get("CreateTime")||"创建时间",dataIndex:"time",render:function(e,t){return S.default.createElement("span",null,(0,w.default)(t.createTime).format("YYYY-MM-DD HH:mm:ss"))}},{title:C.default.get("RemarksInformation")||"备注信息",dataIndex:"note",width:160,render:function(e,t){return S.default.createElement("span",null,1==t.type||2==t.type?"vid:"+t.polyVid:"")}},{title:C.default.get("Operation")||"操作",dataIndex:"action",render:function(e,a){return S.default.createElement("span",null,S.default.createElement(M.Link,{to:"/".concat(N,"/").concat(D,"/index/online/material-management/edit/").concat(a.id)},C.default.get("change")||"修改"),"    ",S.default.createElement(c.default,{style:{minWidth:"180px"},title:C.default.get("SystemAdmin29")||"确定删除？",onConfirm:function(){return t.handleDeleteRow(a.id)}},S.default.createElement("a",{href:"#"},C.default.get("caseContentDelete")||"删除")))}}],t}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.props.getlist({})}},{key:"handleSearch",value:function(e){var t=this,a=this.state,n=a.pageNo,l=a.pageSize;this.props.form.validateFields((function(e,a){t.props.getlist(R({},a,{pageNo:1,pageSize:l})),console.log(n,"Received values of form: ",a.name),t.setState({value:a},(function(){this.setState({pageNo:1}),console.log(n,"1562141319024")}))}))}},{key:"handleTableChange",value:function(){}},{key:"handleDeleteRow",value:function(e){var t=this.state,a=R({},t.value,{pageNo:t.pageNo,pageSize:t.pageSize});this.props.delete({ids:e},a)}},{key:"handleDeleteRows",value:function(){var e=this,t=this.state.checkArr;if(!t.length)return o.default.info(C.default.get("albumManagement27")||"请选择要删除的素材");for(var a=[],n=0;n<t.length;n++)a.push(t[n].id);var l=this.state,r=R({},l.value,{pageNo:l.pageNo,pageSize:l.pageSize});this.props.delete({ids:a.join(",")},r).then((function(t){e.setState({checkArr:[]})})),this.setState({selectedRowKeys:[]})}},{key:"showTotal",value:function(e){return C.default.get("Total")||"共计"+e+C.default.get("item")||"条"}},{key:"handlePageChange",value:function(e,t){this.setState({pageNo:e}),this.props.getlist(R({},this.state.value,{pageNo:e,pageSize:t})),console.log(e,"pageNo")}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state.pageNo;this.setState({pageSize:t}),this.props.getlist(R({},this.state.value,{pageNo:1,pageSize:t})),this.setState({pageNo:a},(function(){console.log(a,"pageNo123")}))}},{key:"render",value:function(){var e=this,t=this.props.list,a=this.state,n=a.selectedRowKeys,l=a.pageNo,o=this.props.form.getFieldDecorator,d={selectedRowKeys:n,onChange:function(t,a){console.log("检测打印变量=selectedRows ",a),e.setState({selectedRowKeys:t,checkArr:a})},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}};return t?S.default.createElement("div",{className:x.default.material_manage_body},S.default.createElement(b.default,{title:C.default.get("albumManagement28")||"素材管理"}),S.default.createElement(v.default,{className:x.default.head_search,id:"material-search",onSubmit:this.handleSearch},S.default.createElement(O,{label:C.default.get("Statisitic27")||"关键字（词）",className:x.default.search_item},o("name")(S.default.createElement(y.default,{style:{width:300},placeholder:C.default.get("PleaseEnterTheMaterialCodeMaterialNameCustomKeyWords")||"请输入素材编码、素材名称、自定义关键词"}))),S.default.createElement(O,{label:C.default.get("MaterialType")||"素材类型",className:x.default.search_item},o("type")(S.default.createElement(E.default,{style:{width:120},getPopupContainer:function(){return document.getElementById("material-search")}},S.default.createElement(I,{value:""},C.default.get("All")||"全部"),S.default.createElement(I,{value:1}," ",C.default.get("Audio")||"音频"),S.default.createElement(I,{value:2}," ",C.default.get("Video")||"视频"),S.default.createElement(I,{value:3}," ",C.default.get("Text")||"文本"),S.default.createElement(I,{value:4}," ",C.default.get("Multimedia")||"多媒体"),S.default.createElement(I,{value:5}," ",C.default.get("albumManagement29")||"Scorm")))),S.default.createElement(O,{label:C.default.get("MaterialOrigin")||"素材来源",className:x.default.search_item},o("source")(S.default.createElement(E.default,{style:{width:120},getPopupContainer:function(){return document.getElementById("material-search")}},S.default.createElement(I,{value:""},C.default.get("All")||"全部"),S.default.createElement(I,{value:1},C.default.get("ExternalProcurement")||"外部采购"),S.default.createElement(I,{value:2},C.default.get("ExternalCustomization")||"外部定制"),S.default.createElement(I,{value:3},C.default.get("InternalCustomization")||"内部定制")))),S.default.createElement(u.default,{type:"primary",style:{marginTop:"4px"},onClick:this.handleSearch},C.default.get("check")||"查询")),S.default.createElement("div",{className:x.default.search_btns},S.default.createElement(M.Link,{to:"/"+N+"/"+D+"/index/online/material-management/edit/0"},S.default.createElement(u.default,{type:"primary"},C.default.get("CreateMaterial")||"创建素材")),S.default.createElement(c.default,{title:C.default.get("SystemAdmin27")||"是否删除？",onConfirm:this.handleDeleteRows},S.default.createElement(u.default,{type:"primary",className:x.default.search_btn_del},C.default.get("Delete")||"删除")),S.default.createElement(c.default,{style:{minWidth:"180px"},title:C.default.get("albumManagement30")||"确定导出素材？",onConfirm:function(){return e.props.materialExport()}},S.default.createElement(u.default,{type:"primary"},C.default.get("albumManagement30")||"导出素材信息"))),S.default.createElement("div",{className:"material-list"},S.default.createElement(r.default,{rowKey:"id",rowSelection:d,columns:this.columns,dataSource:t.list,onChange:this.handleTableChange,pagination:{total:t.total,showTotal:function(){return"共计 "+t.total+" 条"},pageSize:this.state.pageSize,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:l,onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange,showQuickJumper:!0,size:"small",defaultPageSize:20}}))):S.default.createElement(i.default,null)}}]),n}(S.Component);var A=(0,_.connect)((function(e,t){return{list:e.materialReducer.list}}),(function(e){return{getlist:function(t){return e((0,T.getMaterialList)(t))},delete:function(t,a){return e((0,T.deleteMaterial)(t,a))},materialExport:function(){return e((0,T.materialExport)())}}}))(v.default.create()(z));t.default=A},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},540:function(e,t,a){"use strict";a.r(t);a(26),a(577),a(584)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},563:function(e,t,a){e.exports=a(11)(837)},564:function(e,t,a){"use strict";a.r(t);a(26),a(581),a(140)},577:function(e,t,a){},581:function(e,t,a){"use strict";a.r(t);a(26),a(585)},585:function(e,t,a){},586:function(e,t,a){}}]);