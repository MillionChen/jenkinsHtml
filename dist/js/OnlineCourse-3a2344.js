(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{1e3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var n,r=(n=a(761))&&n.__esModule?n:{default:n},o=a(762);t.createSensor=function(e){var t=void 0,a=[],n=(0,r.default)((function(){a.forEach((function(t){t(e)}))})),l=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",n),t.parentNode.removeChild(t),t=void 0,a=[])};return{element:e,bind:function(r){t||(t=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",n),n()},t.setAttribute("style",o.SensorStyle),t.setAttribute("class",o.SensorClassName),t.setAttribute("tabindex",o.SensorTabIndex),t.type="text/html",e.appendChild(t),t.data="about:blank",t}()),-1===a.indexOf(r)&&a.push(r)},destroy:l,unbind:function(e){var n=a.indexOf(e);-1!==n&&a.splice(n,1),0===a.length&&t&&l()}}}},1001:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var n,r=(n=a(761))&&n.__esModule?n:{default:n};t.createSensor=function(e){var t=void 0,a=[],n=(0,r.default)((function(){a.forEach((function(t){t(e)}))})),o=function(){t.disconnect(),a=[],t=void 0};return{element:e,bind:function(r){var o;t||((o=new ResizeObserver(n)).observe(e),n(),t=o),-1===a.indexOf(r)&&a.push(r)},destroy:o,unbind:function(e){var n=a.indexOf(e);-1!==n&&a.splice(n,1),0===a.length&&t&&o()}}}},1002:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.pick=function(e,t){var a={};return t.forEach((function(t){a[t]=e[t]})),a}},1005:function(e,t,a){e.exports={user_head:"user_head__wRk59",serch_time:"serch_time__YBEeX",seach_type:"seach_type__1MtSU",duser:"duser__2x7xU",seachresult:"seachresult__2wbZZ",dinput:"dinput__17fWR",question:"question__2I041",survey_list_pagination:"survey_list_pagination__30Wnf",survey_list_paginations:"survey_list_paginations__i2z6D",time_border:"time_border__1-Nqh",online_list_pagination:"online_list_pagination__2qnCe",row_style:"row_style__vsJJ0","ant-input-affix-wrapper":"ant-input-affix-wrapper__RA9-1",exam_table:"exam_table__3sYYq",integral_box:"integral_box__172bC"}},2280:function(e,t,a){"use strict";var n=a(4),r=a(0);a(43),a(51),a(620),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var o=r(a(225));a(569);var l=r(a(558));a(549);var s=r(a(544));a(537);var i=r(a(536));a(144);var u=r(a(230));a(61);var d=r(a(62));a(146);var c=r(a(150));a(140);var f=r(a(535)),p=r(a(29)),h=r(a(30)),g=r(a(59)),m=r(a(32)),v=r(a(33)),y=r(a(31)),w=r(a(2));a(554);var b=r(a(550));a(575);var D=r(a(568));a(592);var k=r(a(566)),E=n(a(1)),O=(a(636),r(a(825))),C=r(a(223)),S=r(a(1005)),_=n(a(2281)),N=a(52),M=r(a(226));function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){(0,w.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e){return function(){var t,a=(0,y.default)(e);if(z()){var n=(0,y.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,v.default)(this,t)}}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Y=k.default.RangePicker,P=D.default.TabPane,L=(b.default.Option,(new Date).getTime()),j=(0,C.default)(L).format("YYYY-MM-DD"),U=j.split("-").length,A=(0,C.default)(L).format("YYYY-MM")+"-01";if("01"===j.split("-")[U-1]){var K=(0,C.default)(L).format("YYYY-MM"),R=Number(K.split("-")[1]);R=R>10?String(R-1):"0"+String(R-1),A=(0,C.default)(L).format("YYYY")+"-"+R+"-01"}var H=(0,C.default)(L).endOf("day").subtract(1,"days").format("YYYY-MM-DD"),q=function(e){(0,m.default)(a,e);var t=T(a);function a(e){var n;return(0,p.default)(this,a),n=t.call(this,e),(0,w.default)((0,g.default)(n),"disabledDate",(function(e){return e&&e>(0,C.default)().endOf("day").subtract(1,"days")})),n.state={title:[],arr:[],name:["学习人数"],startDate:A,endDate:H,type:"1",loading:!0},n}return(0,h.default)(a,[{key:"componentDidMount",value:function(){this.show(),console.log(1111,(0,C.default)(new Date).endOf("day").subtract(0,"days").format("YYYY-MM-DD"))}},{key:"show",value:function(){var e=this,t={startDate:this.state.startDate,endDate:this.state.endDate,type:this.state.type};this.props.getOnlineCourseCharts(t,(function(t){if("1000"===t.code){var a=[],n=[];t.data.map((function(e,t){a.push(e.value),n.push(e.totalAccount)})),e.setState({title:a,arr:n,loading:!1})}}))}},{key:"query",value:function(){this.setState({loading:!0}),this.show(),this.refs.Dtab.userstat(),this.refs.Dtab.coursestat(),this.refs.Dtab.departmentstat()}},{key:"onChange",value:function(e,t){this.setState({startDate:t[0],endDate:t[1]})}},{key:"handleSizeChange",value:function(e){this.setState({type:e.target.value})}},{key:"getOption",value:function(){return{xAxis:{type:"category",data:this.state.title},yAxis:{type:"value"},legend:{data:this.state.name},color:["blue"],tooltip:{show:!0},dataZoom:{show:!0,realtime:!0,x:120,height:20},series:[{name:this.state.name[0],data:this.state.arr,type:"line"}]}}},{key:"render",value:function(){var e=this;return E.default.createElement(c.default,{spinning:this.state.loading},E.default.createElement(M.default,{title:"在线课程统计"}),E.default.createElement("div",{id:S.default.duser},E.default.createElement("div",{className:S.default.user_head},E.default.createElement("span",{className:S.default.time_border},"时间段"),E.default.createElement(Y,{className:S.default.serch_time,format:"YYYY-MM-DD",defaultValue:[(0,C.default)(this.state.startDate,"YYYY-MM-DD"),(0,C.default)(this.state.endDate,"YYYY-MM-DD")],onChange:this.onChange.bind(this),disabledDate:this.disabledDate}),E.default.createElement(f.default,{onClick:function(){return e.query()}},"查询")),E.default.createElement(O.default,{style:{marginTop:"16px"},option:this.getOption(),notMerge:!0,lazyUpdate:!0,theme:"theme_name"}),E.default.createElement(G,{ref:"Dtab",style:{marginTop:"16px"},startDate:this.state.startDate,endDate:this.state.endDate,getOnlineUserList:this.props.getOnlineUserList,getOnlineCourseList:this.props.getOnlineCourseList,getOnlineOrgList:this.props.getOnlineOrgList,getOnlineModalUserCourseData:this.props.getOnlineModalUserCourseData,getOnlineModalUserLearnData:this.props.getOnlineModalUserLearnData,getOnlineCourseDownload:this.props.getOnlineCourseDownload,getOnlineUserStatisticsData:this.props.getOnlineUserStatisticsData,getOnlineUserDetailData:this.props.getOnlineUserDetailData,getOnlineOrgStatictisData:this.props.getOnlineOrgStatictisData,getOnlineModalCourseDownload:this.props.getOnlineModalCourseDownload,getOnlineModalLearnDownload:this.props.getOnlineModalLearnDownload})))}}]),a}(E.default.Component),G=function(e){(0,m.default)(a,e);var t=T(a);function a(e){var n,r;return(0,p.default)(this,a),(r=t.call(this,e)).state=(n={key:1,pageNo:1,pageSize:10,visible:!1,orgKwd:"",accountKwd:""},(0,w.default)(n,"pageSize",10),(0,w.default)(n,"pageNo",1),(0,w.default)(n,"uesrlist",[]),(0,w.default)(n,"courselist",[]),(0,w.default)(n,"kwd",""),(0,w.default)(n,"departmentlist",[]),(0,w.default)(n,"dkwd",""),(0,w.default)(n,"totalcour",1),(0,w.default)(n,"totaluser",1),(0,w.default)(n,"totaldepa",1),n),r}return(0,h.default)(a,[{key:"callback",value:function(e){this.setState({key:e})}},{key:"componentDidMount",value:function(){this.userstat(),this.coursestat(),this.departmentstat()}},{key:"userstat",value:function(e){var t=this;this.state.pageNo;if(1==e)var a={startDate:this.props.startDate,endDate:this.props.endDate,orgKwd:this.state.orgKwd,accountKwd:this.state.accountKwd,pageSize:this.state.pageSize,pageNo:1};else a={startDate:this.props.startDate,endDate:this.props.endDate,orgKwd:this.state.orgKwd,accountKwd:this.state.accountKwd,pageSize:this.state.pageSize,pageNo:this.state.pageNo};this.props.getOnlineUserList(a,(function(e){"1000"==e.code&&t.setState({uesrlist:e.data,totaluser:e.page.pageTotal})}))}},{key:"coursestat",value:function(e){var t=this;this.state.pageNo;if(1==e)var a={startDate:this.props.startDate,endDate:this.props.endDate,kwd:this.state.kwd,pageSize:this.state.pageSize,pageNo:1};else a={startDate:this.props.startDate,endDate:this.props.endDate,kwd:this.state.kwd,pageSize:this.state.pageSize,pageNo:this.state.pageNo};this.props.getOnlineCourseList(a,(function(e){"1000"==e.code&&t.setState({courselist:e.data,totalcour:e.page.pageTotal})}))}},{key:"departmentstat",value:function(e){var t=this;this.state.pageNo;if(1==e)var a={startDate:this.props.startDate,endDate:this.props.endDate,kwd:this.state.dkwd,pageSize:this.state.pageSize,pageNo:1};else a={startDate:this.props.startDate,endDate:this.props.endDate,kwd:this.state.dkwd,pageSize:this.state.pageSize,pageNo:this.state.pageNo};this.props.getOnlineOrgList(a,(function(e){"1000"==e.code&&t.setState({departmentlist:e.data,totaldepa:e.page.pageTotal})}))}},{key:"handlePageChangecour",value:function(e,t){var a=this;this.setState({pageNo:e},(function(){a.coursestat()}))}},{key:"handlePageChangeuser",value:function(e,t){var a=this;this.setState({pageNo:e},(function(){a.userstat()}))}},{key:"handlePageChangedepa",value:function(e,t){var a=this;this.setState({pageNo:e},(function(){a.departmentstat()}))}},{key:"handlePageSizeChangecour",value:function(e,t){var a=this;this.setState({pageNo:1,pageSize:t},(function(){a.coursestat()}))}},{key:"handlePageSizeChangeuser",value:function(e,t){var a=this;this.setState({pageNo:1,pageSize:t},(function(){a.userstat()}))}},{key:"handlePageSizeChangedepa",value:function(e,t){var a=this;this.setState({pageNo:1,pageSize:t},(function(){a.departmentstat()}))}},{key:"handleInputChange",value:function(e){var t=e.target.name;this.setState((0,w.default)({},t,e.target.value))}},{key:"query",value:function(e){switch(e){case 1:this.coursestat(1);break;case 2:this.userstat(1);break;case 3:this.departmentstat(1)}}},{key:"downkeex",value:function(e,t){switch(console.log(t,"all"),e){case 1:var a={startDate:this.props.startDate,endDate:this.props.endDate,kwd:this.state.dkwd};this.props.getOnlineCourseDownload(a,(function(e){"1000"==e.code?d.default.success(e.data):d.default.error(e.data)}));break;case 2:a={startDate:this.props.startDate,endDate:this.props.endDate,orgKwd:this.state.orgKwd,accountKwd:this.state.accountKwd};this.props.getOnlineUserStatisticsData(a,(function(e){"1000"==e.code?d.default.success(e.data):d.default.error(e.data)}));break;case 3:a={startDate:this.props.startDate,endDate:this.props.endDate,orgKwd:this.state.orgKwd,accountKwd:this.state.accountKwd,isAllData:"all"===t};this.props.getOnlineUserDetailData(a,(function(e){"1000"===e.code?d.default.success(e.data):d.default.error("导出失败")}));break;case 4:a={startDate:this.props.startDate,endDate:this.props.endDate,kwd:this.state.dkwd};this.props.getOnlineOrgStatictisData(a,(function(e){"1000"==e.code?d.default.success(e.data):d.default.error(e.data)}))}}},{key:"showTotal1",value:function(e){return"共计 ".concat(e," 条")}},{key:"showTotal2",value:function(e){return"共计 ".concat(e," 条")}},{key:"showTotal3",value:function(e){return"共计 ".concat(e," 条")}},{key:"render",value:function(){var e=this,t=[{title:"课程编码",dataIndex:"courseNo",key:"courseNo"},{title:"课程名称",dataIndex:"courseName",key:"courseName",width:150,render:function(e){return E.default.createElement("span",{title:e,style:{width:150,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"}},e)}},{title:"是否关联证书",dataIndex:"grantCertificate",key:"grantCertificate",render:function(e,t){return E.default.createElement("span",null,e?"是":"否")}},{title:"获证张数",dataIndex:"certificateCount",key:"certificateCount",render:function(e,t){return E.default.createElement("span",null,e)}},{title:"可学习人数",dataIndex:"totalAskAccount",key:"totalAskAccount",render:function(t,a){return E.default.createElement("a",{onClick:function(){return e.refs.show.showModal(1,a.courseId)}},t)}},{title:"已学习人数",dataIndex:"totalInAccount",key:"totalInAccount"},{title:"学习次数",dataIndex:"totalCount",key:"totalCount"},{title:"课程时长(HH:mm:ss)",dataIndex:"totalCourseTime",key:"totalCourseTime"},{title:"总学习时长(HH:mm:ss)",dataIndex:"totalDuration",key:"totalDuration",render:function(e,t){return E.default.createElement("span",null,e)}},{title:"平均学习时长(秒)",dataIndex:"avgDuration",key:"avgDuration",render:function(e,t){return E.default.createElement("span",null,e)}},{title:"评论数",dataIndex:"numComment",key:"numComment"},{title:"收藏数",dataIndex:"collectNum",key:"collectNum"},{title:"课程评分",dataIndex:"courseScore",key:"courseScore"}],a=[{title:"用户名",dataIndex:"accountName"},{title:"姓名",dataIndex:"accountFullName"},{title:"所在部门",dataIndex:"orgName",render:function(e,t){return E.default.createElement(u.default,{placement:"topLeft",title:t.lastTime,arrowPointAtCenter:!0},e)}},{title:"可学课程数",dataIndex:"totalAskCourse",render:function(t,a){return E.default.createElement("a",{onClick:function(){return e.refs.show.showModal(2,a.accountId)}},t)}},{title:"参加课程数",dataIndex:"totalInCourse"},{title:"完成课程数",dataIndex:"totalFinishCourse"},{title:"总学习时长(HH:mm:ss)",dataIndex:"totalDuration",render:function(e,t){return E.default.createElement("span",null,e)}},{title:"最后学习时间",dataIndex:"lastTime",render:function(e,t){return E.default.createElement("span",null,""!==e?(0,C.default)(Number(e)).format("YYYY/MM/DD HH:mm:ss"):"")}}],n=[{title:"部门编码",dataIndex:"orgNo",key:"orgNo"},{title:"部门名称",dataIndex:"orgName",key:"orgName"},{title:"参加课程数",dataIndex:"totalInCourse",key:"totalInCourse"},{title:"参加人数",dataIndex:"totalInAccount",key:"totalInAccount"},{title:"总学习次数",dataIndex:"totalCount",key:"totalCount"},{title:"总学习时长(HH:mm:ss)",dataIndex:"totalDuration",key:"totalDuration",render:function(e,t){return E.default.createElement("span",null,e)}},{title:"平均学习时长(秒)",dataIndex:"avgDuration",key:"avgDuration",render:function(e,t){return E.default.createElement("span",null,e)}}];return E.default.createElement("div",null,E.default.createElement(D.default,{className:"survey-tabs",defaultActiveKey:"1",onChange:function(t){return e.callback(t)}},E.default.createElement(P,{tab:"按课程统计",key:"1"},1==this.state.key&&E.default.createElement("div",null,E.default.createElement("div",null,E.default.createElement("span",{className:S.default.seachresult},"查询结果",E.default.createElement(J,{type:"cour"})),E.default.createElement(i.default,{placeholder:"请输入课程关键字",className:S.default.dinput,name:"kwd",onChange:function(t){return e.handleInputChange(t)}}),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.query(1)}},"查询"),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.downkeex(1)}},"下载结果数据")),E.default.createElement(s.default,{style:{background:"white"},columns:t,dataSource:this.state.courselist,pagination:!1,rowKey:"courseId"}),E.default.createElement(l.default,{current:this.state.pageNo,showTotal:this.showTotal1,className:S.default.survey_list_pagination,total:this.state.totalcour,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30"],onChange:this.handlePageChangecour.bind(this),onShowSizeChange:this.handlePageSizeChangecour.bind(this)}))),E.default.createElement(P,{tab:"按用户统计",key:"2"},2==this.state.key&&E.default.createElement("div",null,E.default.createElement("div",null,E.default.createElement("span",{className:S.default.seachresult},"查询结果",E.default.createElement(J,{type:"user"})),E.default.createElement(i.default,{placeholder:"请输入部门编码或名称",className:S.default.dinput,name:"orgKwd",onChange:function(t){return e.handleInputChange(t)}}),E.default.createElement(i.default,{placeholder:"请输入用户关键字",className:S.default.dinput,name:"accountKwd",onChange:function(t){return e.handleInputChange(t)}}),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.query(2)}},"查询"),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.downkeex(2)}},"下载学习统计数据"),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.downkeex(3)}},"下载已学习明细"),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.downkeex(3,"all")}},"下载全部数据明细")),E.default.createElement(s.default,{style:{background:"white"},columns:a,dataSource:this.state.uesrlist,pagination:!1}),E.default.createElement(l.default,{current:this.state.pageNo,showTotal:this.showTotal2,className:S.default.survey_list_pagination,total:this.state.totaluser,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30"],onChange:this.handlePageChangeuser.bind(this),onShowSizeChange:this.handlePageSizeChangeuser.bind(this)}))),E.default.createElement(P,{tab:"按部门统计",key:"3"},3==this.state.key&&E.default.createElement("div",null,E.default.createElement("div",null,E.default.createElement("span",{className:S.default.seachresult},"查询结果",E.default.createElement(J,{type:"depa"})),E.default.createElement(i.default,{placeholder:"请输入部门编码或名称",className:S.default.dinput,name:"dkwd",onChange:function(t){return e.handleInputChange(t)}}),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.query(3)}},"查询"),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.downkeex(4)}},"下载结果数据")),E.default.createElement(s.default,{style:{background:"white"},columns:n,dataSource:this.state.departmentlist,pagination:!1}),E.default.createElement(l.default,{current:this.state.pageNo,showTotal:this.showTotal3,className:S.default.survey_list_pagination,total:this.state.totaldepa,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30"],onChange:this.handlePageChangedepa.bind(this),onShowSizeChange:this.handlePageSizeChangedepa.bind(this)})))),E.default.createElement(F,{ref:"show",startDate:this.props.startDate,endDate:this.props.endDate,getOnlineModalUserCourseData:this.props.getOnlineModalUserCourseData,getOnlineModalUserLearnData:this.props.getOnlineModalUserLearnData,getOnlineModalCourseDownload:this.props.getOnlineModalCourseDownload,getOnlineModalLearnDownload:this.props.getOnlineModalLearnDownload}))}}]),a}(E.Component),F=function(e){(0,m.default)(a,e);var t=T(a);function a(e){var n;return(0,p.default)(this,a),(n=t.call(this,e)).state={visible:!1,pageNo:1,pageSize:10,type:1,orgKwd:"",accountKwd:"",kwd:"",kelist:[],userlist:[],totaluser:1,totalke:1,sloading:!0},n}return(0,h.default)(a,[{key:"componentDidMount",value:function(){}},{key:"show",value:function(e){var t=this,a={startDate:this.props.startDate,endDate:this.props.endDate,courseId:this.state.courseId,orgKwd:this.state.orgKwd,accountKwd:this.state.accountKwd,pageSize:this.state.pageSize,pageNo:this.state.pageNo};this.props.getOnlineModalUserCourseData(a,(function(e){"1000"===e.code&&t.setState({kelist:e.data,totalke:e.page.pageTotal})}))}},{key:"showuser",value:function(e){var t=this,a={startDate:this.props.startDate,endDate:this.props.endDate,accountId:this.state.courseId,kwd:this.state.kwd,pageSize:this.state.pageSize,pageNo:this.state.pageNo};this.props.getOnlineModalUserLearnData(a,(function(e){"1000"===e.code&&t.setState({sloading:!1,userlist:e.data,totaluser:e.page.pageTotal})}))}},{key:"showModal",value:function(e,t){var a=this;this.setState({visible:!0,type:e,courseId:t},(function(){"1"==e?a.show(t):a.showuser(t)}))}},{key:"handleOk",value:function(e){this.setState({visible:!1})}},{key:"handleCancel",value:function(e){this.setState({visible:!1})}},{key:"handleInputChange",value:function(e){var t=e.target.name;this.setState((0,w.default)({},t,e.target.value))}},{key:"xquery",value:function(e){switch(e){case 1:this.show();break;case 2:this.showuser()}}},{key:"handlePageChangeke",value:function(e,t){var a=this;console.log("page",e),this.setState({pageNo:e},(function(){a.show(),console.log("pageNo",a.state.pageNo)}))}},{key:"handlePageChangeuser",value:function(e,t){var a=this;this.setState({pageNo:e},(function(){a.showuser()}))}},{key:"down",value:function(e,t){switch(e){case 1:var a={startDate:this.props.startDate,endDate:this.props.endDate,courseId:this.state.courseId,orgKwd:this.state.orgKwd,accountKwd:this.state.accountKwd,isAllData:"all"===t};this.props.getOnlineModalCourseDownload(a,(function(e){"1000"===e.code?d.default.success(e.data):d.default.error("导出失败")}));break;case 2:a={startDate:this.props.startDate,endDate:this.props.endDate,accountId:this.state.courseId,kwd:this.state.kwd,isAllData:"all"===t};this.props.getOnlineModalLearnDownload(a,(function(e){"1000"==e.code?d.default.success(e.data):d.default.error(e.data)}))}}},{key:"showTotal4",value:function(e){return"共计 ".concat(e," 条")}},{key:"showTotal5",value:function(e){return"共计 ".concat(e," 条")}},{key:"render",value:function(){var e=this,t=[{title:"用户名",dataIndex:"accountName",key:"accountName"},{title:"姓名",dataIndex:"accountFullName",key:"accountFullName"},{title:"所在部门",dataIndex:"orgName",key:"orgName"},{title:"学习时长(HH:mm:ss)",dataIndex:"totalDuration",key:"totalDuration",render:function(e,t){return E.default.createElement("span",null,e)}},{title:"学习次数",dataIndex:"learnNum",key:"learnNum"},{title:"开始时间",dataIndex:"startTime",render:function(e,t){return E.default.createElement("span",null,""!==e?(0,C.default)(Number(e)).format("YYYY/MM/DD HH:mm:ss"):"")}},{title:"完成时间",dataIndex:"endTime",render:function(e,t){return E.default.createElement("span",null,""!==e?(0,C.default)(Number(e)).format("YYYY/MM/DD HH:mm:ss"):"")}},{title:"学习状态",dataIndex:"state",render:function(e,t){return E.default.createElement("span",null,1==e?"进行中":2==e?"已完成":"未开始")}}],a=[{title:"课程编码",dataIndex:"courseNo",key:"courseNo"},{title:"课程名称",dataIndex:"courseName",key:"courseName"},{title:"学习状态",dataIndex:"state",render:function(e,t){return E.default.createElement("span",null,1==e?"进行中":2==e?"已完成":"未开始")}},{title:"学习次数",dataIndex:"totalCount",key:"totalCount"},{title:"开始时间",dataIndex:"startTime",render:function(e,t){return E.default.createElement("span",null,""!==e?(0,C.default)(Number(e)).format("YYYY/MM/DD HH:mm:ss"):"")}},{title:"总学习时长(HH:mm:ss)",dataIndex:"totalDuration",key:"totalDuration",render:function(e,t){return E.default.createElement("span",null,e)}}];return E.default.createElement("div",null,1==this.state.type?E.default.createElement(o.default,{width:1e3,title:"课程学习统计",visible:this.state.visible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),destroyOnClose:!0},E.default.createElement("div",null,"部门名称：",E.default.createElement(i.default,{placeholder:"请输入部门编码或名称",className:S.default.dinput,name:"orgKwd",onChange:function(t){return e.handleInputChange(t)}}),E.default.createElement(i.default,{placeholder:"请输入用户关键字",style:{width:"160px"},className:S.default.dinput,name:"accountKwd",onChange:function(t){return e.handleInputChange(t)}}),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.xquery(1)}},"查询"),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.down(1)}},"下载已学习数据"),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.down(1,"all")}},"下载全部数据")),E.default.createElement(s.default,{columns:t,dataSource:this.state.kelist,pagination:!1}),E.default.createElement(l.default,{current:this.state.pageNo,showTotal:this.showTotal4,className:S.default.survey_list_paginations,total:this.state.totalke,showQuickJumper:!0,onChange:this.handlePageChangeke.bind(this)})):E.default.createElement(o.default,{width:1e3,title:"用户学习统计",visible:this.state.visible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),destroyOnClose:!0},E.default.createElement("div",null,E.default.createElement(i.default,{placeholder:"请输课程关键字",className:S.default.dinput,name:"kwd",onChange:function(t){return e.handleInputChange(t)}}),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.xquery(2)}},"查询"),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.down(2)}},"下载已学习数据"),E.default.createElement(f.default,{className:S.default.serch_time,onClick:function(){return e.down(2,"all")}},"下载全部数据")),E.default.createElement(c.default,{spinning:this.state.sloading},E.default.createElement(s.default,{columns:a,dataSource:this.state.userlist,pagination:!1})),E.default.createElement(l.default,{showTotal:this.showTotal5,className:S.default.survey_list_paginations,total:this.state.totaluser,showQuickJumper:!0,onChange:this.handlePageChangeuser.bind(this)})))}}]),a}(E.Component),J=function(e){(0,m.default)(a,e);var t=T(a);function a(e){var n;return(0,p.default)(this,a),(n=t.call(this,e)).state={visible:!1,title:e.type},n}return(0,h.default)(a,[{key:"showModal",value:function(){this.setState({visible:!0})}},{key:"handleOk",value:function(e){this.setState({visible:!1})}},{key:"handleCancel",value:function(e){this.setState({visible:!1})}},{key:"render",value:function(){var e=this;return E.default.createElement("div",{style:{display:"inline-block"}},function(){switch(e.state.title){case"cour":return E.default.createElement("div",{style:{display:"inline-block"}},E.default.createElement("span",{className:S.default.question,onClick:e.showModal.bind(e)},"?"),E.default.createElement(o.default,{title:"按课程统计",visible:e.state.visible,onOk:e.handleOk.bind(e),onCancel:e.handleCancel.bind(e),footer:null},E.default.createElement("h3",null,"可学习人数:"),E.default.createElement("p",null,"课程可见范围的人数；"),E.default.createElement("h3",null,"已学习人数:"),E.default.createElement("p",null,"有学习记录的人数，包括进行中和已完成的人数；"),E.default.createElement("h3",null,"总学习时长:"),E.default.createElement("p",null,"有学习记录的人数，学习当前课程的时长总和；"),E.default.createElement("h3",null,"平均学习时长:"),E.default.createElement("p",null,"平均学习时长=总学习时长/学习人数；"),E.default.createElement("h3",null,"课程评分:"),E.default.createElement("p",null,"课程评分=课程的分数总和/打分人数，课程评分除不尽时四舍五入保留一位小数；")));case"user":return E.default.createElement("div",{style:{display:"inline-block"}},E.default.createElement("span",{className:S.default.question,onClick:e.showModal.bind(e)},"?"),E.default.createElement(o.default,{title:"按用户统计",visible:e.state.visible,onOk:e.handleOk.bind(e),onCancel:e.handleCancel.bind(e),footer:null},E.default.createElement("h3",null,"可学课程数:"),E.default.createElement("p",null,"可见范围内被授权的可见课程数；"),E.default.createElement("h3",null,"参加课程数:"),E.default.createElement("p",null,"有学习记录的课程数，包括进行中和已完成的课程；"),E.default.createElement("h3",null,"完成课程数:"),E.default.createElement("p",null,"已学习完成的课程数；")));case"depa":return E.default.createElement("div",{style:{display:"inline-block"}},E.default.createElement("span",{className:S.default.question,onClick:e.showModal.bind(e)},"?"),E.default.createElement(o.default,{title:"按部门统计",visible:e.state.visible,onOk:e.handleOk.bind(e),onCancel:e.handleCancel.bind(e),footer:null},E.default.createElement("h3",null,"参加课程数:"),E.default.createElement("p",null,"该部门下用户有学习记录的课程数;"),E.default.createElement("h3",null,"参加人数:"),E.default.createElement("p",null,"该部门下有课程学习记录的人数,仅统计当前部门的用户数，不含下级部门；"),E.default.createElement("h3",null,"总学习次数:"),E.default.createElement("p",null,"有学习记录的用户学习次数总和；"),E.default.createElement("h3",null,"总学习时长:"),E.default.createElement("p",null,"有学习记录的用户学习时长总和；"),E.default.createElement("h3",null,"平均学习时长 :"),E.default.createElement("p",null,"平均学习时长=总学习时长/参加人数；")));default:return""}}())}}]),a}(E.Component),V=(0,N.connect)((function(e){return x({},e)}),x({},_.default))(q);t.default=V},2281:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(76)),o=n(a(2282)).default.onlineCourse,l=o.onlineCourseCharts,s=o.onlineCourseList,i=o.onlineUserList,u=o.onlineOrgList,d=o.onlineUserStatisticsData,c=o.onlineUserDetailData,f=o.onlineOrgStatisticsData,p=o.onlineModalUserCourseData,h=o.onlineModalUserLearnData,g=o.onlineModalCourseDownload,m=o.onlineModalLearnDownload,v=o.onlineCourseDownload,y={getOnlineCourseCharts:function(e,t){return function(a){return(0,r.default)({url:l,data:e}).then((function(e){t&&t(e)}))}},getOnlineCourseList:function(e,t){return function(a){return(0,r.default)({url:s,data:e}).then((function(e){t&&t(e)}))}},getOnlineUserList:function(e,t){return function(a){return(0,r.default)({url:i,data:e}).then((function(e){t&&t(e)}))}},getOnlineOrgList:function(e,t){return function(a){return(0,r.default)({url:u,data:e}).then((function(e){t&&t(e)}))}},getOnlineOrgStatictisData:function(e,t){return function(a){return(0,r.default)({url:f,data:e}).then((function(e){t&&t(e)}))}},getOnlineUserStatisticsData:function(e,t){return function(a){return(0,r.default)({url:d,data:e}).then((function(e){t&&t(e)}))}},getOnlineUserDetailData:function(e,t){return function(a){return(0,r.default)({url:c,data:e}).then((function(e){t&&t(e)}))}},getOnlineModalUserCourseData:function(e,t){return function(a){return(0,r.default)({url:p,data:e}).then((function(e){t&&t(e)}))}},getOnlineModalUserLearnData:function(e,t){return function(a){return(0,r.default)({url:h,data:e}).then((function(e){t&&t(e)}))}},getOnlineModalCourseDownload:function(e,t){return function(a){return(0,r.default)({url:g,data:e}).then((function(e){t&&t(e)}))}},getOnlineModalLearnDownload:function(e,t){return function(a){return(0,r.default)({url:m,data:e}).then((function(e){t&&t(e)}))}},getOnlineCourseDownload:function(e,t){return function(a){return(0,r.default)({url:v,data:e}).then((function(e){t&&t(e)}))}}};t.default=y},2282:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),o={onlineCourse:{onlineCourseCharts:"GET ".concat(r.default.webManage,"/report/course/chart/group"),onlineCourseList:"GET ".concat(r.default.webManage,"/report/course/group"),onlineUserList:"GET ".concat(r.default.webManage,"/report/course/account/group"),onlineOrgList:"GET ".concat(r.default.webManage,"/report/course/org/group"),onlineUserStatisticsData:"GET ".concat(r.default.webManage,"/report/course/account/group/export"),onlineUserDetailData:"GET ".concat(r.default.webManage,"/report/course/account/group/details/export"),onlineOrgStatisticsData:"GET ".concat(r.default.webManage,"/report/course/org/group/export"),onlineModalUserCourseData:"GET ".concat(r.default.webManage,"/report/course/group/view"),onlineModalUserLearnData:"GET ".concat(r.default.webManage,"/report/course/account/group/view"),onlineModalCourseDownload:"GET ".concat(r.default.webManage,"/report/course/group/view/export"),onlineModalLearnDownload:"GET ".concat(r.default.webManage,"/report/course/account/group/view/export"),onlineCourseDownload:"GET ".concat(r.default.webManage,"/report/course/group/export")}};t.default=o},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},558:function(e,t,a){e.exports=a(11)(251)},566:function(e,t,a){e.exports=a(11)(817)},568:function(e,t,a){e.exports=a(11)(333)},575:function(e,t,a){"use strict";a.r(t);a(26),a(623)},620:function(e,t,a){"use strict";var n=a(19),r=a(16),o=a(85),l=a(36),s=a(21),i=a(45),u=a(153),d=a(81),c=a(14),f=a(66),p=a(78).f,h=a(49).f,g=a(22).f,m=a(236).trim,v=r.Number,y=v.prototype,w="Number"==i(f(y)),b=function(e){var t,a,n,r,o,l,s,i,u=d(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=m(u)).charCodeAt(0))||45===t){if(88===(a=u.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(l=(o=u.slice(2)).length,s=0;s<l;s++)if((i=o.charCodeAt(s))<48||i>r)return NaN;return parseInt(o,n)}return+u};if(o("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var D,k=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof k&&(w?c((function(){y.valueOf.call(a)})):"Number"!=i(a))?u(new v(b(t)),a,k):b(t)},E=n?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;E.length>O;O++)s(v,D=E[O])&&!s(k,D)&&g(k,D,h(v,D));k.prototype=y,y.constructor=k,l(r,"Number",k)}},623:function(e,t,a){},636:function(e,t,a){e.exports=a(46)(174)},761:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,a=null;return function(){for(var n=this,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];clearTimeout(a),a=setTimeout((function(){e.apply(n,o)}),t)}}},762:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SensorTabIndex=t.SensorClassName=t.SensorStyle=t.SizeSensorId=void 0;t.SizeSensorId="size-sensor-id";t.SensorStyle="display:block;position:absolute;top:0;left:0;height:100%;width:auto;overflow:hidden;pointer-events:none;z-index:-1;opacity:0";t.SensorClassName="size-sensor-object";t.SensorTabIndex="-1"},825:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(904));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.echartsLib=n.default,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r(a(994)).default);t.default=o},904:function(e,t,a){e.exports=a(525)(1549)},994:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),l=c(o),s=c(a(60)),i=c(a(995)),u=a(996),d=a(1002);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getEchartsInstance=function(){return a.echartsLib.getInstanceByDom(a.echartsElement)||a.echartsLib.init(a.echartsElement,a.props.theme,a.props.opts)},a.dispose=function(){if(a.echartsElement){try{(0,u.clear)(a.echartsElement)}catch(e){console.warn(e)}a.echartsLib.dispose(a.echartsElement)}},a.rerender=function(){var e=a.props,t=e.onEvents,n=e.onChartReady,r=a.renderEchartDom();a.bindEvents(r,t||{}),"function"==typeof n&&a.props.onChartReady(r),a.echartsElement&&(0,u.bind)(a.echartsElement,(function(){try{r.resize()}catch(e){console.warn(e)}}))},a.bindEvents=function(e,t){var a=function(t,a){"string"==typeof t&&"function"==typeof a&&e.on(t,(function(t){a(t,e)}))};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a(n,t[n])},a.renderEchartDom=function(){var e=a.getEchartsInstance();return e.setOption(a.props.option,a.props.notMerge||!1,a.props.lazyUpdate||!1),a.props.showLoading?e.showLoading(a.props.loadingOption||null):e.hideLoading(),e},a.echartsLib=a.props.echarts,a.echartsElement=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.rerender()}},{key:"componentDidUpdate",value:function(e){if(e.theme!==this.props.theme||!(0,i.default)(e.opts,this.props.opts)||!(0,i.default)(e.onEvents,this.props.onEvents))return this.dispose(),void this.rerender();var t=["option","notMerge","lazyUpdate","showLoading","loadingOption"];if(!(0,i.default)((0,d.pick)(this.props,t),(0,d.pick)(e,t))&&("function"!=typeof this.props.shouldSetOption||this.props.shouldSetOption(e,this.props))){var a=this.renderEchartDom();if(!(0,i.default)(e.style,this.props.style)||!(0,i.default)(e.className,this.props.className))try{a.resize()}catch(e){console.warn(e)}}}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"render",value:function(){var e=this,t=this.props,a=t.style,r=t.className,o=n({height:300},a);return l.default.createElement("div",{ref:function(t){e.echartsElement=t},style:o,className:"echarts-for-react "+r})}}]),t}(o.Component);t.default=f,f.propTypes={option:s.default.object.isRequired,echarts:s.default.object,notMerge:s.default.bool,lazyUpdate:s.default.bool,style:s.default.object,className:s.default.string,theme:s.default.string,onChartReady:s.default.func,showLoading:s.default.bool,loadingOption:s.default.object,onEvents:s.default.object,opts:s.default.shape({devicePixelRatio:s.default.number,renderer:s.default.oneOf(["canvas","svg"]),width:s.default.oneOfType([s.default.number,s.default.oneOf([null,void 0,"auto"])]),height:s.default.oneOfType([s.default.number,s.default.oneOf([null,void 0,"auto"])])}),shouldSetOption:s.default.func},f.defaultProps={echarts:{},notMerge:!1,lazyUpdate:!1,style:{},className:"",theme:null,onChartReady:function(){},showLoading:!1,loadingOption:null,onEvents:{},opts:{},shouldSetOption:function(){return!0}}},995:function(e,t,a){"use strict";var n=Array.isArray,r=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){var l,s,i,u=n(t),d=n(a);if(u&&d){if((s=t.length)!=a.length)return!1;for(l=s;0!=l--;)if(!e(t[l],a[l]))return!1;return!0}if(u!=d)return!1;var c=t instanceof Date,f=a instanceof Date;if(c!=f)return!1;if(c&&f)return t.getTime()==a.getTime();var p=t instanceof RegExp,h=a instanceof RegExp;if(p!=h)return!1;if(p&&h)return t.toString()==a.toString();var g=r(t);if((s=g.length)!==r(a).length)return!1;for(l=s;0!=l--;)if(!o.call(a,g[l]))return!1;for(l=s;0!=l--;)if(!e(t[i=g[l]],a[i]))return!1;return!0}return t!=t&&a!=a}},996:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ver=t.clear=t.bind=void 0;var n=a(997);t.bind=function(e,t){var a=(0,n.getSensor)(e);return a.bind(t),function(){a.unbind(t)}};t.clear=function(e){var t=(0,n.getSensor)(e);(0,n.removeSensor)(t)};t.ver="0.2.7"},997:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=void 0;var n,r=(n=a(998))&&n.__esModule?n:{default:n},o=a(999),l=a(762);var s={};t.getSensor=function(e){var t=e.getAttribute(l.SizeSensorId);if(t&&s[t])return s[t];var a=(0,r.default)();e.setAttribute(l.SizeSensorId,a);var n=(0,o.createSensor)(e);return s[a]=n,n};t.removeSensor=function(e){var t=e.element.getAttribute(l.SizeSensorId);e.element.removeAttribute(l.SizeSensorId),e.destroy(),t&&s[t]&&delete s[t]}},998:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=1;t.default=function(){return"".concat(n++)}},999:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var n=a(1e3),r=a(1001),o="undefined"!=typeof ResizeObserver?r.createSensor:n.createSensor;t.createSensor=o}}]);