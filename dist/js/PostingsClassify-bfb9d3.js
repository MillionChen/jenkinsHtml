(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{1329:function(e,t,a){"use strict";var n=a(4),i=a(0);a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var r=i(a(558));a(549);var l=i(a(544)),s=i(a(98)),u=i(a(237)),o=i(a(29)),f=i(a(30)),c=i(a(32)),d=i(a(33)),p=i(a(31)),m=n(a(1));function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=a(1361),h=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(g()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),(t=a.call(this,e)).state={columns:[]},t}return(0,f.default)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.columns,a=void 0===t?[]:t,n=e.tableData,i=void 0===n?[]:n,o=e.dataTotal,f=void 0===o?0:o,c=e.showPagination,d=void 0===c||c,p=(e.paginationFloat,e.paginationStyle),g=void 0===p?{}:p,h=(0,u.default)(e,["columns","tableData","dataTotal","showPagination","paginationFloat","paginationStyle"]);return m.default.createElement("div",{style:{width:this.props.width||"100%"}},m.default.createElement(l.default,(0,s.default)({},h,{rowKey:this.props.rowKey?this.props.rowKey:"id",columns:a,dataSource:i,onChange:function(){},pagination:!1})),d&&m.default.createElement("div",{style:{textAlign:"center"}}," ",m.default.createElement(r.default,(0,s.default)({className:y.paginations},g,{total:f,showTotal:function(e){return"共有".concat(e,"条")},showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:10,defaultCurrent:1,pageSizeOptions:["10","20","50","100"],onChange:this.props.changePageNo||null,onShowSizeChange:this.props.onShowSizeChange||null})),m.default.createElement("p",{style:{clear:"both"}})))}}]),n}(m.Component);t.default=h},1361:function(e,t,a){e.exports={paginations:"paginations__f66HM",colors:"colors__1nXFg"}},1510:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.classifySave=function(e,t){return function(a){return(0,r.default)({url:i.default.forumClassifySave,data:e}).then((function(e){t&&t(e)}))}},t.classifyPageList=function(e,t){return function(a){return(0,r.default)({url:i.default.forumClassifyPageList,data:e}).then((function(e){t&&t(e)}))}},t.classifyPageSort=function(e,t){return function(a){return(0,r.default)({url:i.default.forumClassifyPageSort,data:e}).then((function(e){t&&t(e)}))}},t.classifyDelete=function(e,t){return function(a){return(0,r.default)({url:i.default.forumClassifyDelete,data:e}).then((function(e){t&&t(e)}))}},t.classifyUpdate=function(e,t){return function(a){return(0,r.default)({url:i.default.forumClassifyUpdate,data:e}).then((function(e){t&&t(e)}))}},t.classifySetManager=function(e,t){return function(a){return(0,r.default)({url:i.default.forumClassifySetManager,data:e}).then((function(e){t&&t(e)}))}},t.classifyGetManager=function(e,t){return function(a){return(0,r.default)({url:i.default.forumClassifygetManager,data:e}).then((function(e){t&&t(e)}))}},t.classifyUpdateSetting=function(e,t){return function(a){return(0,r.default)({url:i.default.forumClassifyUpdateSetting,data:e}).then((function(e){t&&t(e)}))}},t.classifyGetSetting=function(e,t){return function(a){return(0,r.default)({url:i.default.forumClassifyGetSetting,data:e}).then((function(e){t&&t(e)}))}},t.CLASSIFYFORUMLIST=void 0;var i=n(a(2158)),r=n(a(78));t.CLASSIFYFORUMLIST="CLASSIFY_FORUM_LIST"},1568:function(e,t,a){e.exports={posts_classify:"posts_classify__1p4ak",material_search:"material_search__SFqzM","ant-select-tree-dropdown":"ant-select-tree-dropdown__1y1As","ant-form-item":"ant-form-item__8_THT","ant-form-item-control-wrapper":"ant-form-item-control-wrapper__1UIjn","add-btn":"add-btn__2zzx7","postings-table":"postings-table__WvbJt",marr20:"marr20__3VDxp","posting-setting-integral-item":"posting-setting-integral-item__2RN24","ant-form-item-label":"ant-form-item-label__2bZ_Z","posting-setting-integral-item-thirdly":"posting-setting-integral-item-thirdly__2MKk5"}},2156:function(e,t,a){"use strict";var n=a(4),i=a(0);a(5),a(40),a(20),a(34),a(23),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var r=i(a(225));a(574);var l=i(a(565));a(140);var s=i(a(535));a(578);var u=i(a(570));a(537);var o=i(a(536));a(61);var f=i(a(62));a(564);var c=i(a(563)),d=i(a(29)),p=i(a(30)),m=i(a(59)),g=i(a(32)),y=i(a(33)),h=i(a(31)),v=i(a(2));a(540);var S=i(a(539)),b=n(a(1)),w=a(52),C=i(a(223)),D=i(a(226)),E=i(a(1568)),O=i(a(1329)),V=i(a(2157)),P=i(a(2159)),k=a(1510),N=i(a(624));function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var T=S.default.Item,_={color:"gray",cursor:"no-drop",marginRight:10},R=function(e){(0,g.default)(n,e);var t,a=(t=n,function(){var e,a=(0,h.default)(t);if(M()){var n=(0,h.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,y.default)(this,e)});function n(e){var t;return(0,d.default)(this,n),t=a.call(this,e),(0,v.default)((0,m.default)(t),"columns",[{title:"分类名称",dataIndex:"name",key:"name",width:300,render:function(e){return b.default.createElement("span",{title:e,style:{width:300,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"}},e)}},{title:"创建时间",dataIndex:"updateTime",key:"updateTime",render:function(e,t){return b.default.createElement("span",null,(0,C.default)(t.updateTime).format("YYYY-MM-DD HH:mm:ss"))}},{title:"操作",dataIndex:"operation",key:"operation",render:function(e,a,n){return b.default.createElement("div",null,b.default.createElement("a",{href:"javascript:void(0)",style:t.isRankFirs(a)?_:{color:"",marginRight:10},className:"marr20",onClick:function(){return t.upsidUpOrDown(a,1)}},"上移"),b.default.createElement("a",{href:"javascript:void(0)",style:t.isRankLast(a)?_:{marginRight:10},className:"marr20",onClick:function(){return t.upsidUpOrDown(a,2)}},"下移"),b.default.createElement("a",{href:"javascript:void(0)",className:"marr20",style:{marginRight:10},onClick:function(){return t.addClassify("1",a)}},"修改"),b.default.createElement(c.default,{title:"是否删除？",onConfirm:function(){return t.onDelete(a)}},b.default.createElement("a",{className:"marr20",style:{marginRight:10},href:"javascript:void(0)"},"删除")),b.default.createElement("a",{href:"javascript:void(0)",className:"marr20",style:{marginRight:10},onClick:function(){return t.setManager(a)}},"设置代管员"),b.default.createElement("a",{href:"javascript:void(0)",className:"marr20",style:{marginRight:10},onClick:function(){return t.setIntegral(a)}},"论坛设置"))}}]),(0,v.default)((0,m.default)(t),"queryTableData",(function(e){var a=(0,m.default)(t),n={name:a.props.form.getFieldValue("name"),pageNo:e?1:a.state.pageNo,pageSize:a.state.pageSize};e&&t.setState({pageNo:1}),t.props.forumClassifyQuery(n,(function(e){if(1e3==e.code){var t=e.data.records,n=void 0===t?[]:t;n.forEach((function(e,t){e.index=t+1})),a.setState({tableData:n,dataTotal:e.data.total})}}))})),(0,v.default)((0,m.default)(t),"upsidUpOrDown",(function(e,a){console.log("record==",e);var n=(0,m.default)(t);t.props.forumClassifyPageSort({id:e.id,type:a},(function(e){1e3==e.code?n.queryTableData():f.default.info(e.subMsg)}))})),(0,v.default)((0,m.default)(t),"sortFun",(function(e){var a=(0,m.default)(t);t.props.forumClassifyPageSort(e,(function(e){1e3==e.code?a.queryTableData():f.default.info(e.subMsg)}))})),(0,v.default)((0,m.default)(t),"onDelete",(function(e){var a=(0,m.default)(t);t.props.forumClassifyDelete({id:e.id},(function(e){1e3==e.code&&(f.default.success("删除成功"),a.queryTableData())}))})),(0,v.default)((0,m.default)(t),"isRankFirs",(function(e){var a=t.state,n=a.pageNo;a.pageSize;return 1==e.index&&1==n})),(0,v.default)((0,m.default)(t),"isRankLast",(function(e){var a=t.state,n=a.pageNo,i=a.pageSize,r=a.dataTotal;return(n-1)*i+e.index==r})),(0,v.default)((0,m.default)(t),"changePageNo",(function(e,a){t.setState({pageNo:e,pageSize:a},(function(){t.queryTableData()}))})),(0,v.default)((0,m.default)(t),"onShowSizeChange",(function(e,a){t.setState({pageNo:1,pageSize:a},(function(){t.queryTableData()}))})),(0,v.default)((0,m.default)(t),"addClassify",(function(e,a){0==e?t.setState({modalVisible:!0,modalTitle:"add"}):t.setState({modalVisible:!0,modalTitle:"edit",editData:a})})),(0,v.default)((0,m.default)(t),"setIntegral",(function(e){t.setState({editData:e,settingVisible:!0})})),(0,v.default)((0,m.default)(t),"handleCancel",(function(){t.setState({modalVisible:!1,settingVisible:!1,setInsteadVisible:!1})})),(0,v.default)((0,m.default)(t),"handleOk",(function(){t.setState({modalVisible:!1}),t.queryTableData()})),(0,v.default)((0,m.default)(t),"getViewData",(function(e){t.setState({managerList:e})})),(0,v.default)((0,m.default)(t),"setManager",(function(e){var a=(0,m.default)(t);t.props.forumClassifyGetManager({postsClassifyId:e.id},(function(n){if(1e3==n.code){var i=n.data.map((function(e){return{name:e.accountName,fullName:e.accountFullName,workNum:e.workNum,id:e.accountId}}));a.setState({setInsteadVisible:!0,editData:e,managerList:i})}else t.setState({setInsteadVisible:!0,editData:e})}))})),(0,v.default)((0,m.default)(t),"setInsteaderOk",(function(){var e=(0,m.default)(t),a=t.state.managerList.map((function(e){return{accountId:e.id}})),n={isSave:!1,postsClassifyId:e.state.editData.id,postsManageAccounts:a};t.props.forumClassifySetManager(n,(function(e){1e3==e.code?(f.default.success("设置成功"),t.setState({setInsteadVisible:!1})):f.default.info(e.subMsg)}))})),t.state={tableData:[],dataTotal:0,pageNo:1,pageSize:10,modalVisible:!1,modalTitle:"",editData:{},settingVisible:!1,setInsteadVisible:!1,managerList:[]},t}return(0,p.default)(n,[{key:"componentDidMount",value:function(){this.queryTableData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.tableData,n=t.dataTotal,i=t.modalVisible,f=t.modalTitle,c=t.editData,d=t.settingVisible,p=t.setInsteadVisible,m=this.props.form.getFieldDecorator;console.log("this.state==",this.state);var g={style:{float:"none",margin:"20px auto",marginLeft:"50%",transform:"translateX(-44%)"},current:this.state.pageNo};return b.default.createElement("div",{className:E.default.posts_classify},b.default.createElement(D.default,{title:"帖子分类"}),b.default.createElement(S.default,{className:E.default.material_search},b.default.createElement(l.default,null,b.default.createElement(u.default,{span:9,key:1},b.default.createElement(T,null,b.default.createElement("span",null,"分类名称："),m("name")(b.default.createElement(o.default,{style:{width:300},placeholder:"请输入分类名称"})))),b.default.createElement(u.default,{span:3,key:4},b.default.createElement(s.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.queryTableData("seach")}},"查询")))),b.default.createElement("div",{className:"add-btn",style:{marginBottom:16}},b.default.createElement(s.default,{type:"primary",onClick:function(){return e.addClassify(0)}},"添加分类")),b.default.createElement("div",{className:"postings-table"},b.default.createElement(O.default,{style:{background:"white"},columns:this.columns,tableData:a,changePageNo:this.changePageNo,onShowSizeChange:this.onShowSizeChange,paginationStyle:g,dataTotal:n})),i&&b.default.createElement(V.default,{visible:i,title:f,recordData:c,handleCancel:this.handleCancel,handleOk:this.handleOk}),d&&b.default.createElement(P.default,{visible:d,handleCancel:this.handleCancel,recordData:c}),p&&b.default.createElement(r.default,{visible:p,onCancel:this.handleCancel,onOk:this.setInsteaderOk,width:1160},b.default.createElement(N.default,{types:"forum",noPagination:!0,groupTypes:"course",departmentFlag:!1,initData:this.state.managerList,getData:this.getViewData,limit:5,invisible:!1,tabTitle:b.default.createElement("p",null,b.default.createElement("h3",{style:{display:"inline"}},"已选择的成员"),b.default.createElement("span",null,"(最多选择5个)"))})))}}]),n}(b.Component);var j=(0,w.connect)((function(e){return{}}),(function(e){return{forumClassifyQuery:function(t,a){return e((0,k.classifyPageList)(t,a))},forumClassifyPageSort:function(t,a){return e((0,k.classifyPageSort)(t,a))},forumClassifyDelete:function(t,a){return e((0,k.classifyDelete)(t,a))},forumClassifySetManager:function(t,a){return e((0,k.classifySetManager)(t,a))},forumClassifyGetManager:function(t,a){return e((0,k.classifyGetManager)(t,a))}}}))(S.default.create()(R));t.default=j},2157:function(e,t,a){"use strict";var n=a(0);a(7),a(154),a(3),a(5),a(51),a(9),a(10),a(8),a(20),a(34),a(23),a(228),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var i=n(a(225)),r=n(a(98));a(537);var l=n(a(536));a(61);var s=n(a(62)),u=n(a(29)),o=n(a(30)),f=n(a(59)),c=n(a(32)),d=n(a(33)),p=n(a(31)),m=n(a(2));a(540);var g=n(a(539)),y=n(a(1)),h=a(1510),v=a(52);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=g.default.Item,C=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(b()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,u.default)(this,n),t=a.call(this,e),(0,m.default)((0,f.default)(t),"handleSubmit",(function(){var e=(0,f.default)(t);t.props.form.validateFields((function(t,a){if(!t)if(""!=a.name.trim()){var n={};"edit"==e.props.title?(n={name:e.props.recordData.name,newName:a.name,description:a.description},e.props.forumClassifyUpdate(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,m.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n,{id:e.props.recordData.id}),(function(t){1e3==t.code?(s.default.success("修改成功"),e.props.handleOk()):4e3==t.code&&s.default.error(t.subMsg)}))):(n={name:a.name,description:a.description},e.props.forumClassifySave(n,(function(t){1e3==t.code?(s.default.success("新增成功"),e.props.handleOk()):4e3==t.code&&s.default.error(t.subMsg)})))}else s.default.err("请输入分类名称")}))})),t.state={},t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){"edit"==this.props.title&&this.props.form.setFieldsValue({name:this.props.recordData.name||"",description:this.props.recordData.description||""})}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.visible,n=e.form,s=e.record,u=void 0===s?"":s,o=e.type,f=void 0===o?"":o,c="edit"==t?"修改分类":"add"==t?"添加分类":"新建分类",d=n.getFieldDecorator,p={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}};return y.default.createElement(i.default,{title:c,visible:a,onOk:this.handleSubmit,onCancel:this.props.handleCancel},y.default.createElement(g.default,{layout:"horizontal"},y.default.createElement(w,(0,r.default)({},p,{label:"分类名称："}),d("name",{initialValue:u.id,rules:[{required:!0,message:"请输入分类名称"},{max:20,message:"分类名称长度20字符以内"}]})(y.default.createElement(l.default,{placeholder:"请输入分类名称(20字符内)"}))),y.default.createElement(w,(0,r.default)({},p,{label:"分类描述："}),d("description",{initialValue:"edit"==f?u.description:"",rules:[{max:100,message:"最多支持输入100个字符以内"}]})(y.default.createElement(l.default.TextArea,{placeholder:"请输入分类描述，最多100字符"})))))}}]),n}(y.default.Component);var D=(0,v.connect)((function(e){return{}}),(function(e){return{forumClassifySave:function(t,a){return e((0,h.classifySave)(t,a))},forumClassifyUpdate:function(t,a){return e((0,h.classifyUpdate)(t,a))}}}))(g.default.create()(C));t.default=D},2158:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),r={forumClassifySave:"POST ".concat(i.default.webManage,"/postsClassify/save"),forumClassifyPageList:"GET ".concat(i.default.webManage,"/postsClassify/getPage"),forumClassifyPageSort:"GET ".concat(i.default.webManage,"/postsClassify/move"),forumClassifyDelete:"GET ".concat(i.default.webManage,"/postsClassify/deleted"),forumClassifyUpdate:"POST ".concat(i.default.webManage,"/postsClassify/update"),forumClassifySetManager:"POST ".concat(i.default.webManage,"/postsClassify/setManager"),forumClassifygetManager:"GET ".concat(i.default.webManage,"/postsClassify/getManager"),forumClassifyUpdateSetting:"POST ".concat(i.default.webManage,"/postsClassify/updateSetting"),forumClassifyGetSetting:"GET ".concat(i.default.webManage,"/postsClassify/getSetting")};t.default=r},2159:function(e,t,a){"use strict";var n=a(0);a(7),a(44),a(3),a(5),a(40),a(51),a(9),a(10),a(8),a(20),a(34),a(23),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var i=n(a(225));a(140);var r=n(a(535));a(556);var l=n(a(553)),s=n(a(98));a(616);var u=n(a(617));a(61);var o=n(a(62)),f=n(a(81)),c=n(a(29)),d=n(a(30)),p=n(a(59)),m=n(a(32)),g=n(a(33)),y=n(a(31)),h=n(a(2));a(540);var v=n(a(539)),S=n(a(1)),b=a(1510),w=a(52);a(1568);var C=n(a(624));function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=v.default.Item,V=function(e){(0,m.default)(n,e);var t,a=(t=n,function(){var e,a=(0,y.default)(t);if(E()){var n=(0,y.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,g.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,h.default)((0,p.default)(t),"handleSubmit",(function(){var e=(0,p.default)(t);t.props.form.validateFields((function(a,n){if(!a){var i=e.state.sendViewData.map((function(t){return{accountFullName:t.fullName,accountId:t.id,accountName:t.name,accountType:t.type,type:1,workNum:t.workNum,postsClassifyId:e.props.recordData.id}})),r=e.state.commentViewData.map((function(t){return{accountFullName:t.fullName,accountId:t.id,accountName:t.name,accountType:t.type,type:2,workNum:t.workNum,postsClassifyId:e.props.recordData.id}})),l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,h.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e.props.recordData.id,isSave:!1},n,{postsClassifyAccountVos:[].concat((0,f.default)(i),(0,f.default)(r))});t.props.forumnUpdateSetting(l,(function(e){1e3==e.code?(o.default.success("论坛设置成功"),t.props.handleCancel()):o.default.info("论坛设置失败")}))}}))})),(0,h.default)((0,p.default)(t),"postPostings",(function(e){var a=(0,p.default)(t);e&&"post"==e?t.setState({sendOrReply:0,albumViewData:a.state.sendViewData,ViewVisible:!0}):t.setState({sendOrReply:1,albumViewData:a.state.commentViewData,ViewVisible:!0})})),(0,h.default)((0,p.default)(t),"closeViewRange",(function(){t.setState({ViewVisible:!1})})),(0,h.default)((0,p.default)(t),"getViewData",(function(e){0==t.state.sendOrReply?t.setState({sendViewData:e}):t.setState({commentViewData:e})})),(0,h.default)((0,p.default)(t),"sendSettingChange",(function(e,a){var n=(0,p.default)(t);a?t.setState({disSwitchSend:!t.state.disSwitchSend}):t.setState({disSwitchComment:!n.state.disSwitchComment})})),t.state={albumViewVisible:!1,ViewVisible:!1,randomNum:"",sendOrReply:0,sendViewData:[],commentViewData:[],albumViewData:[],disSwitchSend:!1,disSwitchComment:!1},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({randomNum:(new Date).getTime()}),this.props.forumnGetSetting({id:t.props.recordData.id},(function(a){if(1e3==a.code&&Object.keys(a.data).length){t.props.form.setFieldsValue({commentPoint:a.data.commentPoint,commentSetting:a.data.commentSetting,sendPoint:a.data.sendPoint,sendSetting:a.data.sendSetting}),0==a.data.sendSetting&&e.setState({disSwitchSend:!0}),0==a.data.commentSetting&&e.setState({disSwitchComment:!0});var n=[],i=[];a.data.postsClassifyAccountVos.length&&a.data.postsClassifyAccountVos.forEach((function(e){1==e.type?n.push({name:e.accountName,fullName:e.accountFullName,id:e.accountId,type:e.accountType}):i.push({name:e.accountName,fullName:e.accountFullName,id:e.accountId,type:e.accountType})})),e.setState({sendViewData:n,commentViewData:i})}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.ViewVisible,n=t.disSwitchSend,o=t.disSwitchComment,f=this.props,c=f.visible,d=f.form,p=f.record,m=void 0===p?"":p,g=(f.type,d.getFieldDecorator),y={labelCol:{xs:{span:8},sm:{span:7}},wrapperCol:{xs:{span:16},sm:{span:17}}},h={display:"block"};return S.default.createElement(i.default,{width:"480px",title:"积分设置",visible:c,onOk:this.handleSubmit,onCancel:this.props.handleCancel},S.default.createElement(v.default,{layout:"horizontal"},S.default.createElement(O,(0,s.default)({className:"posting-setting-integral-item"},y,{label:"发帖可得积分数："}),g("sendPoint",{initialValue:m.id,rules:[{required:!0,message:"请输入发帖可得积分数"}]})(S.default.createElement(u.default,{min:0,style:{width:"80px"}})),S.default.createElement("span",null,"分")),S.default.createElement(O,(0,s.default)({className:"posting-setting-integral-item"},y,{label:"回帖积分数"}),g("commentPoint",{initialValue:m.id,rules:[{required:!0,message:"请输入回帖积分数"}]})(S.default.createElement(u.default,{min:0,style:{width:"80px"}})),S.default.createElement("span",null,"分")),S.default.createElement(O,(0,s.default)({className:"posting-setting-integral-item-thirdly"},y,{label:"发帖设置"}),g("sendSetting",{initialValue:m.id,rules:[{required:!0,message:"请设置发帖人员范围"}]})(S.default.createElement(l.default.Group,{onChange:function(t){return e.sendSettingChange(t,"send")},name:"one"},S.default.createElement(l.default,{style:h,value:0},"允许全部学员发帖"),S.default.createElement(l.default,{style:h,value:1},"允许部分学员发帖"))),S.default.createElement(r.default,{disabled:n,type:"primary",size:"small",onClick:function(){return e.postPostings("post")}},"指定用户")),S.default.createElement(O,(0,s.default)({className:"posting-setting-integral-item-thirdly"},y,{label:"回复设置"}),g("commentSetting",{initialValue:m.id,rules:[{required:!0,message:"请设置回帖人员范围"}]})(S.default.createElement(l.default.Group,{onChange:function(t){return e.sendSettingChange(t)},name:"two"},S.default.createElement(l.default,{style:h,value:0},"允许全部学员回复"),S.default.createElement(l.default,{style:h,value:1},"允许部分学员回复"))),S.default.createElement(r.default,{disabled:o,type:"primary",size:"small",onClick:this.postPostings},"指定用户"))),a&&S.default.createElement(i.default,{onOk:this.closeViewRange,onCancel:this.closeViewRange,width:1160,visible:a},S.default.createElement(C.default,{types:"forum",groupTypes:"course",key:this.state.randomNum,initData:this.state.albumViewData,getData:this.getViewData,invisible:!1})))}}]),n}(S.default.Component);var P=(0,w.connect)((function(e){return{}}),(function(e){return{forumnGetSetting:function(t,a){return e((0,b.classifyGetSetting)(t,a))},forumnUpdateSetting:function(t,a){return e((0,b.classifyUpdateSetting)(t,a))}}}))(v.default.create()(V));t.default=P},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},540:function(e,t,a){"use strict";a.r(t);a(26),a(577),a(584)},553:function(e,t,a){e.exports=a(11)(206)},563:function(e,t,a){e.exports=a(11)(837)},564:function(e,t,a){"use strict";a.r(t);a(26),a(581),a(140)},577:function(e,t,a){},581:function(e,t,a){"use strict";a.r(t);a(26),a(585)},585:function(e,t,a){},586:function(e,t,a){},616:function(e,t,a){"use strict";a.r(t);a(26),a(652)},617:function(e,t,a){e.exports=a(11)(824)},652:function(e,t,a){}}]);