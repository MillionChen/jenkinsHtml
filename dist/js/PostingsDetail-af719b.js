(window.webpackJsonp=window.webpackJsonp||[]).push([[104,10,12],{1300:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),l={train:{getTrainList:"GET ".concat(i.default.webManage,"/trainingProject/list"),deleteTrain:"POST ".concat(i.default.webManage,"/trainingProject/delete"),trainUp:"POST ".concat(i.default.webManage,"/trainingProject/up"),trainDown:"POST ".concat(i.default.webManage,"/trainingProject/down"),trainSvaeFirst:"POST ".concat(i.default.webManage,"/trainingProject/save"),trainUpdateFirst:"POST ".concat(i.default.webManage,"/trainingProject/update"),trainSaveThird:"POST ".concat(i.default.webManage,"/trainingProject/step/three/save"),trainGetFirst:"GET ".concat(i.default.webManage,"/trainingProject/one/get"),trainGetThird:"GET ".concat(i.default.webManage,"/trainingProject/step/three/view"),editRange:"POST ".concat(i.default.webManage,"/trainingProject/visibleRange/set"),editRangeThird:"POST ".concat(i.default.webManage,"/trainingProject/step/three/save"),viewRange:"GET ".concat(i.default.webManage,"/trainingProject/visibleRange/view"),getKindList:"GET ".concat(i.default.webManage,"/tpClassification/list"),saveKind:"POST ".concat(i.default.webManage,"/tpClassification/save"),deleteKind:"POST ".concat(i.default.webManage,"/tpClassification/delete"),updateKind:"POST ".concat(i.default.webManage,"/tpClassification/update"),getPlanSetting:"GET ".concat(i.default.webManage,"/tpPlan/detail/view"),getPlanList:"GET ".concat(i.default.webManage,"/tpPlan/all/list"),saveEnroll:"POST ".concat(i.default.webManage,"/enroll/insert"),updateEnroll:"POST ".concat(i.default.webManage,"/enroll/update"),getEnroll:"GET ".concat(i.default.webManage,"/enroll/view"),saveSign:"POST ".concat(i.default.webManage,"/sign/insert"),updateSign:"POST ".concat(i.default.webManage,"/sign/update"),viewSign:"POST ".concat(i.default.webManage,"/sign/view"),exportSign:"POST ".concat(i.default.webManage,"/sign/qrcode/get"),exportSignRecord:"GET ".concat(i.default.webManage,"/trainingProject/exportSignRecord"),activitiesExport:"GET ".concat(i.default.webManage,"/tpPlanActivity/activitiesExport")},comment:{getCommentsList:"GET ".concat(i.default.webManage,"/tpComment/list"),getRepCommentList:"GET ".concat(i.default.webManage,"/tpCommentReply/list"),downloadComments:"GET ".concat(i.default.webManage,"/tpComment/list/export"),upRepComment:"GET ".concat(i.default.webManage,"/tpCommentReply/up"),upComment:"GET ".concat(i.default.webManage,"/tpComment/up"),downRepComment:"GET ".concat(i.default.webManage,"/tpCommentReply/down"),downComment:"GET ".concat(i.default.webManage,"/tpComment/down"),deleteRepComment:"GET ".concat(i.default.webManage,"/tpCommentReply/deleteReply"),deleteComment:"POST ".concat(i.default.webManage,"/tpComment/deleteTpComment")},enroll:{getEnrollsList:"GET ".concat(i.default.webManage,"/enroll/list"),exportEnrollsList:"GET ".concat(i.default.webManage,"/enroll/list/export"),updateEnroll:"POST ".concat(i.default.webManage,"/enroll/audit")},plan:{savedPlan:"POST ".concat(i.default.webManage,"/tpPlan/save"),updatedPlan:"POST ".concat(i.default.webManage,"/tpPlan/update"),deletedPlan:"POST ".concat(i.default.webManage,"/tpPlan/delete"),sortedPlan:"POST ".concat(i.default.webManage,"/tpPlan/sort/update"),movedPlan:"GET ".concat(i.default.webManage,"/tpPlan/move"),getAcLists:"GET ".concat(i.default.webManage,"/tpPlanActivity/all/list"),deleteActivity:"POST ".concat(i.default.webManage,"/tpPlanActivity/delete"),sortedActivity:"POST ".concat(i.default.webManage,"/tpPlanActivity/sort/update"),updateActivity:"POST ".concat(i.default.webManage,"/tpPlanActivity/condition/edit"),newActivity:"POST ".concat(i.default.webManage,"/tpPlanActivity/save")},activity:{getCourselists:"GET ".concat(i.default.webManage,"/course/list"),getLiveLists:"GET ".concat(i.default.webManage,"/live/list"),getUnderLineLists:"GET ".concat(i.default.webManage,"/offlineCourse/list"),caseactivelists:"GET ".concat(i.default.webManage,"/caseLibrary/getProjectList"),selectcaselists:"GET ".concat(i.default.webManage,"/studentCase/getProjectList"),dataBaseActions:"POST ".concat(i.default.webManage,"/document/query/onCondition"),getExamlists:"GET ".concat(i.default.webManage,"/exam/list"),getSurveylists:"GET ".concat(i.default.webManage,"/research/page/list"),getVotelists:"GET ".concat(i.default.webManage,"/vote/list"),getHomeworklists:"GET ".concat(i.default.webManage,"/assignment/list"),getCertificatelists:"GET ".concat(i.default.webManage,"/certificate/list"),getPostingsLists:"POST ".concat(i.default.webManage,"/posts/getPage")}};t.default=l},1315:function(e,t,a){"use strict";var n=a(4),i=a(0);a(7),a(3),a(5),a(51),a(620),a(9),a(10),a(8),a(20),a(86),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.getPostingsManagerList=function(e,t){return function(a){return(0,c.default)({url:o.default.postingsManagerList,data:e}).then((function(e){console.log("forum-getPostingsManagerList-res",e),1e3==e.code&&t&&t(e.data)}))}},t.getPostingsManagerClassifyList=function(e,t){return function(a){return(0,c.default)({url:o.default.postingsManagerClassifyList,data:e}).then((function(e){console.log("forum-getPostingsManagerClassifyList-res",e),1e3==e.code&&t&&t(e.data)}))}},t.upOrDown=function(e,t){return function(a){return(0,c.default)({url:o.default.postingsUpOrDown,data:e}).then((function(e){console.log("forum-upOrDown-res",e),1e3==e.code&&t&&t(!0)}))}},t.highlightOrTop=function(e,t){return function(a){return(0,c.default)({url:o.default.highlightOrTop,data:e}).then((function(e){console.log("forum-highlightOrTop-res",e),1e3==e.code&&t&&t(!0)}))}},t.saveNewPostings=function(e,t){return function(a){return(0,c.default)({url:o.default.createPostings,data:e}).then((function(e){console.log("forum-saveNewPostings-res",e),1e3==e.code&&t&&t(!0)}))}},t.postingsDetail=function(e,t){return function(a){return(0,c.default)({url:o.default.postingsDetail,data:e}).then((function(e){console.log("forum-postingsDetail-res",e),1e3==e.code&&t&&t(e.data)}))}},t.editPostings=function(e,t){return function(a){return(0,c.default)({url:o.default.editPostings,data:e}).then((function(e){console.log("forum-editPostings-res",e),1e3==e.code&&t(!0)}))}},t.getVisbibleRange=function(e,t){return function(a){return(0,c.default)({url:o.default.getVisibleRange,data:e}).then((function(e){1e3==e.code&&t&&t(e.data)}))}},t.getReplyList=function(e,t){return function(a){return(0,c.default)({url:o.default.getReplyList,data:e}).then((function(e){1e3==e.code&&t&&t(e.data)}))}},t.getForbiddenList=function(e,t){return function(a){return(0,c.default)({url:o.default.getForbiddenList,data:e}).then((function(e){1e3==e.code&&t&&t(e.data)}))}},t.downloadReplyInfo=function(e){return function(t){return(0,c.default)({url:o.default.downloadReplyInfo,data:e}).then((function(e){console.log("downloadReplyInfo-res",e),1e3==e.code&&s.default.success("下载帖子回复成功")}))}},t.deleteForbidden=function(e,t){return function(a){return(0,c.default)({url:o.default.deleteForbidden,data:e}).then((function(e){1e3==e.code&&t&&t(!0)}))}},t.addForbidden=function(e,t){return function(a){return(0,c.default)({url:o.default.addForbidden,data:e}).then((function(e){1e3==e.code&&t&&t(e.data)}))}},t.upPostingsReply=function(e,t){return function(a){return(0,c.default)({url:o.default.upReply,data:e}).then((function(e){1e3==e.code&&t&&t(!0)}))}},t.downOrDeletePostingsReply=function(e,t){return function(a){return(0,c.default)({url:o.default.downOrDeleteReply,data:e}).then((function(e){1e3==e.code&&t&&t(!0)}))}},t.getTipOffList=function(e,t){return function(a){return(0,c.default)({url:o.default.getTipOffList,data:e}).then((function(e){1e3==e.code&&t&&t(e.data)}))}},t.removeTipOff=function(e,t){return function(a){return(0,c.default)({url:o.default.removeTipOff,data:e}).then((function(e){e.code&&t&&t(!0)}))}},t.getUploadParam=function(e,t){return function(a){var n={};return e?((n=e).needTranscode=e.needTranscode,n.type=e.type,n.date=(new Date).getTime()):n.t=(new Date).getTime(),(0,c.default)({url:o.default.uploadSign,data:n}).then((function(e){if("1000"===e.code){JSON.parse(e.data);t(e.data)}}))}},t.getCourselist=function(e){return console.log(e,"123321"),function(t){return(0,c.default)({url:o.default.getCourseList,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,classifyId:i[s].classifyId,code:i[s].code,acname:i[s].name,typenaem:"课程",type:2,total:n.total});console.log(l),t({type:u.GET_ACTIVITY_COURSE_LIST,data:l})}))}},t.getExamlist=function(e){return function(t){return(0,c.default)({url:o.default.getExamlist,data:e}).then((function(a){var n=a.data,i=n,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,endTime:r.default.fmtDateYYHHDD(Number(i[s].endTime)),startTime:r.default.fmtDateYYHHDD(Number(i[s].startTime)),acname:i[s].name,upTime:r.default.fmtDateYYHHDD(Number(i[s].upTime)),typenaem:"考试",type:4,total:a.page.pageTotal});console.log(l),t({type:u.GET_ACTIVITY_EXAM_LIST,data:l})}))}},t.getSurveylist=function(e){return function(t){return(0,c.default)({url:o.default.getSurveylist,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,startTime:r.default.fmtDateYYHHDD(i[s].startTime),endTime:r.default.fmtDateYYHHDD(i[s].endTime),acname:i[s].name,releaseTime:r.default.fmtDateYYHHDD(i[s].releaseTime),typenaem:"调研",type:5,total:n.total});console.log(l),t({type:u.GET_ACTIVITY_SURVEY_LIST,data:l})}))}},t.getVotelist=function(e){return function(t){return(0,c.default)({url:o.default.getVotelist,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.pageTotal-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,time:i[s].voteTime,acname:i[s].voteName,releaseTime:i[s].createTime,typenaem:"投票",type:4,total:n.pageRecords});console.log(l),t({type:u.GET_ACTIVITY_VOTE_LIST,data:l})}))}},t.getHomeworklist=function(e,t){return e.source=1,e.status=2,function(t){return(0,c.default)({url:o.default.homeworkUrl,data:e}).then((function(a){var n=a.data,i=[];if(null!==n)for(var l=0;l<n.length;l++)i.push({num:a.page.total-(e.pageNo-1)*e.pageSize-l,id:n[l].id,key:n[l].id,acname:n[l].name,traingProjectName:n[l].traingProjectName,typenaem:"作业",type:7,total:a.page.total,endDate:n[l].endDate});t({type:u.GET_ACTIVITY_HOMEWORK_LIST,data:i})}))}},t.getCertificatelist=function(e){return e.status=1,function(t){return(0,c.default)({url:o.default.getCertificatelist,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,acname:i[s].title,createTime:r.default.fmtDateYYHHDD(i[s].createTime),typenaem:"证书",type:6,total:n.total});console.log(l),t({type:u.GET_ACTIVITY_CERTIFICATE_LIST,data:l})}))}},t.getLiveList=function(e,t){return e.status=1,function(t){return(0,c.default)({url:o.default.getLiveList,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,code:i[s].channel,startTime:r.default.fmtDateYYHHDD(i[s].startTime),endTime:r.default.fmtDateYYHHDD(i[s].endTime),acname:i[s].title,typenaem:"直播",type:6,total:n.total});console.log(l),t({type:u.GET_ACTIVITY_living_LIST,data:l})}))}},t.getUnderLineList=function(e,t){return e.status=0,function(t){return(0,c.default)({url:o.default.getUnderLineList,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,classifyId:i[s].classifyId,code:i[s].code,acname:i[s].name,typenaem:"线下课程",type:3,total:n.total});console.log(l),t({type:u.GET_ACTIVITY_UNDERLINE_LIST,data:l})}))}},t.caseactivelist=function(e,t){return e.status=0,function(t){return(0,c.default)({url:o.default.caseactivelist,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,classifyId:i[s].classifyId,time:i[s].createTime,acname:i[s].name,typenaem:"原创活动",type:8,total:n.total});console.log(l),t({type:u.GET_ACTIVITY_CASEACTIVE_LIST,data:l})}))}},t.selectcaselist=function(e,t){return e.status=0,function(t){return(0,c.default)({url:o.default.selectcaselist,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].studentCaseId,key:i[s].studentCaseId,classifyId:i[s].classifyId,acname:i[s].title,authorUserName:i[s].authorUserName,authorName:i[s].authorName,orgName:i[s].orgName,auditTime:r.default.fmtDateYYHHDD(i[s].auditTime),score:i[s].score,typenaem:"精选作品",type:9,total:n.total});console.log(l),t({type:u.GET_ACTIVITY_SELECTCASE_LIST,data:l})}))}},t.dataBaseAction=function(e,t){return e.enableTypeFilter=1,function(t){return(0,c.default)({url:o.default.dataBaseAction,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,typeName:i[s].typeName,codeName:i[s].codeName,acname:i[s].name,name:i[s].name,fileSizeName:i[s].fileSizeName,updateTime:i[s].updateTime,typenaem:"资料",type:13,total:n.total});console.log(l),t({type:u.GET_ACTIVITY_DATABASE_LIST,data:l})}))}},t.getUserGroup=function(e,t){return function(a){return(0,c.default)({url:o.default.getUserGroup,data:e}).then((function(e){t(e)}))}},t.getTrainingProjectlist=function(e){return console.log(e,"-----------param-------"),function(t){return(0,c.default)({url:o.default.getTrainingProjectlist,data:e}).then((function(a){console.log("getTrainingProjectlist-res",a);var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,acname:i[s].name,actime:(0,d.default)(i[s].startTime).format("YYYY-MM-DD")+"~"+(0,d.default)(i[s].endTime).format("YYYY-MM-DD"),typenaem:"培训项目",type:15,total:n.total,url:i[s].logoImg});console.log(l),t({type:u.GET_TRAINING_PROJECT_LIST,data:l})}))}},t.getSelectedUser=void 0;var l=i(a(2));a(61);var s=i(a(62)),o=i(a(1434)),r=i(a(1316)),u=n(a(1435)),c=i(a(78)),d=i(a(223));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.getSelectedUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=p({},e),new Promise((function(e,t){}))}},1316:function(e,t,a){"use strict";a(44);var n={trainStatus:function(e){switch(e){case 0:return"草稿";case 1:return"上架";case 2:return"下架"}},strainState:function(e,t){var a=this.fmtDateYHD(Date.parse(new Date));return e-a>0?"未开始":e-a<=0&&t-a>=0?"进行中":"已结束"},paginationConfig:function(e,t){return{defaultPageSize:20,pageSizeOptions:["20","50","100"],showQuickJumper:!0,showSizeChanger:!0,onChange:e,onShowSizeChange:t}},fmtDateYHD:function(e){if(e){var t=new Date(e),a=1900+t.getYear(),n="0".concat(t.getMonth()+1),i="0".concat(t.getDate());return a+n.substring(n.length-2,n.length)+i.substring(i.length-2,i.length)}return""},fmtDateYYHHDD:function(e){if(e){var t=new Date(e),a=1900+t.getYear(),n="0".concat(t.getMonth()+1),i="0".concat(t.getDate());return"".concat(a,"-").concat(n.substring(n.length-2,n.length),"-").concat(i.substring(i.length-2,i.length))}return""}};e.exports=n},1327:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},1328:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},1375:function(e,t,a){var n=a(1327),i=a(258),l=a(255),s=a(1328);e.exports=function(e){return n(e)||i(e)||l(e)||s()}},1376:function(e,t,a){"use strict";var n=a(0);a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=n(a(558));a(549);var l=n(a(544)),s=n(a(29)),o=n(a(30)),r=n(a(59)),u=n(a(32)),c=n(a(33)),d=n(a(31));a(537);var f=n(a(536));a(554);var p=n(a(550)),h=n(a(1)),g=a(52),m=a(760),v=n(a(106));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}p.default.Option;var T=f.default.Search;var S=[{title:v.default.get("CourseCode")||"课程编码",dataIndex:"code",key:"code"},{title:v.default.get("CourseName")||"课程名称",dataIndex:"acname",key:"acname"}],E=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(y()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),(t=a.call(this,e)).state={title:v.default.get("PleaseAddCourse")||"添加课程",key:v.default.get("PleaseAddCourse")||"添加课程",loading:!1,value:"",shelves:1,page:1,pageSize:10,selectedRowKeys:[],selectedRows:[]},t.handlePageChange=t.handlePageChange.bind((0,r.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,r.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,r.default)(t)),t.handleSearch=t.handleSearch.bind((0,r.default)(t)),t.handleGetValue=t.handleGetValue.bind((0,r.default)(t)),t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize,shelves:this.state.shelves})}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(0!==e.activitylist.length){for(var a=0;a<e.activitylist.length;a++)t.push(e.activitylist[a].id);this.setState({selectedRowKeys:t})}}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].name);this.setState({selectedRowKeys:e,selectedRows:t}),this.props.selectedCourseRowKeys(e,t)}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({page:e,pageSize:t});var a=this.state,n=(a.value,a.status);this.props.onGetCourselist({pageNo:e,pageSize:t,status:n,shelves:this.state.shelves,name:this.state.value})}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state,n=a.page,i=a.status;this.setState({page:n,pageSize:t}),console.log(n,t),this.props.onGetCourselist({pageNo:n,pageSize:t,status:i,shelves:this.state.shelves,name:this.state.value})}},{key:"handleSearch",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize,shelves:this.state.shelves,name:this.state.value})}},{key:"handleGetValue",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.loading,this.props),a=t.courselist,n=(t.activitylist,{selectedRowKeys:this.state.selectedRowKeys,selectedRows:this.state.selectedRows,onChange:this.onSelectChange});return h.default.createElement("div",null,h.default.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"20px"}},h.default.createElement("div",{style:{display:"inline-flex",width:"45%"}},h.default.createElement(T,{placeholder:v.default.get("Statisitic235")||"请输入课程名称",onSearch:this.handleSearch,onChange:this.handleGetValue,enterButton:!0})),h.default.createElement("div",{style:{marginTop:"20px"}},h.default.createElement(l.default,{rowSelection:n,columns:S,dataSource:a,components:this.components,pagination:!1}),h.default.createElement(i.default,{hideOnSinglePage:!0,className:"train-list-pagination",total:0!=a.length?a[0].total:0,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40","50"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange}))))}}]),n}(h.default.Component);var w=(0,g.connect)((function(e,t){return console.log(e,"------state------"),{courselist:e.activityList.courselist}}),(function(e){return{onGetCourselist:function(t){return e((0,m.getCourselist)(t))}}}))(E);t.default=w},1377:function(e,t,a){"use strict";var n=a(0);a(44),a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=n(a(558));a(549);var l=n(a(544));a(578);var s=n(a(570)),o=n(a(29)),r=n(a(30)),u=n(a(59)),c=n(a(32)),d=n(a(33)),f=n(a(31));a(537);var p=n(a(536)),h=n(a(1)),g=a(52),m=a(760),v=n(a(106));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var T=p.default.Search;var S=[{title:v.default.get("ExamTime")||"考试时间",dataIndex:"examtime",key:"examtime",render:function(e,t,a){return h.default.createElement("div",null,h.default.createElement("span",{style:{fontSize:"12px"}},"".concat(t.startTime," ~ ").concat(t.endTime)))}},{title:"考试名称",dataIndex:"acname",key:"examAcname"},{title:"上架时间",dataIndex:"upTime",key:"upTime"}],E=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,f.default)(t);if(y()){var n=(0,f.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),(t=a.call(this,e)).state={title:"添加考试",key:"添加考试",loading:!1,value:"",state:2,page:1,pageSize:10,selectedRowKeys:[]},t.handlePageChange=t.handlePageChange.bind((0,u.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,u.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,u.default)(t)),t.handleSearch=t.handleSearch.bind((0,u.default)(t)),t.handleGetValue=t.handleGetValue.bind((0,u.default)(t)),t}return(0,r.default)(n,[{key:"componentDidMount",value:function(){this.props.onGetExamlist({pageNo:this.state.page,pageSize:this.state.pageSize,state:this.state.state})}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(0!==e.activitylist.length){for(var a=0;a<e.activitylist.length;a++)t.push(e.activitylist[a].id);this.setState({selectedRowKeys:t})}}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].name);this.setState({selectedRowKeys:e,selectedRows:t}),this.props.selectedExamRowKeys(e,t)}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({page:e});var a=this.state,n=(a.value,a.state);this.props.onGetExamlist({pageNo:e,pageSize:t,state:n,name:this.state.value})}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state,n=a.page,i=a.state;console.log(n,t),this.props.onGetExamlist({pageNo:n,pageSize:t,state:i})}},{key:"handleSearch",value:function(){this.props.onGetExamlist({pageNo:this.state.page,pageSize:this.state.pageSize,state:this.state.state,name:this.state.value})}},{key:"handleGetValue",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.loading,this.props),a=t.examlist,n=(t.activitylist,{selectedRowKeys:this.state.selectedRowKeys,onChange:this.onSelectChange});return h.default.createElement("div",null,h.default.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"20px"}},h.default.createElement("div",{style:{display:"inline-flex",width:"45%"}},h.default.createElement(s.default,{span:24},h.default.createElement(T,{placeholder:"请输入考试名称",onSearch:this.handleSearch,onChange:this.handleGetValue,enterButton:!0}))),h.default.createElement("div",{style:{marginTop:"20px"}},h.default.createElement(l.default,{rowSelection:n,columns:S,dataSource:a,components:this.components,pagination:!1}),h.default.createElement(i.default,{hideOnSinglePage:!0,className:"train-list-pagination",total:0!=a.length?a[0].total:0,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40","50"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange}))))}}]),n}(h.default.Component);var w=(0,g.connect)((function(e,t){return{examlist:e.activityList.examlist}}),(function(e){return{onGetExamlist:function(t){return e((0,m.getExamlist)(t))}}}))(E);t.default=w},1378:function(e,t,a){"use strict";var n=a(0);a(44),a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=n(a(558));a(549);var l=n(a(544));a(578);var s=n(a(570)),o=n(a(29)),r=n(a(30)),u=n(a(59)),c=n(a(32)),d=n(a(33)),f=n(a(31));a(537);var p=n(a(536)),h=n(a(1)),g=a(52),m=a(760);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=p.default.Search;var T=[{title:"调研时间",dataIndex:"time",key:"time",render:function(e,t,a){return h.default.createElement("div",null,h.default.createElement("span",null,"".concat(t.startTime," ~ ").concat(t.endTime)))}},{title:"调研名称",dataIndex:"acname",key:"acname"},{title:"上架时间",dataIndex:"releaseTime",key:"releaseTime"}],S=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,f.default)(t);if(v()){var n=(0,f.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),(t=a.call(this,e)).state={title:"添加调研",key:"添加调研",loading:!1,value:"",state:1,page:1,pageSize:10,selectedRowKeys:[]},t.handlePageChange=t.handlePageChange.bind((0,u.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,u.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,u.default)(t)),t.handleSearch=t.handleSearch.bind((0,u.default)(t)),t.handleGetValue=t.handleGetValue.bind((0,u.default)(t)),t}return(0,r.default)(n,[{key:"componentDidMount",value:function(){this.props.onGetSurveyList({pageNo:this.state.page,pageSize:this.state.pageSize,name:this.state.value,state:this.state.state})}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(0!==e.activitylist.length){for(var a=0;a<e.activitylist.length;a++)t.push(e.activitylist[a].id);this.setState({selectedRowKeys:t})}}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].name);this.setState({selectedRowKeys:e,selectedRows:t}),this.props.selectedSurveyRowKeys(e,t)}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({page:e});var a=this.state,n=(a.value,a.status);this.props.onGetSurveyList({pageNo:e,pageSize:t,status:n,shelves:this.state.shelves,state:this.state.state,name:this.state.value})}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state,n=a.page,i=a.status;console.log(n,t),this.props.onGetSurveyList({pageNo:n,state:this.state.state,pageSize:t,status:i})}},{key:"handleSearch",value:function(){this.props.onGetSurveyList({pageNo:this.state.page,pageSize:this.state.pageSize,shelves:this.state.shelves,state:this.state.state,name:this.state.value})}},{key:"handleGetValue",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.loading,this.props),a=t.surveylist,n=(t.activitylist,{selectedRowKeys:this.state.selectedRowKeys,onChange:this.onSelectChange});return h.default.createElement("div",null,h.default.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"20px"}},h.default.createElement("div",{style:{display:"inline-flex",width:"45%"}},h.default.createElement(s.default,{span:24},h.default.createElement(y,{placeholder:"请输入调研名称",onSearch:this.handleSearch,onChange:this.handleGetValue,enterButton:!0})),h.default.createElement(s.default,{span:2}),h.default.createElement(s.default,{span:5})),h.default.createElement("div",{style:{marginTop:"20px"}},h.default.createElement(l.default,{rowSelection:n,columns:T,dataSource:a,components:this.components,pagination:!1}),h.default.createElement(i.default,{hideOnSinglePage:!0,className:"train-list-pagination",total:0!=a.length?a[0].total:0,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40","50"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange}))))}}]),n}(h.default.Component);var E=(0,g.connect)((function(e,t){return{surveylist:e.activityList.surveylist}}),(function(e){return{onGetSurveyList:function(t){return e((0,m.getSurveylist)(t))}}}))(S);t.default=E},1379:function(e,t,a){"use strict";var n=a(0);a(44),a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=n(a(558));a(549);var l=n(a(544)),s=n(a(29)),o=n(a(30)),r=n(a(59)),u=n(a(32)),c=n(a(33)),d=n(a(31));a(537);var f=n(a(536));a(554);var p=n(a(550)),h=n(a(1)),g=a(52),m=a(760);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}p.default.Option;var y=f.default.Search;var T=[{title:"直播号",dataIndex:"code",key:"code"},{title:"直播主题",dataIndex:"acname",key:"acname"},{title:"直播时间",dataIndex:"time",key:"time",render:function(e,t,a){return h.default.createElement("div",null,h.default.createElement("span",null,"".concat(t.startTime," ~ ").concat(t.endTime)))}}],S=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(v()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),(t=a.call(this,e)).state={title:"添加课程",key:"添加课程",loading:!1,value:"",shelves:1,page:1,pageSize:10,selectedRowKeys:[],selectedRows:[]},t.handlePageChange=t.handlePageChange.bind((0,r.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,r.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,r.default)(t)),t.handleSearch=t.handleSearch.bind((0,r.default)(t)),t.handleGetValue=t.handleGetValue.bind((0,r.default)(t)),t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize})}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(0!==e.activitylist.length){for(var a=0;a<e.activitylist.length;a++)t.push(e.activitylist[a].id);this.setState({selectedRowKeys:t})}}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].name);this.setState({selectedRowKeys:e,selectedRows:t}),this.props.selectedCourseRowKeys(e,t)}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({page:e});this.state.value;this.props.onGetCourselist({pageNo:e,pageSize:t,name:this.state.value})}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state.page;console.log(a,t),this.props.onGetCourselist({pageNo:a,pageSize:t})}},{key:"handleSearch",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize,title:this.state.value,startTime:":00",endTime:":00"})}},{key:"handleGetValue",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.loading,this.props),a=t.courselist;t.activitylist;console.log(a+"3333333");var n={selectedRowKeys:this.state.selectedRowKeys,selectedRows:this.state.selectedRows,onChange:this.onSelectChange};return h.default.createElement("div",null,h.default.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"20px"}},h.default.createElement("div",{style:{display:"inline-flex",width:"45%"}},h.default.createElement(y,{placeholder:"请输入直播号",onSearch:this.handleSearch,onChange:this.handleGetValue,enterButton:!0})),h.default.createElement("div",{style:{marginTop:"20px"}},h.default.createElement(l.default,{rowSelection:n,columns:T,dataSource:a,components:this.components,pagination:!1}),h.default.createElement(i.default,{hideOnSinglePage:!0,className:"train-list-pagination",total:a.length&&a[0].total,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40","50"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange}))))}}]),n}(h.default.Component);var E=(0,g.connect)((function(e,t){return{courselist:e.activityList.livinglist}}),(function(e){return{onGetCourselist:function(t){return e((0,m.getLiveList)(t))}}}))(S);t.default=E},1380:function(e,t,a){"use strict";var n=a(0);a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=n(a(558));a(549);var l=n(a(544));a(578);var s=n(a(570)),o=n(a(29)),r=n(a(30)),u=n(a(59)),c=n(a(32)),d=n(a(33)),f=n(a(31));a(537);var p=n(a(536)),h=n(a(1)),g=a(52),m=a(760),v=n(a(223));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var T=p.default.Search;var S=[{title:"作业名称",dataIndex:"acname",key:"acname"},{title:"要求完成时间",dataIndex:"endDate",key:"endDate",render:function(e,t){return console.log("检测打印变量= eeee",(0,v.default)(e).format("YYYY")),"2038"===(0,v.default)(e).format("YYYY")?h.default.createElement("span",null,"长期有效"):(0,v.default)(e).format("YYYY-MM-DD HH:mm")}}],E=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,f.default)(t);if(y()){var n=(0,f.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),(t=a.call(this,e)).state={title:"添加作业",key:"添加作业",loading:!1,value:"",state:2,page:1,pageSize:10,selectedRowKeys:[]},t.handlePageChange=t.handlePageChange.bind((0,u.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,u.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,u.default)(t)),t.handleSearch=t.handleSearch.bind((0,u.default)(t)),t.handleGetValue=t.handleGetValue.bind((0,u.default)(t)),t}return(0,r.default)(n,[{key:"componentDidMount",value:function(){this.props.onGetHomeworklist({pageNo:this.state.page,pageSize:this.state.pageSize,status:2})}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(0!==e.activitylist.length){for(var a=0;a<e.activitylist.length;a++)t.push(e.activitylist[a].id);this.setState({selectedRowKeys:t})}}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].name);this.setState({selectedRowKeys:e,selectedRows:t}),this.props.selectedHomeworkRowKeys(e,t)}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({page:e});var a=this.state,n=(a.value,a.status);this.props.onGetHomeworklist({pageNo:e,pageSize:t,status:n,name:this.state.value,shelves:this.state.shelves})}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state,n=a.page,i=a.status;this.props.onGetHomeworklist({pageNo:n,pageSize:t,status:i})}},{key:"handleSearch",value:function(){this.props.onGetHomeworklist({pageNo:this.state.page,pageSize:this.state.pageSize,shelves:this.state.shelves,status:2,name:this.state.value})}},{key:"handleGetValue",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.loading,this.props),a=t.homeworklist,n=(t.activitylist,{selectedRowKeys:this.state.selectedRowKeys,onChange:this.onSelectChange});return h.default.createElement("div",null,h.default.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"20px"}},h.default.createElement("div",{style:{display:"inline-flex",width:"45%"}},h.default.createElement(s.default,{span:24},h.default.createElement(T,{placeholder:"请输入作业名称",onSearch:this.handleSearch,onChange:this.handleGetValue,enterButton:!0}))),h.default.createElement("div",{style:{marginTop:"20px"}},h.default.createElement(l.default,{rowSelection:n,columns:S,dataSource:a,components:this.components,pagination:!1}),h.default.createElement(i.default,{className:"train-list-pagination",total:0!=a.length?a[0].total:0,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40","50"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange}))))}}]),n}(h.default.Component);var w=(0,g.connect)((function(e,t){return{homeworklist:e.activityList.homeworklist}}),(function(e){return{onGetHomeworklist:function(t){return e((0,m.getHomeworklist)(t))}}}))(E);t.default=w},1381:function(e,t,a){"use strict";var n=a(0);a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=n(a(558));a(549);var l=n(a(544)),s=n(a(29)),o=n(a(30)),r=n(a(59)),u=n(a(32)),c=n(a(33)),d=n(a(31));a(537);var f=n(a(536));a(554);var p=n(a(550)),h=n(a(1)),g=a(52),m=a(760);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}p.default.Option;var y=f.default.Search;var T=[{title:"课程编码",dataIndex:"code",key:"code"},{title:"课程名称",dataIndex:"acname",key:"acname"}],S=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(v()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),(t=a.call(this,e)).state={title:"添加课程",key:"添加课程",loading:!1,value:"",shelves:1,page:1,pageSize:10,selectedRowKeys:[],selectedRows:[]},t.handlePageChange=t.handlePageChange.bind((0,r.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,r.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,r.default)(t)),t.handleSearch=t.handleSearch.bind((0,r.default)(t)),t.handleGetValue=t.handleGetValue.bind((0,r.default)(t)),t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize})}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(0!==e.activitylist.length){for(var a=0;a<e.activitylist.length;a++)t.push(e.activitylist[a].id);this.setState({selectedRowKeys:t})}}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].name);this.setState({selectedRowKeys:e,selectedRows:t}),this.props.selectedCourseRowKeys(e,t)}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({page:e});this.state.value;this.props.onGetCourselist({pageNo:e,pageSize:t,name:this.state.value})}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state.page;console.log(a,t),this.props.onGetCourselist({pageNo:a,pageSize:t})}},{key:"handleSearch",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize,name:this.state.value})}},{key:"handleGetValue",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.loading,this.props),a=t.courselist,n=(t.activitylist,{selectedRowKeys:this.state.selectedRowKeys,selectedRows:this.state.selectedRows,onChange:this.onSelectChange});return h.default.createElement("div",null,h.default.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"20px"}},h.default.createElement("div",{style:{display:"inline-flex",width:"45%"}},h.default.createElement(y,{placeholder:"请输入课程名称",onSearch:this.handleSearch,onChange:this.handleGetValue,enterButton:!0})),h.default.createElement("div",{style:{marginTop:"20px"}},h.default.createElement(l.default,{rowSelection:n,columns:T,dataSource:a,components:this.components,pagination:!1}),h.default.createElement(i.default,{hideOnSinglePage:!0,className:"train-list-pagination",total:a.length&&a[0].total,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40","50"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange}))))}}]),n}(h.default.Component);var E=(0,g.connect)((function(e,t){return{courselist:e.activityList.underLinelist}}),(function(e){return{onGetCourselist:function(t){return e((0,m.getUnderLineList)(t))}}}))(S);t.default=E},1382:function(e,t,a){"use strict";var n=a(0);a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=n(a(558));a(549);var l=n(a(544)),s=n(a(29)),o=n(a(30)),r=n(a(59)),u=n(a(32)),c=n(a(33)),d=n(a(31));a(537);var f=n(a(536));a(554);var p=n(a(550)),h=n(a(1)),g=a(52),m=a(760),v=n(a(223)),y=n(a(106));function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}p.default.Option;var S=f.default.Search;var E=[{title:y.default.get("caseadmin52")||"原创活动名称",dataIndex:"acname",key:"acname"},{title:y.default.get("CreateTime")||"创建时间",dataIndex:"time",key:"time",render:function(e,t){return h.default.createElement("span",null,(0,v.default)(e).format("YYYY-MM-DD HH:mm:ss"))}}],w=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(T()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),(t=a.call(this,e)).state={title:y.default.get("albumManagement15")||"添加课程",key:y.default.get("albumManagement15")||"添加课程",loading:!1,value:"",shelves:1,page:1,pageSize:10,selectedRowKeys:[],selectedRows:[]},t.handlePageChange=t.handlePageChange.bind((0,r.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,r.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,r.default)(t)),t.handleSearch=t.handleSearch.bind((0,r.default)(t)),t.handleGetValue=t.handleGetValue.bind((0,r.default)(t)),t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize})}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(0!==e.activitylist.length){for(var a=0;a<e.activitylist.length;a++)t.push(e.activitylist[a].id);this.setState({selectedRowKeys:t})}}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].name);this.setState({selectedRowKeys:e,selectedRows:t}),this.props.selectedCourseRowKeys(e,t,"Caseactive")}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({page:e});this.state.value;this.props.onGetCourselist({pageNo:e,pageSize:t,name:this.state.value})}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state.page;console.log(a,t),this.props.onGetCourselist({pageNo:a,pageSize:t})}},{key:"handleSearch",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize,name:this.state.value})}},{key:"handleGetValue",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.loading,this.props),a=t.courselist,n=(t.activitylist,{selectedRowKeys:this.state.selectedRowKeys,selectedRows:this.state.selectedRows,onChange:this.onSelectChange});return h.default.createElement("div",null,h.default.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"20px"}},h.default.createElement("div",{style:{display:"inline-flex",width:"45%"}},h.default.createElement(S,{placeholder:y.default.get("Statisitic241")||"请输入原创活动名称",onSearch:this.handleSearch,onChange:this.handleGetValue,enterButton:!0})),h.default.createElement("div",{style:{marginTop:"20px"}},h.default.createElement(l.default,{rowSelection:n,columns:E,dataSource:a,components:this.components,pagination:!1}),h.default.createElement(i.default,{hideOnSinglePage:!0,className:"train-list-pagination",size:"small",total:a.length&&a[0].total,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40","50"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange}))))}}]),n}(h.default.Component);var C=(0,g.connect)((function(e,t){return{courselist:e.activityList.caseactivelist}}),(function(e){return{onGetCourselist:function(t){return e((0,m.caseactivelist)(t))}}}))(w);t.default=C},1383:function(e,t,a){"use strict";var n=a(0);a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=n(a(558));a(549);var l=n(a(544)),s=n(a(29)),o=n(a(30)),r=n(a(59)),u=n(a(32)),c=n(a(33)),d=n(a(31));a(537);var f=n(a(536));a(554);var p=n(a(550)),h=n(a(1)),g=a(52),m=a(760);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}p.default.Option;var y=f.default.Search;var T=[{title:"作品标题",dataIndex:"acname",key:"acname"},{title:"用户名",dataIndex:"authorUserName",key:"authorUserName"},{title:"姓名",dataIndex:"authorName",key:"authorName"},{title:"部门",dataIndex:"orgName",key:"orgName"},{title:"审核时间",dataIndex:"auditTime",key:"auditTime"},{title:"得分",dataIndex:"score",key:"score"}],S=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(v()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),(t=a.call(this,e)).state={title:"添加课程",key:"添加课程",loading:!1,value:"",shelves:1,page:1,pageSize:10,selectedRowKeys:[],selectedRows:[]},t.handlePageChange=t.handlePageChange.bind((0,r.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,r.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,r.default)(t)),t.handleSearch=t.handleSearch.bind((0,r.default)(t)),t.handleGetValue=t.handleGetValue.bind((0,r.default)(t)),t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize})}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(0!==e.activitylist.length){for(var a=0;a<e.activitylist.length;a++)t.push(e.activitylist[a].id);this.setState({selectedRowKeys:t})}}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].name);this.setState({selectedRowKeys:e,selectedRows:t}),this.props.selectedCourseRowKeys(e,t,"Selectcase")}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({page:e});this.state.value;this.props.onGetCourselist({pageNo:e,pageSize:t,name:this.state.value})}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state.page;console.log(a,t),this.props.onGetCourselist({pageNo:a,pageSize:t})}},{key:"handleSearch",value:function(){this.props.onGetCourselist({pageNo:this.state.page,pageSize:this.state.pageSize,name:this.state.value})}},{key:"handleGetValue",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.loading,this.props),a=t.courselist,n=(t.activitylist,{selectedRowKeys:this.state.selectedRowKeys,selectedRows:this.state.selectedRows,onChange:this.onSelectChange});return h.default.createElement("div",null,h.default.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"20px"}},h.default.createElement("div",{style:{display:"inline-flex",width:"45%"}},h.default.createElement(y,{placeholder:"请输入原创活动名称",onSearch:this.handleSearch,onChange:this.handleGetValue,enterButton:!0})),h.default.createElement("div",{style:{marginTop:"20px"}},h.default.createElement(l.default,{rowSelection:n,columns:T,dataSource:a,components:this.components,pagination:!1}),h.default.createElement(i.default,{hideOnSinglePage:!0,className:"train-list-pagination",size:"small",total:a.length&&a[0].total,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40","50"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange}))))}}]),n}(h.default.Component);var E=(0,g.connect)((function(e,t){return{courselist:e.activityList.selectcaselist}}),(function(e){return{onGetCourselist:function(t){return e((0,m.selectcaselist)(t))}}}))(S);t.default=E},1388:function(e,t,a){e.exports={uploadDiv:"uploadDiv__1nzSO",upload:"upload__gt7ji",uploadInput:"uploadInput__P469g",iconDiv:"iconDiv__xuBkc",uploadBigDiv:"uploadBigDiv__3U0sp",case_content_file_name:"case_content_file_name__23Oq-",case_content_delete:"case_content_delete__1zCrB",case_content_upload_btn_icon:"case_content_upload_btn_icon__E6Sdl",case_content_title_1:"case_content_title_1__2DBqp",case_content_title_2:"case_content_title_2__3EdDX"}},1431:function(e,t,a){"use strict";var n=a(4),i=a(0);a(3),a(101),a(227),a(40),a(143),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(99);var l=i(a(100));a(224);var s=i(a(225)),o=i(a(29)),r=i(a(30)),u=i(a(59)),c=i(a(32)),d=i(a(33)),f=i(a(31)),p=n(a(1)),h=i(a(1432));function g(e){return function(){var t,a=(0,f.default)(e);if(m()){var n=(0,f.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,d.default)(this,t)}}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,c.default)(a,e);var t=g(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).state={previewVisible:!1,previewUrl:"",previewType:"image"},n.fileItemClick=n.fileItemClick.bind((0,u.default)(n)),n.closeModal=n.closeModal.bind((0,u.default)(n)),n}return(0,r.default)(a,[{key:"componentDidMount",value:function(){this.props.fileList}},{key:"fileItemClick",value:function(e){console.log(e,"--------item-------");var t=e.ossUrl.split(".")[e.ossUrl.split(".").length-1];-1==["jpg","png","jpeg","gif"].indexOf(t)?-1==["mp4"].indexOf(t)?-1==["mp3"].indexOf(t)||this.setState({previewUrl:e.ossUrl,previewVisible:!0,previewType:"audio"}):this.setState({previewUrl:e.ossUrl,previewVisible:!0,previewType:"video"}):this.setState({previewUrl:e.ossUrl,previewVisible:!0,previewType:"image"})}},{key:"closeModal",value:function(){this.setState({previewVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.fileList,n=t.deleteFile,i=t.type;console.log(i,"---=========type===========");var l=[".xls",".xlsx",".doc",".docx",".pdf",".ppt",".pptx",".zip"];if("upload"==i)return p.default.createElement("div",{className:h.default.homeworkUploadPreviewContainer},a.map((function(e,t){return p.default.createElement(y,{key:t,item:e,deleteFile:n})})));var o=this.state,r=o.previewType,u=o.previewUrl;return console.log(u,"-----------previewUrl-----------"),p.default.createElement("div",{className:h.default.homeworkBackFileContainer},a.map((function(t,a){return p.default.createElement(T,{key:a,item:t,itemClick:e.fileItemClick,canDownload:-1!=l.indexOf(t.suffix)})})),p.default.createElement(s.default,{visible:this.state.previewVisible,onCancel:this.closeModal,title:"在线预览",footer:null},this.state.previewVisible?p.default.createElement("div",{className:h.default.previewModal},"image"==r?p.default.createElement("img",{src:u,alt:""}):"video"==r?p.default.createElement("video",{src:u,controls:!0,preload:!0}):"audio"==r?p.default.createElement("audio",{src:u,controls:!0,preload:!0}):""):""))}}]),a}(p.Component),y=function(e){(0,c.default)(a,e);var t=g(a);function a(e){return(0,o.default)(this,a),t.call(this,e)}return(0,r.default)(a,[{key:"itemNameSolve",value:function(e){var t=e.split("."),a=t.filter((function(e,a){return a<t.length-1})).join(".");return a.length>15?a.slice(0,15)+"..."+t[t.length-1]:e}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.deleteFile;return p.default.createElement("div",{className:h.default.uploadProgressItem},p.default.createElement("div",{className:h.default.itemTitle},this.itemNameSolve(t.fileName)),p.default.createElement("div",{className:h.default.itemProgressContainer},p.default.createElement("div",{className:h.default.itemProgressLine,style:"fail"==t.uploadedStatus?{color:"#EE6157",width:t.percent+"%"}:{width:t.percent+"%"}})),p.default.createElement("div",{className:h.default.itemProgressText,style:"fail"==t.uploadedStatus?{color:"#EE6157"}:{}},"uploading"==t.uploadedStatus?"上传中":"success"==t.uploadedStatus?"上传成功":"fail"==t.uploadedStatus?"上传失败，请删除后重新上传":""),p.default.createElement("div",{className:h.default.itemProgressNum},t.percent<100?t.percent+"%":"success"==t.uploadedStatus?p.default.createElement(l.default,{type:"check",style:{color:"#76C482"}}):""),"success"==t.uploadedStatus||"fail"==t.uploadedStatus?p.default.createElement("div",{className:h.default.itemDelete,onClick:function(){return a(t.id)}},"删除"):"")}}]),a}(p.Component),T=function(e){(0,c.default)(a,e);var t=g(a);function a(e){return(0,o.default)(this,a),t.call(this,e)}return(0,r.default)(a,[{key:"itemNameSolve",value:function(e){var t=e.split("."),a=t.filter((function(e,a){return a<t.length-1})).join(".");return a.length>15?a.slice(0,15)+"..."+t[t.length-1]:e}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.itemClick;return e.canDownload?p.default.createElement("div",{className:h.default.backFileItem},p.default.createElement("a",{href:t.ossUrl,download:t.fileName,target:"blank"},this.itemNameSolve(t.fileName))):p.default.createElement("div",{className:h.default.backFileItem,onClick:function(){return a(t)}},this.itemNameSolve(t.fileName))}}]),a}(p.Component),S=v;t.default=S},1432:function(e,t,a){e.exports={homeworkUploadPreviewContainer:"homeworkUploadPreviewContainer__3pEZ2",uploadProgressItem:"uploadProgressItem__35XEr",itemTitle:"itemTitle__e_skz",itemProgressContainer:"itemProgressContainer__RQd4f",itemProgressLine:"itemProgressLine__wf6i7",itemProgressText:"itemProgressText__2Hzx1",itemProgressNum:"itemProgressNum__1LUk_",itemDelete:"itemDelete__ChAnl",homeworkBackFileContainer:"homeworkBackFileContainer__1vupb",backFileItem:"backFileItem__20emi","back-file-item":"back-file-item__2ak1M",previewModal:"previewModal__2w5Tk"}},1433:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(51),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(99);var l=i(a(100));a(61);var s=i(a(62)),o=i(a(29)),r=i(a(30)),u=i(a(59)),c=i(a(32)),d=i(a(33)),f=i(a(31)),p=i(a(2)),h=n(a(1)),g=i(a(1388)),m=a(561),v=a(52);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var T=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,f.default)(t);if(y()){var n=(0,f.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),t=a.call(this,e),(0,p.default)((0,u.default)(t),"changePath",(function(e){var a=e.target.files[0];if(a)if(a.size/1024/1024<50){var n=t.props,i=n.uploadParam,l=n.fileList,o=i.host,r=new XMLHttpRequest,u=new FormData;a.id=l.length+1;var c=(new Date).getTime();a.time=c;var d="".concat(a.id+c,".").concat(a.name.split(".")[a.name.split(".").length-1]);a.fileName=d,u.append("name",a.name),u.append("Filename","".concat(i.dir,"/").concat(d)),u.append("key","".concat(i.dir,"/").concat(d)),u.append("policy",i.policy),u.append("OSSAccessKeyId",i.accessid),u.append("success_action_status","200"),u.append("signature",i.signature),u.append("file",a),t.props.beforeUpload(a,52428800,"attachment",i),r.open("POST",o,!0),r.send(u);var f=function(e){s.default.success("上传失败！"),t.props.fail(a,"attachment")};r.addEventListener("load",(function(e){t.props.success(a,"attachment",i),s.default.success("上传成功！")}),!1),r.addEventListener("error",f,!1),r.addEventListener("failed ",f,!1)}else s.default.info("文件大小不可超过50M",2)})),(0,p.default)((0,u.default)(t),"onUpload",(function(){t.myRef.click()})),t.myRef=h.default.createRef(),t}return(0,r.default)(n,[{key:"componentWillMount",value:function(){this.props.gupfetch()}},{key:"render",value:function(){var e=this,t=this.props;t.type,t.hasUploaded;return h.default.createElement("div",{className:g.default.uploadDiv,onClick:this.onUpload},h.default.createElement("span",{className:g.default.upload},h.default.createElement("input",{type:"file",className:g.default.uploadInput,ref:function(t){return e.myRef=t},onChange:this.changePath}),h.default.createElement("div",{className:g.default.iconDiv},h.default.createElement(l.default,{type:"plus"}),h.default.createElement("div",{className:"ant-upload-text"},"上传"))))}}]),n}(h.default.Component);var S=(0,v.connect)((function(e,t){return{uploadParam:e.uploadParam.param}}),(function(e){return{gupfetch:function(){return e((0,m.gupfetch)())}}}))(T);t.default=S},1434:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),l={postingsManagerList:"POST ".concat(i.default.webManage,"/posts/getPage"),postingsManagerClassifyList:"GET ".concat(i.default.webManage,"/postsClassify/getPage"),postingsUpOrDown:"POST ".concat(i.default.webManage,"/posts/upOrDown"),highlightOrTop:"POST ".concat(i.default.webManage,"/posts/topOrHighlight"),createPostings:"POST ".concat(i.default.webManage,"/posts/save"),postingsDetail:"POST ".concat(i.default.webManage,"/posts/get"),editPostings:"POST ".concat(i.default.webManage,"/posts/update"),getVisibleRange:"GET ".concat(i.default.webManage,"/posts/getVisibleRange"),getReplyList:"GET ".concat(i.default.webManage,"/posts/comment/getPageToManage"),getForbiddenList:"GET ".concat(i.default.webManage,"/posts/forbiddenAccount/getPage"),downloadReplyInfo:"GET ".concat(i.default.comment,"/manage/list/export"),deleteForbidden:"POST ".concat(i.default.webManage,"/posts/forbiddenAccount/deleted"),addForbidden:"POST ".concat(i.default.webManage,"/posts/forbiddenAccount/save"),upReply:"GET ".concat(i.default.comment,"/manage/up"),downOrDeleteReply:"GET ".concat(i.default.webManage,"/posts/comment/down/include/children"),getTipOffList:"GET ".concat(i.default.webManage,"/inform/getPage"),removeTipOff:"GET ".concat(i.default.webManage,"/inform/cancel"),uploadSign:"GET ".concat(i.default.ossUrl,"/upload/policy"),getCourseList:"GET ".concat(i.default.webManage,"/course/list"),getExamlist:"GET ".concat(i.default.webManage,"/exam/list"),getSurveylist:"GET ".concat(i.default.base,"/web-manager/page/list"),getVotelist:"GET ".concat(i.default.webManage,"/vote/list"),homeworkUrl:"GET ".concat(i.default.webManage,"/assignment/list"),getCertificatelist:"GET ".concat(i.default.webManage,"/certificate/list"),getLiveList:"GET ".concat(i.default.webManage,"/live/list"),getUnderLineList:"GET ".concat(i.default.webManage,"/offlineCourse/list"),caseactivelist:"GET ".concat(i.default.webManage,"/caseLibrary/getProjectList"),selectcaselist:"GET ".concat(i.default.webManage,"/studentCase/getProjectList"),dataBaseAction:"POST ".concat(i.default.webManage,"/document/query/onCondition"),getTrainingProjectlist:"GET ".concat(i.default.webManage,"/trainingProject/list"),getUserGroup:"GET ".concat(i.default.systemManage,"/org/userGroup/list")};t.default=l},1435:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GET_TRAINING_PROJECT_LIST=t.GET_ACTIVITY_DATABASE_LIST=t.GET_ACTIVITY_SELECTCASE_LIST=t.GET_ACTIVITY_CASEACTIVE_LIST=t.GET_ACTIVITY_living_LIST=t.GET_ACTIVITY_UNDERLINE_LIST=t.GET_ACTIVITY_CERTIFICATE_LIST=t.GET_ACTIVITY_HOMEWORK_LIST=t.GET_ACTIVITY_VOTE_LIST=t.GET_ACTIVITY_SURVEY_LIST=t.GET_ACTIVITY_EXAM_LIST=t.GET_ACTIVITY_COURSE_LIST=void 0;t.GET_ACTIVITY_COURSE_LIST="GET_ACTIVITY_COURSE_LIST";t.GET_ACTIVITY_EXAM_LIST="GET_ACTIVITY_EXAM_LIST";t.GET_ACTIVITY_SURVEY_LIST="GET_ACTIVITY_SURVEY_LIST";t.GET_ACTIVITY_VOTE_LIST="GET_ACTIVITY_VOTE_LIST";t.GET_ACTIVITY_HOMEWORK_LIST="GET_ACTIVITY_HOMEWORK_LIST";t.GET_ACTIVITY_CERTIFICATE_LIST="GET_ACTIVITY_CERTIFICATE_LIST";t.GET_ACTIVITY_UNDERLINE_LIST="GET_ACTIVITY_UNDERLINE_LIST";t.GET_ACTIVITY_living_LIST="GET_ACTIVITY_living_LIST";t.GET_ACTIVITY_CASEACTIVE_LIST="GET_ACTIVITY_CASEACTIVE_LIST";t.GET_ACTIVITY_SELECTCASE_LIST="GET_ACTIVITY_SELECTCASE_LIST";t.GET_ACTIVITY_DATABASE_LIST="GET_ACTIVITY_DATABASE_LIST";t.GET_TRAINING_PROJECT_LIST="GET_TRAINING_PROJECT_LIST"},1436:function(e,t,a){e.exports=a.p+"images/promotIcon.f4f1ebb8abb8f68f630d7450a1710c9f.png"},1437:function(e,t,a){"use strict";var n=a(0);a(44),a(3),a(248),a(103),a(143),a(107),a(20),a(34),a(23),a(905),a(148),a(151),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var i=n(a(535));a(61);var l=n(a(62)),s=n(a(1375)),o=n(a(29)),r=n(a(30)),u=n(a(59)),c=n(a(32)),d=n(a(33)),f=n(a(31)),p=n(a(2));a(575);var h=n(a(568)),g=n(a(1)),m=a(52);a(1315);var v=n(a(1376)),y=n(a(1377)),T=n(a(1378)),S=n(a(1379)),E=n(a(1380)),w=n(a(1381)),C=n(a(1382)),_=n(a(1383)),I=n(a(1438)),R=n(a(226));function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var P=h.default.TabPane;function k(e){console.log(e)}var L=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,f.default)(t);if(b()){var n=(0,f.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),t=a.call(this,e),(0,p.default)((0,u.default)(t),"selectedTrainingProjectRowKeys",(function(e,a){var n=[];if(0!==t.state.selectedTrainingProjectRowKeys.length)for(var i=0;i<a.length;i++)for(var l=0;l<t.state.selectedTrainingProjectRowKeys.length;l++)void 0!==a[i]&&a[i].id===t.state.selectedTrainingProjectRowKeys[l].id&&delete a[i];for(var s=t.state.selectedTrainingProjectRowKeys.concat(a),o=0;o<s.length;o++)for(var r=0;r<e.length;r++)void 0!==s[o]&&s[o].id===e[r]&&n.push(s[o]);t.setState({selectedTrainingProjectRowKeys:n})})),(0,p.default)((0,u.default)(t),"selectedUnderLineRowKeys",(function(e,a){var n=[];if(0!==t.state.selectedUnderLineRowKeys.length)for(var i=0;i<a.length;i++)for(var l=0;l<t.state.selectedUnderLineRowKeys.length;l++)void 0!==a[i]&&a[i].id===t.state.selectedUnderLineRowKeys[l].id&&delete a[i];for(var s=t.state.selectedUnderLineRowKeys.concat(a),o=0;o<s.length;o++)for(var r=0;r<e.length;r++)void 0!==s[o]&&s[o].id===e[r]&&n.push(s[o]);t.setState({selectedUnderLineRowKeys:n})})),(0,p.default)((0,u.default)(t),"selectedLiveRowKeys",(function(e,a){var n=[];if(0!==t.state.selectedLiveeRowKeys.length)for(var i=0;i<a.length;i++)for(var l=0;l<t.state.selectedLiveeRowKeys.length;l++)void 0!==a[i]&&a[i].id===t.state.selectedLiveeRowKeys[l].id&&delete a[i];for(var s=t.state.selectedLiveeRowKeys.concat(a),o=0;o<s.length;o++)for(var r=0;r<e.length;r++)void 0!==s[o]&&s[o].id===e[r]&&n.push(s[o]);t.setState({selectedLiveeRowKeys:n})})),t.state={value:1,selectedTrainingProjectRowKeys:[],selectedCourseRowKeys:[],selectedUnderLineRowKeys:[],selectedLiveeRowKeys:[],selectedSurveyRowKeys:[],selectedExamRowKeys:[],selectedVoteRowKeys:[],selectedHomeworkRowKeys:[],selectedCertificateRowKeys:[],SelectCaseactiveRowKeys:[],SelectcaseRowKeys:[],DataBaseRowKeys:[],selectedUrlRowKeys:e.activitylist.filter((function(e){return"外部链接"===e.typenaem}))||[],postingsRowKeys:[]},t.activitysave=t.activitysave.bind((0,u.default)(t)),t.selectedTrainingProjectRowKeys=t.selectedTrainingProjectRowKeys.bind((0,u.default)(t)),t.selectedCourseRowKeys=t.selectedCourseRowKeys.bind((0,u.default)(t)),t.selectedExamRowKeys=t.selectedExamRowKeys.bind((0,u.default)(t)),t.selectedSurveyRowKeys=t.selectedSurveyRowKeys.bind((0,u.default)(t)),t.selectedExamRowKeys=t.selectedExamRowKeys.bind((0,u.default)(t)),t.selectedVoteRowKeys=t.selectedVoteRowKeys.bind((0,u.default)(t)),t.selectedHomeworkRowKeys=t.selectedHomeworkRowKeys.bind((0,u.default)(t)),t.selectedCertificateRowKeys=t.selectedCertificateRowKeys.bind((0,u.default)(t)),t.selectedUrlRowKeys=t.selectedUrlRowKeys.bind((0,u.default)(t)),t}return(0,r.default)(n,[{key:"activitysave",value:function(){for(var e=this.state.selectedCourseRowKeys.concat(this.state.selectedUnderLineRowKeys).concat(this.state.selectedLiveeRowKeys).concat(this.state.selectedSurveyRowKeys).concat(this.state.selectedExamRowKeys).concat(this.state.selectedVoteRowKeys).concat(this.state.selectedHomeworkRowKeys).concat(this.state.selectedCertificateRowKeys).concat(this.state.selectedTrainingProjectRowKeys).concat(Array.from(new Set(this.state.selectedUrlRowKeys))).concat(Array.from(new Set(this.state.SelectCaseactiveRowKeys))).concat(Array.from(new Set(this.state.SelectcaseRowKeys))).concat(Array.from(new Set(this.state.DataBaseRowKeys))).concat(this.props.activitylist),t=e=(e=e.filter((function(e){return 7!==e.type})).concat(Array.from(new Set(this.state.selectedUrlRowKeys)))).filter((function(e){return"外部链接"!==e.typenaem})).concat(Array.from(new Set(this.state.selectedUrlRowKeys))),a=(0,s.default)(t).slice(0),n=0;n<a.length;n++)for(var i=n+1;i<e.length;i++)if(a[n].id===e[i].id&&7!==a[n].type){e.splice(i,1);break}console.log("activitysave-activitylist",e),e.length>5?l.default.error("关联活动不能超过5个"):this.props.activityListSave(e)}},{key:"selectedCourseRowKeys",value:function(e,t,a){var n=[];if(0!==this.state.selectedCourseRowKeys.length)for(var i=0;i<t.length;i++)for(var l=0;l<this.state.selectedCourseRowKeys.length;l++)void 0!==t[i]&&t[i].id===this.state.selectedCourseRowKeys[l].id&&delete t[i];for(var s=this.state.selectedCourseRowKeys.concat(t),o=0;o<s.length;o++)for(var r=0;r<e.length;r++)void 0!==s[o]&&s[o].id===e[r]&&n.push(s[o]);"Caseactive"===a?this.setState({SelectCaseactiveRowKeys:n}):"Selectcase"===a?this.setState({SelectcaseRowKeys:n}):"Database"===a?this.setState({DataBaseRowKeys:n}):"postings"===a?this.setState({postingsRowKeys:n}):this.setState({selectedCourseRowKeys:n})}},{key:"selectedExamRowKeys",value:function(e,t){var a=[];if(0!==this.state.selectedExamRowKeys.length)for(var n=0;n<t.length;n++)for(var i=0;i<this.state.selectedExamRowKeys.length;i++)void 0!==t[n]&&t[n].id===this.state.selectedExamRowKeys[i].id&&delete t[n];for(var l=this.state.selectedExamRowKeys.concat(t),s=0;s<l.length;s++)for(var o=0;o<e.length;o++)void 0!==l[s]&&l[s].id===e[o]&&a.push(l[s]);this.setState({selectedExamRowKeys:a})}},{key:"selectedSurveyRowKeys",value:function(e,t){var a=[];if(0!==this.state.selectedSurveyRowKeys.length)for(var n=0;n<t.length;n++)for(var i=0;i<this.state.selectedSurveyRowKeys.length;i++)void 0!==t[n]&&t[n].id===this.state.selectedSurveyRowKeys[i].id&&delete t[n];for(var l=this.state.selectedSurveyRowKeys.concat(t),s=0;s<l.length;s++)for(var o=0;o<e.length;o++)void 0!==l[s]&&l[s].id===e[o]&&a.push(l[s]);this.setState({selectedSurveyRowKeys:a})}},{key:"selectedVoteRowKeys",value:function(e,t){var a=[];if(0!==this.state.selectedVoteRowKeys.length)for(var n=0;n<t.length;n++)for(var i=0;i<this.state.selectedVoteRowKeys.length;i++)void 0!==t[n]&&t[n].id===this.state.selectedVoteRowKeys[i].id&&delete t[n];for(var l=this.state.selectedVoteRowKeys.concat(t),s=0;s<l.length;s++)for(var o=0;o<e.length;o++)void 0!==l[s]&&l[s].id===e[o]&&a.push(l[s]);this.setState({selectedVoteRowKeys:a})}},{key:"selectedHomeworkRowKeys",value:function(e,t){var a=[];if(0!==this.state.selectedHomeworkRowKeys.length)for(var n=0;n<t.length;n++)for(var i=0;i<this.state.selectedHomeworkRowKeys.length;i++)void 0!==t[n]&&t[n].id===this.state.selectedHomeworkRowKeys[i].id&&delete t[n];for(var l=this.state.selectedHomeworkRowKeys.concat(t),s=0;s<l.length;s++)for(var o=0;o<e.length;o++)void 0!==l[s]&&l[s].id===e[o]&&a.push(l[s]);this.setState({selectedHomeworkRowKeys:a})}},{key:"selectedCertificateRowKeys",value:function(e,t){var a=[];if(0!==this.state.selectedCertificateRowKeys.length)for(var n=0;n<t.length;n++)for(var i=0;i<this.state.selectedCertificateRowKeys.length;i++)void 0!==t[n]&&t[n].id===this.state.selectedCertificateRowKeys[i].id&&delete t[n];for(var l=this.state.selectedCertificateRowKeys.concat(t),s=0;s<l.length;s++)for(var o=0;o<e.length;o++)void 0!==l[s]&&l[s].id===e[o]&&a.push(l[s]);this.setState({selectedCertificateRowKeys:a})}},{key:"selectedUrlRowKeys",value:function(e){var t=this,a=e;this.setState({selectedUrlRowKeys:a},(function(){console.log("行数"),console.log(t.state.selectedUrlRowKeys)}))}},{key:"render",value:function(){return g.default.createElement("div",{style:{marginTop:"20px"}},g.default.createElement(R.default,{title:"关联活动"}),g.default.createElement(h.default,{defaultActiveKey:"学习项目",onChange:k},g.default.createElement(P,{tab:"学习项目",key:"学习项目"},g.default.createElement(I.default,{selectedTrainingProjectRowKeys:this.selectedTrainingProjectRowKeys,activitylist:this.props.activitylist})),g.default.createElement(P,{tab:"课程",key:"课程"},g.default.createElement(v.default,{selectedCourseRowKeys:this.selectedCourseRowKeys,activitylist:this.props.activitylist})),g.default.createElement(P,{tab:"线下课程",key:"线下课程"},g.default.createElement(w.default,{selectedCourseRowKeys:this.selectedUnderLineRowKeys,activitylist:this.props.activitylist})),g.default.createElement(P,{tab:"考试",key:"考试"},g.default.createElement(y.default,{selectedExamRowKeys:this.selectedExamRowKeys,activitylist:this.props.activitylist})),g.default.createElement(P,{tab:"调研",key:"调研"},g.default.createElement(T.default,{selectedSurveyRowKeys:this.selectedSurveyRowKeys,activitylist:this.props.activitylist})),g.default.createElement(P,{tab:"直播",key:"直播"},g.default.createElement(S.default,{selectedCourseRowKeys:this.selectedLiveRowKeys,activitylist:this.props.activitylist})),g.default.createElement(P,{tab:"作业",key:"作业"},g.default.createElement(E.default,{selectedHomeworkRowKeys:this.selectedHomeworkRowKeys,activitylist:this.props.activitylist})),g.default.createElement(P,{tab:"原创活动",key:"原创活动"},g.default.createElement(C.default,{selectedCourseRowKeys:this.selectedCourseRowKeys,activitylist:this.props.activitylist})),g.default.createElement(P,{tab:"精选作品",key:"精选作品"},g.default.createElement(_.default,{selectedCourseRowKeys:this.selectedCourseRowKeys,activitylist:this.props.activitylist}))),g.default.createElement("div",{style:{marginTop:24}},g.default.createElement(i.default,{type:"primary",onClick:this.activitysave},"确定")))}}]),n}(g.default.Component);var N=(0,m.connect)((function(e,t){return{}}),(function(e){return{}}))(L);t.default=N},1438:function(e,t,a){"use strict";var n=a(0);a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var i=n(a(558));a(549);var l=n(a(544)),s=n(a(29)),o=n(a(30)),r=n(a(59)),u=n(a(32)),c=n(a(33)),d=n(a(31));a(537);var f=n(a(536)),p=n(a(1)),h=a(52),g=(a(84),a(1315));function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=f.default.Search,y=[{title:"学习项目名称",dataIndex:"acname",key:"acname"},{title:"项目时间",dataIndex:"actime",key:"actime"}],T=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(m()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),(t=a.call(this,e)).state={title:"学习项目",key:"学习项目",loading:!1,value:"",page:1,pageSize:10,selectedRowKeys:[],selectedRows:[]},t.handlePageChange=t.handlePageChange.bind((0,r.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,r.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,r.default)(t)),t.handleSearch=t.handleSearch.bind((0,r.default)(t)),t.handleGetValue=t.handleGetValue.bind((0,r.default)(t)),t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.props.getTrainingProjectlist({status:1,pageNo:this.state.page,pageSize:this.state.pageSize})}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(0!==e.activitylist.length){for(var a=0;a<e.activitylist.length;a++)t.push(e.activitylist[a].id);this.setState({selectedRowKeys:t})}}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].name);this.setState({selectedRowKeys:e,selectedRows:t}),this.props.selectedTrainingProjectRowKeys(e,t)}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({page:e}),this.props.getTrainingProjectlist({pageNo:e,pageSize:t,name:this.state.value})}},{key:"handlePageSizeChange",value:function(e,t){var a=this.state.page;console.log(a,t),this.props.getTrainingProjectlist({pageNo:a,pageSize:t})}},{key:"handleSearch",value:function(){this.props.getTrainingProjectlist({status:1,pageNo:this.state.page,pageSize:this.state.pageSize,name:this.state.value})}},{key:"handleGetValue",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.props.trainingProjectList,t=this.state,a={selectedRowKeys:t.selectedRowKeys,selectedRows:t.selectedRows,onChange:this.onSelectChange};return p.default.createElement("div",null,p.default.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"20px"}},p.default.createElement("div",{style:{display:"inline-flex",width:"45%"}},p.default.createElement(v,{placeholder:"请输入项目名称",onSearch:this.handleSearch,onChange:this.handleGetValue,enterButton:!0})),p.default.createElement("div",{style:{marginTop:"20px"}},p.default.createElement(l.default,{rowSelection:a,columns:y,dataSource:e,components:this.components,pagination:!1}),p.default.createElement(i.default,{hideOnSinglePage:!0,className:"training-project-list-pagination",total:e&&0!=e.length?e[0].total:0,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40","50"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange}))))}}]),n}(p.default.Component),S=(0,h.connect)((function(e){return{trainingProjectList:e.forumManage.trainingprojectlist}}),(function(e){return{getTrainingProjectlist:function(t){return e((0,g.getTrainingProjectlist)(t))}}}))(T);t.default=S},1508:function(e,t,a){e.exports=a.p+"images/Upload.063b8e7db6e6ab1f6990419c4740ceaf.png"},1509:function(e,t,a){e.exports=a.p+"images/exam_success.b69e06d2e07c231a9d7fda22066b1226.png"},2154:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(3),a(5),a(101),a(40),a(51),a(20),a(34),a(35),a(23),a(234),a(53),a(228),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(99);var l=i(a(100));a(224);var s=i(a(225));a(556);var o=i(a(553));a(549);var r=i(a(544));a(140);var u=i(a(535));a(537);var c=i(a(536));a(61);var d=i(a(62)),f=i(a(29)),p=i(a(30)),h=i(a(59)),g=i(a(32)),m=i(a(33)),v=i(a(31)),y=i(a(2));a(554);var T=i(a(550)),S=n(a(1)),E=a(52),w=a(84),C=a(65),_=i(a(1322)),I=i(a(769)),R=i(a(2155)),b=a(1315),P=i(a(1431)),k=i(a(1433)),L=i(a(624)),N=i(a(1437)),A=i(a(1508)),x=i(a(226));function G(e){return function(){var t,a=(0,v.default)(e);if(D()){var n=(0,v.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,m.default)(this,t)}}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var V=T.default.Option,K=location.pathname.split("/")[1],M=location.pathname.split("/")[2],O=function(e){(0,g.default)(n,e);var t=G(n);function n(e){var a;(0,f.default)(this,n),a=t.call(this,e),(0,y.default)((0,h.default)(a),"handleChange",(function(e,t){var n=(0,h.default)(a),i=a.state.classifyData;if("title"==t)console.log("title",e.target.value),n.setState({title:e.target.value});else if("classify"==t){console.log("classify",e);var l,s;l=i[e].id,s=i[e].name,console.log("selectedPostingsClassifyId-name",l,s),n.setState({selectedPostingsClassifyId:l,selectedPostingsClassifyName:s})}else"range"==t&&(console.log("handleChange-range",e),n.setState({visibleRange:e.target.value}))})),(0,y.default)((0,h.default)(a),"getEditorHtml",(function(e){console.log("getEditorHtml-v",e),a.setState({postingsContent:e})})),(0,y.default)((0,h.default)(a),"uploadError",(function(e,t){if(d.default.destroy(),d.default.error("上传失败，请重新上传",2),"attachment"==t){var n=attachmentFiles.filter((function(t){return t.id==e.id}));if(1==n.length){n[0].uploadedStatus="fail",n[0].percent=100;var i=attachmentFiles.filter((function(t){return t.id!=e.id}));a.setState({attachmentFiles:i},(function(){_this.setState({refreshImageKey:(new Date).getTime()})}))}}})),(0,y.default)((0,h.default)(a),"preDeleteByType",(function(e,t,n,i){switch(t){case"attachment":a.setState({caseRemindVisible:!0,caseRemindKey:"",caseRemindType:t,currentAttachmentId:n})}})),(0,y.default)((0,h.default)(a),"remindConfirmDelete",(function(){switch(a.state.caseRemindType){case"attachment":a.handleRemove()}})),(0,y.default)((0,h.default)(a),"closeCaseRemind",(function(){"submit"==a.state.caseRemindType?(window.history.back(),a.setState({hasSubmit:!1})):a.setState({caseRemindVisible:!1})})),(0,y.default)((0,h.default)(a),"getViewData",(function(e){console.log("getViewData-data",e),a.setState({viewRangeData:e})})),(0,y.default)((0,h.default)(a),"closeSelectStudent",(function(){a.setState({selectStudentVisible:!1,viewRangeData:[]})})),(0,y.default)((0,h.default)(a),"activityListSave",(function(e){var t=(0,h.default)(a),n=a.state.relativeActivitiesData,i=[],l=0;n.length>0&&(l=n[n.length-1].no),e.forEach((function(e){console.log("activityListSave-type",t.getType(e.type)),l++;var a={};a.no=l,a.relationId=e.id,a.taskName=e.acname,a.type=t.getType(e.type),a.url=e.url,e.code&&(a.spareField=e.code),i.push(a),console.log("activityListSave-element-type",a)})),t.setState({relativeActivityVisible:!1,relativeActivitiesData:n.concat(i)})})),(0,y.default)((0,h.default)(a),"backToPostingsManagement",(function(){C.browserHistory.go(-1)})),(0,y.default)((0,h.default)(a),"uploadFileChange",(function(e){a.preFile(e.file,52428800,"attachment"),a.completeFile(e.file,"attachment")}));var i=location.pathname.split("/"),l=i.pop(),s=i.pop();return a.state={postingsId:s,mod:l,data:{},classifyData:[],title:"",selectedPostingsClassifyId:"",selectedPostingsClassifyName:"",postingsContent:"",visibleRange:0,uploadParam:{},refreshImageKey:"",attachmentFiles:[],caseRemindVisible:!1,caseRemindKey:"",caseRemindType:"",currentAttachmentId:"",relativeActivityVisible:!1,relativeActivitiesData:[],viewRangeData:[],randomNum:""},a}return(0,p.default)(n,[{key:"componentWillMount",value:function(){var e=this;this.props.getUploadParam({needTranscode:!0,type:2},(function(t){e.setState({uploadParam:JSON.parse(t)})}))}},{key:"componentDidMount",value:function(){var e=this,t={id:this.state.postingsId,terminalType:1};this.props.postingsDetail(t,(function(t){if(console.log("detail-didM-data",t),t){var a=[];t.postsAppendixVos.forEach((function(t){a.push({size:t.fileSize,fileSize:e.sizeFormat(t.fileSize),suffix:t.fileSuffer,fileName:t.name,ossUrl:t.url,id:t.id,type:t.type,uploadedStatus:"success",percent:100})}));var n=[],i=0;t.postsRelationVos.forEach((function(e){i++,e.no=i,e.spareField&&(e.code=e.spareField),n.push(e)})),e.setState({data:t,postingsContent:t.content,selectedPostingsClassifyId:t.postsClassifyId,selectedPostingsClassifyName:t.postClassifyName,attachmentFiles:a,relativeActivitiesData:n,title:t.title,visibleRange:t.visibleRange})}}));this.props.getPostingsManagerClassifyList({pageNo:1,pageSize:50},(function(t){console.log("didM-classifyList",t),t&&e.setState({classifyData:t.records.length>0?t.records:[]})}))}},{key:"renderUploadBtn",value:function(e){switch(e){case"attachment":return S.default.createElement(Y,null)}}},{key:"sizeFormat",value:function(e){if("string"==typeof e&&-1!=e.indexOf("B"))return e;var t=1048576,a=1024*t;return e<1024?e+"B":e<t?Math.round(100*e/1024)/100+"KB":e<a?Math.round(100*e/t)/100+"MB":Math.round(100*e/a)/100+"GB"}},{key:"preFile",value:function(e,t,a,n){if(e.size>t)return"attachment"==a||"content"==a?d.default.info("文件大小不可超过50M",2):"cover"==a&&d.default.info("请上传小于500K的文件",2),!1;if("attachment"==a){var i=this.state.attachmentFiles;if(0==i.filter((function(t){return t.id==e.id})).length){var l=e.name.split(".").length,s={id:e.id,fileName:e.name,ossUrl:n.host+"/"+n.dir+"/"+e.fileName,size:e.size,percent:0,suffix:"."+e.name.split(".")[l-1],type:e.name.split(".")[l-1],uploadedStatus:"uploading"};i.push(s),this.setState({attachmentFiles:i})}}return!0}},{key:"completeFile",value:function(e,t,a){var n=this.state.attachmentFiles,i=this;switch(t){case"cover":this.setState({caseCoverImage:a.host+"/"+a.dir+"/"+e.target_name},(function(){i.props.form.setFieldsValue({caseCover:i.state.caseCoverImage})}));break;case"content":this.setState({contentFile:{name:e.name,fileUrl:a.host+"/"+a.dir+"/"+e.target_name}},(function(){i.props.form.setFieldsValue({caseContent:i.state.contentFile.fileUrl})}));break;case"attachment":var l=n.filter((function(t){return t.id==e.id}));if(1==l.length){l[0].uploadedStatus="success",l[0].percent=100;var s=n.filter((function(t){return t.id!=e.id}));s.push(l[0]),this.setState({attachmentFiles:s},(function(){console.log(i.state.attachmentFiles),i.setState({refreshImageKey:(new Date).getTime()})}))}}}},{key:"attachmentProgress",value:function(e){var t=this.state.attachmentFiles,a=t.filter((function(t){return t.id==e.id}));if(1==a.length){a[0].uploadedStatus="uploading",a[0].percent=e.percent;var n=t.filter((function(t){return t.id!=e.id}));n.push(a[0]),this.setState({attachmentFiles:n})}}},{key:"handleRemove",value:function(){var e=this.state,t=e.attachmentFiles,a=e.currentAttachmentId,n=t.filter((function(e){return e.id!=a}));this.setState({attachmentFiles:n,caseRemindVisible:!1})}},{key:"selectStudent",value:function(){var e=this;if(1!=this.state.visibleRange)d.default.info("请选择指定用户可见");else{e.props.getUserGroup({type:"forum"},(function(t){if(console.log("getUserGroup-response",t),1e3==t.code){var a={postsId:e.state.postingsId};e.props.getVisbibleRange(a,(function(t){e.setState({selectStudentVisible:!0,viewRangeData:t&&t.map((function(e){return{id:e.accountId,name:e.accountName,type:e.accountType,fullName:e.accountFullName,workNum:e.workNum}})),randomNum:(new Date).getTime()})}))}}))}}},{key:"fileType",value:function(e){return"png"==e||"jpg"==e||"jpeg"==e||"gif"==e?2:"mp4"==e||"wmv"==e||"vob"==e||"mpg"==e||"mov"==e||"mkv"==e||"flv"==e||"3gp"==e||"f4v"==e||"rmvb"==e||"avi"==e?4:"mp3"==e||"wma"==e||"wav"==e||"ape"==e||"flac"==e||"ogg"==e||"aac"==e?3:"xls"==e||"xlsx"==e||"doc"==e||"docx"==e||"pdf"==e||"ppt"==e||"pptx"==e?1:"zip"==e?5:void 0}},{key:"showRelativeActivityModal",value:function(){this.state.relativeActivitiesData.length<5&&this.setState({relativeActivityVisible:!0})}},{key:"getType",value:function(e){return console.log("getType-type",e),0==e?2:15==e?1:10==e?3:1==e?4:2==e?5:3==e?6:5==e?7:11==e?8:12==e?9:e}},{key:"getTypeName",value:function(e){return 1==e?"培训项目":2==e?"课程":3==e?"线下课程":4==e?"考试":5==e?"调研":6==e?"直播":7==e?"作业":8==e?"原创活动":9==e?"精选作品":void 0}},{key:"acquireLogoFromContent",value:function(e){var t=[];if(t=e.split("<img src="),console.log("acquireLogoFromContent",t),t.length>1){var a=[];if(a=t[1].split("/>"),console.log("imgArr",a),a.length>1)return a[0].trim().replace(/\"/g,"")}return""}},{key:"savePostings",value:function(e){var t=this,a=this.state,n=a.title,i=a.selectedPostingsClassifyId,l=a.selectedPostingsClassifyName,s=a.postingsContent,o=a.visibleRange,r=a.attachmentFiles,u=a.postingsId,c=a.relativeActivitiesData,f=a.viewRangeData;if(console.log("title-selectedPostingsClassifyId-postingsContent-visibleRange-attachmentFiles",n,i,s,o,r),n&&n.length>0)if(n.length>50)d.default.warn("标题不得多于50字符");else if(i&&i.length>0)if(s&&s.length>0){var p=this.acquireLogoFromContent(s),h=[];r.forEach((function(e){h.push({fileSize:e.size,fileSuffer:e.suffix,name:e.fileName,url:e.ossUrl,type:t.fileType(e.type.toLowerCase())})}));var g=[];c.forEach((function(e){g.push({relationId:e.relationId,taskName:e.taskName,taskLogo:e.taskLogo&&e.taskLogo.length>0?e.taskLogo:e.url&&e.url.length>0?e.url:"",type:e.type,spareField:e.spareField})})),console.log("save-relativeActivitiesData",c);var m;m=f.map((function(e){return{accountFullName:e.fullName,accountName:e.name,accountId:e.id,accountType:e.type,workNum:e.workNum}})),console.log("postsAppendixVos",h);var v={id:u,title:n,postsClassifyId:i,postClassifyName:l,content:s,logo:p,postsAppendixVos:h,postsRelationVos:g||[],visibleRange:o,postsVisibleRangeVos:m,type:e,terminalType:1,canSend:!0};this.props.editPostings(v,(function(e){e&&t.props.history.push({pathname:"/".concat(K,"/").concat(M,"/index/tool/forum/posts")})}))}else d.default.error("请填写帖子内容");else d.default.error("请选择分类");else d.default.error("请输入帖子名称")}},{key:"deleteRelativeActivity",value:function(e){console.log("deleteRelativeActivity-item",e);var t=this.state.relativeActivitiesData;console.log("deleteRelativeActivity-relativeActivitiesData",t);var a=[],n=0;t.forEach((function(t){t.relationId!=e.relationId&&(n++,t.no=n,a.push(t))})),this.setState({relativeActivitiesData:a})}},{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"no",key:"no",align:"center"},{title:"活动类型",dataIndex:"type",key:"type",align:"center",render:function(t,a){return S.default.createElement("div",null,e.getTypeName(t))}},{title:"活动名称",dataIndex:"taskName",key:"taskName",align:"center"},{title:"操作",dataIndex:"action",key:"action",align:"center",render:function(t,a){return S.default.createElement("div",{onClick:function(){e.deleteRelativeActivity(a)}},S.default.createElement("a",null,"删除"))}}];return console.log(this.state.mod+"22222222222"),S.default.createElement(_.default,{inner:!0},S.default.createElement(x.default,{title:"帖子详情"}),S.default.createElement("div",{className:R.default.postingsDetailContainer},S.default.createElement("div",{className:R.default.newPostingsBody},S.default.createElement("div",{className:R.default.title},S.default.createElement("div",{className:R.default.newPostingsTitle},S.default.createElement("div",{className:R.default.newPostingsTitleLabel},S.default.createElement("span",{className:R.default.redStar},"*"),S.default.createElement("span",null,"帖子标题：")),S.default.createElement("div",{className:R.default.newPostingsTitleValue},S.default.createElement(c.default,{value:this.state.title,placeholder:"请输入帖子标题",onChange:function(t){e.handleChange(t,"title")},disabled:0!=this.state.mod})))),S.default.createElement("div",{className:R.default.classify},S.default.createElement("div",{className:R.default.newPostingsClassify},S.default.createElement("div",{className:R.default.newPostingsClassifyLabel},S.default.createElement("span",{className:R.default.redStar},"*"),S.default.createElement("span",null,"帖子分类：")),S.default.createElement("div",{className:R.default.newPostingsClassifyValue},S.default.createElement(T.default,{value:this.state.selectedPostingsClassifyName,style:{width:"300px"},onChange:function(t){e.handleChange(t,"classify")},disabled:0!=this.state.mod},this.state.classifyData.map((function(e,t){return S.default.createElement(V,{value:t,key:t},e.name)})))))),S.default.createElement("div",{className:R.default.postingsContent},S.default.createElement("div",{className:R.default.newPostingsContent},S.default.createElement("div",{className:R.default.newPostingsContentLabel},S.default.createElement("span",{className:R.default.redStar},"*"),S.default.createElement("span",null,"帖子内容：")),S.default.createElement("div",{className:R.default.newPostingsContentValue},1!=this.state.mod&&this.state.postingsContent.length>0&&S.default.createElement(I.default,{importContent:this.state.postingsContent,cbReceiver:this.getEditorHtml}),1==this.state.mod&&S.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.postingsContent}})))),S.default.createElement("div",{className:R.default.postingsAttachment},S.default.createElement("div",{className:R.default.newPostingsAttachment},S.default.createElement("div",{className:R.default.postingsAttachmentLabel},"添加附件："),S.default.createElement("div",{className:R.default.postingsAttachmentValue},S.default.createElement("div",{className:R.default.attachmentUpload},S.default.createElement("img",{src:A.default,alt:"",style:{width:"15px",height:"15px"}}),S.default.createElement("span",null,"上传文件")),S.default.createElement("div",{className:R.default.attachmentUploadTip},"（点击“+”添加图片、视频、音频、文档及压缩包，每个文件最大为50M,每次最多上传9个文件)"))),S.default.createElement("div",{style:{width:"800px"}},S.default.createElement(P.default,{key:this.state.refreshImageKey,type:0==this.state.mod?"upload":"look",fileList:this.state.attachmentFiles,deleteFile:function(t){return e.preDeleteByType("","attachment",t)}}),this.state.attachmentFiles.length<9?S.default.createElement(k.default,{fileList:this.state.attachmentFiles,beforeUpload:this.preFile.bind(this),success:this.completeFile.bind(this),fail:this.uploadError.bind(this)}):"")),S.default.createElement("div",{className:R.default.relativeActivities},S.default.createElement("div",{className:R.default.relativePlatformActivities},S.default.createElement("div",{className:R.default.relativeActivitiesLabel},"关联平台活动："),S.default.createElement("div",{className:R.default.relativeActivitiesValue},S.default.createElement(u.default,{type:"primary",className:R.default.targetPlatformActivities,style:5==this.state.relativeActivitiesData.length?{backgroundColor:"#c3c3c3"}:{},onClick:function(){e.showRelativeActivityModal()}},"指定平台活动"),S.default.createElement("div",{className:R.default.targetPlatformActivitiesTip},"（最多选择五个平台活动）"))),S.default.createElement("div",{className:R.default.targetPlatformActivitiesList},S.default.createElement(r.default,{dataSource:this.state.relativeActivitiesData,columns:t,pagination:!1}))),S.default.createElement("div",{className:R.default.postingsScope},S.default.createElement("div",{className:R.default.newPostingsScope},S.default.createElement("div",null,S.default.createElement("span",{className:R.default.redStar},"*"),S.default.createElement("span",null,"可见范围：")),S.default.createElement("div",null,S.default.createElement(o.default.Group,{value:this.state.visibleRange,onChange:function(t){e.handleChange(t,"range")},name:"scope",disabled:0!=this.state.mod},S.default.createElement(o.default,{value:0},"平台用户可见"),S.default.createElement(o.default,{value:1},"指定用户可见"))),S.default.createElement(u.default,{type:"primary",onClick:function(){e.selectStudent()}},"指定用户"))),0==this.state.mod?S.default.createElement("div",{className:R.default.publishPostings},S.default.createElement("div",{className:R.default.publishNewPostings},S.default.createElement(u.default,{className:R.default.saveNewPostings,onClick:function(){e.savePostings(0)}},"存草稿"),S.default.createElement(u.default,{type:"primary",className:R.default.publishingNewPostings,onClick:function(){e.savePostings(2)}},"发表"))):""),S.default.createElement(s.default,{className:R.default.postingsEditOrRemindModal,title:"帖子提醒",visible:this.state.caseRemindVisible,footer:null,onCancel:this.closeCaseRemind},S.default.createElement("div",{className:R.default.circleDiv,style:{textAlign:"center"}},"submit"==this.state.caseRemindType?S.default.createElement("img",{src:a(1509),className:"canceCollection",style:{width:48,height:48,marginRight:16},alt:""}):S.default.createElement("img",{src:a(1436),className:"canceCollection",style:{width:48,height:48,marginRight:16},alt:""}),this.state.caseRemindKey||"你确定删除该文档吗？","submit"==this.state.caseRemindType?S.default.createElement("div",{className:R.default.remindBtnContainer,style:{marginTop:34}},S.default.createElement("div",{className:R.default.remindBtnConfirm,onClick:this.closeCaseRemind},"我知道了")):S.default.createElement("div",{className:R.default.remindBtnContainer},S.default.createElement("div",{className:R.default.remindBtnConfirm,onClick:this.remindConfirmDelete},"确定"),S.default.createElement("div",{className:R.default.remindBtnCancel,onClick:this.closeCaseRemind},"取消")))),S.default.createElement(s.default,{width:1e3,footer:null,visible:this.state.relativeActivityVisible,onCancel:function(){e.setState({relativeActivityVisible:!1})},destroyOnClose:1},S.default.createElement(N.default,{activityListSave:this.activityListSave,activitylist:[]})),S.default.createElement(s.default,{width:1160,visible:this.state.selectStudentVisible,onCancel:function(){e.closeSelectStudent()},onOk:function(){e.setState({selectStudentVisible:!1})}},S.default.createElement(L.default,{key:this.state.randomNum,invisible:!0,getData:this.getViewData,initData:this.state.viewRangeData,types:"forum",groupTypes:"forum"}))))}}]),n}(S.Component),z=(0,E.connect)((function(e){return{}}),(function(e){return{getPostingsManagerClassifyList:(0,w.bindActionCreators)(b.getPostingsManagerClassifyList,e),getUploadParam:(0,w.bindActionCreators)(b.getUploadParam,e),postingsDetail:(0,w.bindActionCreators)(b.postingsDetail,e),editPostings:(0,w.bindActionCreators)(b.editPostings,e),getVisbibleRange:(0,w.bindActionCreators)(b.getVisbibleRange,e),getUserGroup:(0,w.bindActionCreators)(b.getUserGroup,e)}}))((0,C.withRouter)(O));t.default=z;var Y=function(e){(0,g.default)(a,e);var t=G(a);function a(){return(0,f.default)(this,a),t.apply(this,arguments)}return(0,p.default)(a,[{key:"render",value:function(){return S.default.createElement("div",{className:R.default.caseFileUploadBtn},S.default.createElement(l.default,{type:"plus",className:R.default.caseFileUploadBtnIcon}))}}]),a}(S.Component)},2155:function(e,t,a){e.exports={postingsDetailContainer:"postingsDetailContainer__29sTD",redStar:"redStar__NH4eG",postingsDetailBackContainer:"postingsDetailBackContainer__2aYDu",postingsDetailBackIcon:"postingsDetailBackIcon__3yqUm",postingsDetailBackLabel:"postingsDetailBackLabel__2xXzc",newPostingsLabel:"newPostingsLabel__2ewT1",divider:"divider__3uQcU",title:"title__3UvMy",newPostingsTitle:"newPostingsTitle__1UNKE",newPostingsTitleValue:"newPostingsTitleValue__2m9VS",classify:"classify__2ViJ6",newPostingsClassify:"newPostingsClassify__36hw2",newPostingsClassifyValue:"newPostingsClassifyValue__141on",postingsContent:"postingsContent__wGR5q",newPostingsContentValue:"newPostingsContentValue__3A7yD",postingsAttachment:"postingsAttachment__1qrn2",newPostingsAttachment:"newPostingsAttachment__2qt3u",postingsAttachmentValue:"postingsAttachmentValue__3N7du",attachmentUpload:"attachmentUpload__3anwx",relativeActivities:"relativeActivities__2wPKx",relativePlatformActivities:"relativePlatformActivities__1epx3",relativeActivitiesValue:"relativeActivitiesValue__OZm5O",targetPlatformActivities:"targetPlatformActivities__3CTVE",targetPlatformActivitiesList:"targetPlatformActivitiesList__CtNgi",postingsScope:"postingsScope__3-2hx",newPostingsScope:"newPostingsScope__1y1_2",targetUser:"targetUser__1yOOf",publishPostings:"publishPostings__2B84Z",publishNewPostings:"publishNewPostings__2Cbbm",saveNewPostings:"saveNewPostings__3x3nu",publishingNewPostings:"publishingNewPostings__3-0MV",caseFileUploadBtn:"caseFileUploadBtn__1DFYU",caseFileUploadBtnIcon:"caseFileUploadBtnIcon__2DMSu",postingsEditOrRemindModal:"postingsEditOrRemindModal__31Bfy",circleDiv:"circleDiv__1TFVr",remindBtnContainer:"remindBtnContainer__2iFsg",remindBtnCancel:"remindBtnCancel__39UNq",remindBtnConfirm:"remindBtnConfirm__3iAzg",anticon:"anticon__Z4-vb"}},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},544:function(e,t,a){e.exports=a(11)(846)},545:function(e,t,a){e.exports=a(11)(22)},550:function(e,t,a){e.exports=a(11)(94)},553:function(e,t,a){e.exports=a(11)(206)},558:function(e,t,a){e.exports=a(11)(251)},561:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.gupList=function(e){return function(t){t({type:o.GET_UPLOAD_LIST,data:e})}},t.gupfetch=function(e,t){var a,n=!1,i=!1;e?(n=e.needTranscode,i=e.type,a="".concat(u,"/upload/policy?needTranscode=").concat(n,"&type=").concat(i,"&date=").concat(new Date)):a="".concat(u,"/upload/policy?date=").concat(new Date);return function(e){return(0,l.default)({url:a}).then((function(a){if("1000"===a.code){var n=JSON.parse(a.data);e({type:o.GET_UPLOAD_PARAM,data:n}),t&&t()}return a}))}},t.upvideo=function(e,t,a){return function(a){return(0,l.default)({videoUpload:c,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:o.UP_INFO,data:JSON.parse(e.data)}),t&&t())}))}},t.videoInfo=function(e,t){return function(a){return(0,l.default)({videoPlay:d,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:o.VIDEO_INFO,data:e.data}),t&&t())}))}},t.UploadUtilFile=function(e){return{type:o.GET_FILE_NAME_ADDRESS,fileAddress:e}},t.clearUpload=function(){return function(e){e({type:o.CLEARUPLOAD})}};var l=i(a(78)),s=i(a(587)),o=n(a(231)),r=s.default.common,u=r.ossUrl,c=r.videoUpload,d=r.videoPlay},562:function(e,t,a){e.exports=a(11)(57)},565:function(e,t,a){e.exports=a(11)(170)},567:function(e,t,a){e.exports=a(11)(67)},568:function(e,t,a){e.exports=a(11)(333)},570:function(e,t,a){e.exports=a(11)(99)},586:function(e,t,a){},587:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),l={common:{ossUrl:"GET ".concat(i.default.ossUrl),videoUpload:"POST ".concat(i.default.ossUrl,"/video/upload"),videoPlay:"GET ".concat(i.default.ossUrl,"/video/play"),ossPolicy:"GET ".concat(i.default.ossUrl,"/upload/policy")}};t.default=l},588:function(e,t,a){e.exports=a(11)(91)},593:function(e,t,a){e.exports=a(11)(105)},596:function(e,t,a){e.exports=a(11)(827)},618:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.exportUsers=t.importUsers=t.getAuditorList=t.getUserList=t.getGroupList=t.getOrgList=void 0;var l=i(a(78)),s=i(a(635)),o=n(a(235)),r=s.default.linkUser,u=r.orgList,c=r.userList,d=r.auditorList,f=r.importUserUrl,p=r.exportUserUrl;t.getOrgList=function(e,t){return function(a){return(0,l.default)({url:u,data:{type:e}}).then((function(e){a({type:o.ORGLIST,data:e.data}),t&&t(e.data)}))}};t.getGroupList=function(e,t,a){return function(t){return(0,l.default)({url:c,data:{type:e,typ:"system"}}).then((function(e){a&&a(e.data)}))}};t.getUserList=function(e,t,a){return function(n){return(0,l.default)({url:c,data:{seachVal:e,type:t}}).then((function(e){1e3==e.code&&a&&a(e.data)}))}};t.getAuditorList=function(e,t){return function(a){return(0,l.default)({url:d,data:e}).then((function(e){t&&t(e.data)}))}};t.importUsers=function(e,t,a){return function(n){return(0,l.default)({url:"".concat(f,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}};t.exportUsers=function(e,t,a){return function(n){return(0,l.default)({url:"".concat(p,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}}},620:function(e,t,a){"use strict";var n=a(19),i=a(16),l=a(85),s=a(36),o=a(21),r=a(45),u=a(153),c=a(83),d=a(14),f=a(66),p=a(80).f,h=a(49).f,g=a(22).f,m=a(236).trim,v=i.Number,y=v.prototype,T="Number"==r(f(y)),S=function(e){var t,a,n,i,l,s,o,r,u=c(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=m(u)).charCodeAt(0))||45===t){if(88===(a=u.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+u}for(s=(l=u.slice(2)).length,o=0;o<s;o++)if((r=l.charCodeAt(o))<48||r>i)return NaN;return parseInt(l,n)}return+u};if(l("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var E,w=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof w&&(T?d((function(){y.valueOf.call(a)})):"Number"!=r(a))?u(new v(S(t)),a,w):S(t)},C=n?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;C.length>_;_++)o(v,E=C[_])&&!o(w,E)&&g(w,E,h(v,E));w.prototype=y,y.constructor=w,s(i,"Number",w)}},622:function(e,t,a){e.exports=a(11)(854)},624:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(3),a(5),a(51),a(20),a(34),a(35),a(23),a(229),a(6),a(569);var l=i(a(558));a(549);var s=i(a(544));a(146);var o=i(a(150));a(574);var r=i(a(565));a(578);var u=i(a(570));a(634);var c=i(a(596));a(99);var d=i(a(100));a(61);var f=i(a(62)),p=i(a(29)),h=i(a(30)),g=i(a(59)),m=i(a(32)),v=i(a(33)),y=i(a(31)),T=i(a(2));a(575);var S=i(a(568));a(537);var E=i(a(536)),w=n(a(1)),C=a(52),_=i(a(649)),I=i(a(141)),R=a(618);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var P=E.default.Search;var k=S.default.TabPane,L=function(e){(0,m.default)(n,e);var t,a=(t=n,function(){var e,a=(0,y.default)(t);if(b()){var n=(0,y.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,v.default)(this,e)});function n(){var e;(0,p.default)(this,n);for(var t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return e=a.call.apply(a,[this].concat(i)),(0,T.default)((0,g.default)(e),"search",(function(t,a){var n=e.state.tabKey,i=e.props,l=i.getGroupList,s=i.getUserList,o=i.getAuditorList,r=t.target?t.target.value:t;if(e.setState({value:r}),r){var u=(0,g.default)(e);switch(n){case"3":e.setState({groupLoading:!0}),l(r,(function(e){u.setState({searchGroup:e,groupLoading:!1})}));break;case"2":e.setState({userLoading:!0}),"on"==e.props.onlyUser?o({name:r,pageNo:1,pageSize:10},(function(e){console.log(e,"3444"),u.setState({searchUser:e.records,userLoading:!1,searchData:e})})):s(r,a,(function(e){u.setState({searchUser:e,userLoading:!1})}))}}else f.default.info("请输入关键词")})),(0,T.default)((0,g.default)(e),"closeMode",(function(){e.setState({vsb:!1})})),e.state={selectedItems:[],invisible:!0,departmentFlag:!0,show:!0,orgData:"",searchGroup:[],searchUser:[],tabKey:"2",orgLoading:!1,groupLoading:!1,userLoading:!1,userKeyword:"",groupKeyword:"",value:"",searchData:{records:[],pageRecords:""}},e.tabChange=e.tabChange.bind((0,g.default)(e)),e.removeSelected=e.removeSelected.bind((0,g.default)(e)),e.getSelected=e.getSelected.bind((0,g.default)(e)),e.isExist=e.isExist.bind((0,g.default)(e)),e.search=e.search.bind((0,g.default)(e)),e.onSearchChange=e.onSearchChange.bind((0,g.default)(e)),e}return(0,h.default)(n,[{key:"componentWillMount",value:function(){var e=this,t=this.props.groupTypes;this.props.getOrgList(t,(function(){e.setState({orgData:e.props.orgList})}))}},{key:"componentDidMount",value:function(){console.log("检测打印变量=this.props.initData ",this.props.initData),"research"===this.props.groupTypes&&this.props.initData&&this.props.initData.forEach((function(e){e.relationId&&(e.id=e.relationId)})),this.setState({selectedItems:this.props.initData?this.props.initData:[],invisible:void 0===this.props.invisible,departmentFlag:void 0===this.props.departmentFlag})}},{key:"onSearchChange",value:function(e,t){var a=e.target.value;a.length>50?f.default.info("输入长度不可超过50"):("user"==t?this.setState({userKeyword:a}):this.setState({groupKeyword:a}),"1"==this.state.tabKey&&(a.length>0?this.setState({show:!1}):this.setState({show:!0})))}},{key:"getSelected",value:function(e){var t=this;if(this.isExist(e.id)){var a=this;I.default.confirm(e.name+"已存在，是否删除？",(function(){a.removeSelected(e.id)}))}else{var n={name:e.name,type:this.state.tabKey,id:e.id,fullName:e.fullName,workNum:e.workNum},i=this.state.selectedItems;i.push(n),this.setState({selectedItems:i},(function(){t.props.getData(i),f.default.success("选择成功")}))}}},{key:"listSelect",value:function(e){var t=this;if(console.log("检测打印变量=item ",e),this.isExist(e.id)){var a=this;I.default.confirm(e.name+"已存在，是否删除？",(function(){a.removeSelected(e.id)}))}else{console.log("检测打印变量=this.state.tabKey ",this.state.tabKey);var n={name:e.name,type:this.state.tabKey,id:e.id,fullName:e.fullName,workNum:e.workNum},i=this.state.selectedItems;i.push(n),this.setState({selectedItems:i},(function(){t.props.getData(i),f.default.success("选择成功")}))}}},{key:"tabChange",value:function(e){console.log("key",e),this.setState({tabKey:e})}},{key:"isExist",value:function(e){return this.state.selectedItems.filter((function(t){return t.id==e})).length>0}},{key:"removeSelected",value:function(e){if(!this.props.disabled){var t=this.state.selectedItems.filter((function(t){return t.id!=e}));this.setState({selectedItems:t}),this.props.getData(t)}}},{key:"render",value:function(){var e=this,t=[{title:w.default.createElement("p",{style:{minWidth:"60px",marginTop:"0",marginBottom:"0"}},"用户名"),dataIndex:"name",key:"name",render:function(t,a){return w.default.createElement("a",{onClick:function(){return e.listSelect(a)},style:{whiteSpace:"nowrap"}},w.default.createElement(d.default,{type:"contacts"})," ",t)}},{title:w.default.createElement("p",{style:{minWidth:"50px",marginTop:"0",marginBottom:"0"}},"姓名"),dataIndex:"fullName",key:"fullName"},{title:w.default.createElement("p",{style:{minWidth:"50px",marginTop:"0",marginBottom:"0"}},"工号"),dataIndex:"workNum",key:"workNum"}],a=this.props.types;return"look"==this.props.type?w.default.createElement("div",null,w.default.createElement(r.default,null,w.default.createElement(u.default,{span:24,style:{paddingLeft:15,paddingRight:15}},w.default.createElement("h3",null,"已选择的部门、成员",this.state.departmentFlag?"或用户组":""),w.default.createElement("div",{style:{maxHeight:650,overflowY:"scroll"}},w.default.createElement(c.default,{itemLayout:"horizontal",split:!1,dataSource:this.state.selectedItems,renderItem:function(e){return w.default.createElement(c.default.Item,null,w.default.createElement(c.default.Item.Meta,{title:w.default.createElement("a",null,w.default.createElement(d.default,{type:"contacts"}),e.name)}))}}))))):w.default.createElement("div",null,w.default.createElement(r.default,null,w.default.createElement(u.default,{span:12,style:{paddingLeft:15,paddingRight:15}},w.default.createElement(S.default,{defaultActiveKey:this.state.tabKey,onChange:this.tabChange},w.default.createElement(k,{tab:"用户",key:"2"},w.default.createElement(P,{placeholder:"用户名/姓名/工号",style:{marginBottom:"15px"},max:50,onSearch:function(t){return e.search(t,a)},onPressEnter:function(t){return e.search(t,a)},value:this.state.userKeyword,onChange:function(t){return e.onSearchChange(t,"user")}}),w.default.createElement("div",{style:{height:500,overflowY:"auto"}},w.default.createElement(o.default,{spinning:this.state.userLoading}),w.default.createElement(s.default,{columns:t,dataSource:this.state.searchUser,rowKey:function(e){return e.id},pagination:!1}),"on"==this.props.onlyUser?w.default.createElement(l.default,{style:{textAlign:"right",marginRight:"15px",marginTop:"15px"},onChange:function(t){var a={name:e.state.value,pageNo:t,pageSize:10};e.props.getAuditorList(a,(function(t){console.log(t,"3444"),e.setState({searchUser:t.records,searchData:t,userLoading:!1})}))},showTotal:function(e){return"共计 ".concat(e," 条")},total:this.state.searchData.pageRecords}):"")),this.state.departmentFlag?w.default.createElement(k,{tab:"部门",key:"1",disabled:"on"==this.props.onlyUser},w.default.createElement(_.default,{data:this.state.orgData,getSelect:this.getSelected})):null,this.state.invisible?w.default.createElement(k,{tab:"用户组",key:"3",disabled:"on"==this.props.onlyUser},w.default.createElement(P,{placeholder:"搜索",max:50,onPressEnter:this.search,value:this.state.groupKeyword,onChange:function(t){return e.onSearchChange(t,"group")}}),w.default.createElement("div",{style:{height:500,overflowY:"auto"}},w.default.createElement(o.default,{spinning:this.state.groupLoading}),w.default.createElement(c.default,{itemLayout:"horizontal",split:!1,"data-locale":{emptyText:""},dataSource:this.state.searchGroup,renderItem:function(t){return w.default.createElement(c.default.Item,null,w.default.createElement(c.default.Item.Meta,{title:w.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.listSelect(t)}},w.default.createElement(d.default,{type:"contacts"}),t.name)}))}}))):null)),w.default.createElement(u.default,{span:12,style:{paddingLeft:15,paddingRight:15}},this.props.tabTitle?w.default.createElement("div",null,this.props.tabTitle):w.default.createElement("h3",null,"已选择的部门、成员",this.state.invisible?"或用户组":""),w.default.createElement("div",{style:{maxHeight:650,overflowY:"scroll"}},w.default.createElement(c.default,{itemLayout:"horizontal",split:!1,"data-locale":{emptyText:""},dataSource:this.state.selectedItems,renderItem:function(t){return w.default.createElement(c.default.Item,{actions:[w.default.createElement("a",{onClick:function(){return e.removeSelected(t.id)}},w.default.createElement(d.default,{type:"close"}))]},w.default.createElement(c.default.Item.Meta,{title:1==t.type?w.default.createElement("a",null,w.default.createElement(d.default,{type:"team"})," ",t.name):w.default.createElement("a",null,w.default.createElement("div",null,console.log(t,"item")),w.default.createElement(d.default,{type:"contacts"})," ",t.name," ",t.fullName," ",t.workNum)}))}})))))}}]),n}(w.Component);e.exports=(0,C.connect)((function(e,t){var a=e.linkUserReducer;return{fetching:a.fetching,orgList:a.orgList}}),(function(e){return{getOrgList:function(t,a){return e((0,R.getOrgList)(t,a))},getGroupList:function(t,a){return e((0,R.getGroupList)(t,a))},getUserList:function(t,a,n){return e((0,R.getUserList)(t,a,n))},getAuditorList:function(t,a){return e((0,R.getAuditorList)(t,a))}}}))(L)},635:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),l={linkUser:{orgList:"GET ".concat(i.default.systemManage,"/org/userGroup/list"),userList:"GET ".concat(i.default.systemManage,"/account/name/search"),auditorList:"GET ".concat(i.default.webManage,"/assignment/get/all/auditor"),importUserUrl:"POST ".concat(i.default.webManage,"/range/import"),exportUserUrl:"GET ".concat(i.default.webManage,"/range/export")}};t.default=l},644:function(e,t,a){e.exports=a(11)(233)},645:function(e,t,a){e.exports=a(11)(234)},646:function(e,t,a){e.exports=a(11)(235)},649:function(e,t,a){"use strict";var n=a(4),i=a(0);a(101),a(40),a(51),a(20),a(34),a(35),a(23),a(53),a(61);var l=i(a(62)),s=i(a(29)),o=i(a(30)),r=i(a(59)),u=i(a(32)),c=i(a(33)),d=i(a(31)),f=i(a(2));a(537);var p=i(a(536));a(719);var h=i(a(622)),g=n(a(1));function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=h.default.TreeNode,y=p.default.Search,T=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(m()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),t=a.call(this,e),(0,f.default)((0,r.default)(t),"onExpand",(function(e){t.setState({expandedKeys:e,autoExpandParent:!1})})),(0,f.default)((0,r.default)(t),"onChange",(function(e){var a=e.target.value;if(a.length>50)l.default.info("关键词长度最大为50");else{var n=(0,r.default)(t);a?t.setState({searchValue:a,expandedKeys:[]},(function(){for(var e=0;e<t.props.data.trees.length;e++)n.getExpandedKeys(t.props.data.trees[e].children,a,""+e)})):(t.setState({searchValue:a}),t.setDefaultExpandKeys())}})),t.state={expandedKeys:[],searchValue:"",autoExpandParent:!0},t.loop=t.loop.bind((0,r.default)(t)),t.onSelect=t.onSelect.bind((0,r.default)(t)),t.getExpandedKeys=t.getExpandedKeys.bind((0,r.default)(t)),t.renderTree=t.renderTree.bind((0,r.default)(t)),t.setDefaultExpandKeys=t.setDefaultExpandKeys.bind((0,r.default)(t)),t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.setDefaultExpandKeys()}},{key:"setDefaultExpandKeys",value:function(){var e=this.props.data.trees.map((function(e,t){return""+t}));this.setState({expandedKeys:e})}},{key:"onSelect",value:function(e,t){this.props.getSelect(t.node.props.dataRef)}},{key:"getExpandedKeys",value:function(e,t,a){var n=this,i=this.state.expandedKeys;e.map((function(e){if(e.name.indexOf(t)>=0){for(var l=a.split("&&&"),s=0;s<l.length;s++)-1==i.indexOf(l[s])&&l[s]&&i.push(l[s]);i.push(e.id)}if(e.children.length>0){var o="";o+=a?a+"&&&"+e.id:e.id,n.getExpandedKeys(e.children,t,o)}})),this.setState({expandedKeys:i})}},{key:"loop",value:function(e){var t=this,a=this.state.searchValue,n=[];return e.length>0&&(n=e.map((function(e){var n=e.name.indexOf(a),i=e.name.substr(0,n),l=e.name.substr(n+a.length),s=n>-1?g.default.createElement("span",null,i,g.default.createElement("span",{style:{color:"#f50"}},a),l):g.default.createElement("span",null,e.name);return g.default.createElement(v,{key:e.id,title:s,dataRef:e},t.loop(e.children))}))),n}},{key:"renderTree",value:function(e){var t=this,a=[],n=this.state.expandedKeys;return e&&(a=e.trees.map((function(e,a){return g.default.createElement(h.default,{onSelect:t.onSelect,onExpand:t.onExpand,expandedKeys:n,autoExpandParent:!1,key:a},g.default.createElement(v,{key:a,title:e.name,dataRef:e},t.loop(e.children)))}))),a}},{key:"render",value:function(){return g.default.createElement("div",null,g.default.createElement(y,{placeholder:"部门名称",max:50,style:{marginBottom:8},value:this.state.searchValue,onChange:this.onChange}),g.default.createElement("div",{style:{height:500,overflowY:"auto"}},this.renderTree(this.props.data)))}}]),n}(g.Component);e.exports=T},713:function(e,t,a){e.exports=a(11)(231)},714:function(e,t,a){e.exports=a(11)(305)},715:function(e,t,a){e.exports=a(11)(369)},716:function(e,t,a){e.exports=a(11)(370)},717:function(e,t,a){e.exports=a(11)(371)},718:function(e,t,a){e.exports=a(11)(61)},760:function(e,t,a){"use strict";var n=a(0);a(51),a(620),Object.defineProperty(t,"__esModule",{value:!0}),t.getCourselist=function(e){return function(t){return(0,i.default)({url:r,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,classifyId:i[s].classifyId,code:i[s].code,acname:i[s].name,typenaem:"课程",type:0,total:n.total,url:i[s].image});t({type:"GET_ACTIVITY_COURSE_LIST",data:l})}))}},t.getLiveList=function(e,t){return e.status=1,function(t){return(0,i.default)({url:u,data:e}).then((function(a){var n=a.data,i=n.records,s=[];if(null!==i)for(var o=0;o<i.length;o++)s.push({num:n.total-(e.pageNo-1)*e.pageSize-o,id:i[o].id,key:i[o].id,code:i[o].channel,startTime:l.default.fmtDateYYHHDD(i[o].startTime),endTime:l.default.fmtDateYYHHDD(i[o].endTime),acname:i[o].title,typenaem:"直播",type:3,total:n.total,url:i[o].logoImage});t({type:"GET_ACTIVITY_living_LIST",data:s})}))}},t.getUnderLineList=function(e,t){return e.status=0,function(t){return(0,i.default)({url:c,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,classifyId:i[s].classifyId,code:i[s].code,acname:i[s].name,typenaem:"线下课程",type:10,total:n.total,url:i[s].image});t({type:"GET_ACTIVITY_UNDERLINE_LIST",data:l})}))}},t.caseactivelist=function(e,t){return e.status=0,function(t){return(0,i.default)({url:d,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,classifyId:i[s].classifyId,time:i[s].createTime,acname:i[s].name,typenaem:"原创活动",type:11,total:n.total,url:i[s].logoUrl});t({type:"GET_ACTIVITY_CASEACTIVE_LIST",data:l})}))}},t.selectcaselist=function(e,t){return e.status=0,function(t){return(0,i.default)({url:f,data:e}).then((function(a){var n=a.data,i=n.records,s=[];if(null!==i)for(var o=0;o<i.length;o++)s.push({num:n.total-(e.pageNo-1)*e.pageSize-o,id:i[o].studentCaseId,key:i[o].studentCaseId,classifyId:i[o].classifyId,acname:i[o].title,authorUserName:i[o].authorUserName,authorName:i[o].authorName,orgName:i[o].orgName,auditTime:l.default.fmtDateYYHHDD(i[o].auditTime),score:i[o].score,typenaem:"精选作品",type:12,total:n.total,url:i[o].logoUrl});t({type:"GET_ACTIVITY_SELECTCASE_LIST",data:s})}))}},t.dataBaseAction=function(e,t){return e.enableTypeFilter=1,function(t){return(0,i.default)({url:p,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,typeName:i[s].typeName,codeName:i[s].codeName,acname:i[s].name,name:i[s].name,fileSizeName:i[s].fileSizeName,updateTime:i[s].updateTime,typenaem:"资料",type:13,total:n.total});t({type:"GET_ACTIVITY_DATABASE_LIST",data:l})}))}},t.getExamlist=function(e){return function(t){return(0,i.default)({url:h,data:e}).then((function(a){var n=a.data,i=n,s=[];if(null!==i)for(var o=0;o<i.length;o++)s.push({num:n.total-(e.pageNo-1)*e.pageSize-o,id:i[o].id,key:i[o].id,endTime:l.default.fmtDateYYHHDD(Number(i[o].endTime)),startTime:l.default.fmtDateYYHHDD(Number(i[o].startTime)),acname:i[o].name,upTime:l.default.fmtDateYYHHDD(Number(i[o].upTime)),typenaem:"考试",type:1,total:a.page.pageTotal,url:i[o].image});t({type:"GET_ACTIVITY_EXAM_LIST",data:s})}))}},t.getSurveylist=function(e){return function(t){return(0,i.default)({url:g,data:e}).then((function(a){var n=a.data,i=n.records,s=[];if(null!==i)for(var o=0;o<i.length;o++)s.push({num:n.total-(e.pageNo-1)*e.pageSize-o,id:i[o].id,key:i[o].id,startTime:l.default.fmtDateYYHHDD(i[o].startTime),endTime:l.default.fmtDateYYHHDD(i[o].endTime),acname:i[o].name,releaseTime:l.default.fmtDateYYHHDD(i[o].releaseTime),typenaem:"调研",type:2,total:n.total,url:i[o].image});t({type:"GET_ACTIVITY_SURVEY_LIST",data:s})}))}},t.getVotelist=function(e){return function(t){return(0,i.default)({url:m,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.pageTotal-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,time:i[s].voteTime,acname:i[s].voteName,releaseTime:i[s].createTime,typenaem:"投票",type:4,total:n.pageRecords});t({type:"GET_ACTIVITY_VOTE_LIST",data:l})}))}},t.getHomeworklist=function(e,t){return e.source=1,e.status=2,function(t){return(0,i.default)({url:v,data:e}).then((function(a){var n=a.data,i=[];if(null!==n)for(var l=0;l<n.length;l++)i.push({num:a.page.total-(e.pageNo-1)*e.pageSize-l,id:n[l].id,key:n[l].id,acname:n[l].name,traingProjectName:n[l].traingProjectName,typenaem:"作业",type:5,total:a.page.total,endDate:n[l].endDate,url:n[l].image});t({type:"GET_ACTIVITY_HOMEWORK_LIST",data:i})}))}},t.getCertificatelist=function(e){return e.status=1,function(t){return(0,i.default)({url:y,data:e}).then((function(a){var n=a.data,i=n.records,s=[];if(null!==i)for(var o=0;o<i.length;o++)s.push({num:n.total-(e.pageNo-1)*e.pageSize-o,id:i[o].id,key:i[o].id,acname:i[o].title,createTime:l.default.fmtDateYYHHDD(i[o].createTime),typenaem:"证书",type:6,total:n.total});t({type:"GET_ACTIVITY_CERTIFICATE_LIST",data:s})}))}},t.getPostingsList=function(e){return function(t){return(0,i.default)({url:T,data:e}).then((function(a){var n=a.data,i=n.records,l=[];if(null!==i)for(var s=0;s<i.length;s++)l.push({num:n.total-(e.pageNo-1)*e.pageSize-s,id:i[s].id,key:i[s].id,title:i[s].title,acname:i[s].title,authorName:i[s].authorName,updateTime:i[s].updateTime,typenaem:"帖子",type:14,total:n.total});t({type:"GET_ACTIVITY_POSTINGS_LIST",data:l})}))}},t.GET_ACTIVITY_POSTINGS_LIST=t.GET_ACTIVITY_DATABASE_LIST=t.GET_ACTIVITY_SELECTCASE_LIST=t.GET_ACTIVITY_CASEACTIVE_LIST=t.GET_ACTIVITY_living_LIST=t.GET_ACTIVITY_UNDERLINE_LIST=t.GET_ACTIVITY_CERTIFICATE_LIST=t.GET_ACTIVITY_HOMEWORK_LIST=t.GET_ACTIVITY_VOTE_LIST=t.GET_ACTIVITY_SURVEY_LIST=t.GET_ACTIVITY_EXAM_LIST=t.GET_ACTIVITY_COURSE_LIST=void 0;var i=n(a(78)),l=(a(233),n(a(1316))),s=n(a(1300)),o=(n(a(223)),s.default.activity),r=o.getCourselists,u=o.getLiveLists,c=o.getUnderLineLists,d=o.caseactivelists,f=o.selectcaselists,p=o.dataBaseActions,h=o.getExamlists,g=o.getSurveylists,m=o.getVotelists,v=o.getHomeworklists,y=o.getCertificatelists,T=o.getPostingsLists;t.GET_ACTIVITY_COURSE_LIST="GET_ACTIVITY_COURSE_LIST";t.GET_ACTIVITY_EXAM_LIST="GET_ACTIVITY_EXAM_LIST";t.GET_ACTIVITY_SURVEY_LIST="GET_ACTIVITY_SURVEY_LIST";t.GET_ACTIVITY_VOTE_LIST="GET_ACTIVITY_VOTE_LIST";t.GET_ACTIVITY_HOMEWORK_LIST="GET_ACTIVITY_HOMEWORK_LIST";t.GET_ACTIVITY_CERTIFICATE_LIST="GET_ACTIVITY_CERTIFICATE_LIST";t.GET_ACTIVITY_UNDERLINE_LIST="GET_ACTIVITY_UNDERLINE_LIST";t.GET_ACTIVITY_living_LIST="GET_ACTIVITY_living_LIST";t.GET_ACTIVITY_CASEACTIVE_LIST="GET_ACTIVITY_CASEACTIVE_LIST";t.GET_ACTIVITY_SELECTCASE_LIST="GET_ACTIVITY_SELECTCASE_LIST";t.GET_ACTIVITY_DATABASE_LIST="GET_ACTIVITY_DATABASE_LIST";t.GET_ACTIVITY_POSTINGS_LIST="GET_ACTIVITY_POSTINGS_LIST"},769:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(101),a(51),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(a(29)),s=i(a(30)),o=i(a(59)),r=i(a(32)),u=i(a(33)),c=i(a(31)),d=i(a(2)),f=n(a(1)),p=i(a(811));a(821);var h=i(a(770)),g=a(52),m=a(561);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,r.default)(n,e);var t,a=(t=n,function(){var e,a=(0,c.default)(t);if(v()){var n=(0,c.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,u.default)(this,e)});function n(){var e;return(0,l.default)(this,n),e=a.apply(this,arguments),(0,d.default)((0,o.default)(e),"submitContent",(function(){e.state.editorState.toHTML()})),(0,d.default)((0,o.default)(e),"handleEditorChange",(function(t){var a=t.toHTML();e.setState({editorState:t,html:a}),e.props.cbReceiver(a)})),(0,d.default)((0,o.default)(e),"blockExportFn",(function(e,t){var a=e.getBlockBefore(t.key);if("unstyled"===t.type&&a&&"atomic"===a.getType())return{start:"",end:""}})),e.state={editorState:"",defaultValue:""},e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.importContent;if(e)return{defaultValue:p.default.createEditorState(e),importContent:e};this.props.gupfetch()}},{key:"render",value:function(){var e=this,t=(this.props.uploadParam,this.state),a=(t.editorState,t.defaultValue),n=[],i=navigator.userAgent.toLowerCase(),l=/macintosh|mac os x/i.test(navigator.userAgent);(i.indexOf("win32")>=0||i.indexOf("wow32")>=0||i.indexOf("win64")>=0||i.indexOf("wow64")>=0)&&(n=[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:'tahoma, arial, "Hiragino Sans GB", 宋体, sans-serif'},{name:"黑体",family:"SimHei, 黑体"},{name:"宋体",family:"SimSun, 宋体"},{name:"仿宋",family:"FangSong, 仿宋"},{name:"新宋体",family:"NSimSun, 新宋体"},{name:"楷体",family:"KaiTi, 楷体, Helvetica, sans-serif"},{name:"微软雅黑",family:"微软雅黑, Microsoft YaHei , Helvetica, sans-serif"},{name:"微软正黑体",family:"微软正黑体, Microsoft JhengHei , Helvetica, sans-serif"}]),l&&(n=[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:'tahoma, arial, "Hiragino Sans GB", 宋体, sans-serif'},{name:"华文黑体",family:"STHeiti, 华文黑体"},{name:"华文宋体",family:"STSong, 华文宋体"},{name:"华文仿宋",family:"STFangsong, 华文仿宋"},{name:"华文楷体",family:"STKaiti, 华文楷体"},{name:"冬青黑体简",family:"Hiragino Sans GB, 冬青黑体简"},{name:"兰亭黑",family:"Lantinghei SC, 兰亭黑"},{name:"宋体",family:"Songti SC, 宋体"},{name:"娃娃体",family:"Wawati SC, 娃娃体"}]);return f.default.createElement(p.default,{imageResizable:!0,converts:{blockExportFn:function(e,t){}},forceNewLine:!1,media:{uploadFn:function(t){var a=e.props.uploadParam,n=a.host,i=new XMLHttpRequest,l=new FormData,s=(new Date).getTime(),o="".concat(t.id+s,".").concat(t.file.name.split(".")[t.file.name.split(".").length-1]);l.append("name",t.file.name),l.append("Filename","".concat(a.dir,"/").concat(o)),l.append("key","".concat(a.dir,"/").concat(o)),l.append("policy",a.policy),l.append("OSSAccessKeyId",a.accessid),l.append("success_action_status","200"),l.append("signature",a.signature),l.append("file",t.file),i.open("POST",n,!0),i.send(l);var r=function(e){t.error({msg:"unable to upload."})};i.addEventListener("load",(function(e){t.success({url:"".concat(a.host,"/").concat(a.dir,"/").concat(o),meta:{id:"1",title:"1",alt:"image"}})}),!1),i.addEventListener("error",r,!1),i.addEventListener("failed ",r,!1)}},className:h.default.edit,defaultValue:a,fontFamilies:n,fontSizes:[12,14,16,18,20,24,28,30,32,36,40,48,56,64,72,96,120,144],controls:["undo","redo","separator","font-size","font-family","line-height","letter-spacing","separator","text-color","bold","italic","underline","strike-through","separator","superscript","subscript","remove-styles","separator","text-indent","text-align","separator","headings","list-ul","list-ol","blockquote","code","separator","link","separator","hr","separator","media","separator","clear"],onChange:this.handleEditorChange,onSave:this.submitContent})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.importContent;return a!==t.importContent?{defaultValue:p.default.createEditorState(a),importContent:a}:null}}]),n}(f.PureComponent);var T=(0,g.connect)((function(e,t){return{uploadParam:e.uploadParam.param}}),(function(e){return{gupfetch:function(){return e((0,m.gupfetch)())}}}))(y);t.default=T},770:function(e,t,a){},812:function(e,t,a){e.exports=a(11)(866)},813:function(e,t,a){e.exports=a(11)(542)},814:function(e,t,a){e.exports=a(11)(368)},815:function(e,t,a){e.exports=a(11)(870)},816:function(e,t,a){e.exports=a(11)(871)},817:function(e,t,a){e.exports=a(11)(872)},818:function(e,t,a){e.exports=a(11)(876)},819:function(e,t,a){e.exports=a(11)(881)},820:function(e,t,a){e.exports=a(11)(884)},905:function(e,t,a){"use strict";var n=a(245),i=a(246);e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)}}]);