(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{1006:function(e,t,a){"use strict";a.r(t);a(26),a(1289),a(575),a(574),a(578)},1007:function(e,t,a){e.exports=a(11)(809)},1289:function(e,t,a){},1455:function(e,t,a){"use strict";var n=a(4),r=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.activeAccountNumber=function(){var e="".concat(i,"/manage/dashboard/activeAccount");return function(t){return(0,c.default)({url:e}).then((function(e){t({type:u.ACTIVE_ACCOUNT,activeAccount:e})}))}},t.courseTimeNumber=function(e,t){var a="".concat(i,"/manage/dashboard/courseTime");return function(n){return(0,c.default)({url:a,data:e}).then((function(e){"1000"==e.code&&t&&t(e),n({type:u.COURSE_TIME,courseTime:e})}))}},t.courseFinishNumber=function(e,t){var a="".concat(i,"/manage/dashboard/courseFinish");return function(n){return(0,c.default)({url:a,data:e}).then((function(e){"1000"==e.code&&t&&t(e),n({type:u.COURSE_FINISH,courseFinish:e})}))}},t.tpFinishNumber=function(e,t){var a="".concat(i,"/manage/dashboard/tpFinish");return function(n){return(0,c.default)({url:a,data:e}).then((function(e){"1000"==e.code&&t&&t(e),n({type:u.TP_FINISH,tpFinish:e})}))}},t.accountToMonthNumber=function(e,t){var a="".concat(i,"/manage/dashboard/accountToMonth");return function(n){return(0,c.default)({url:a,data:e}).then((function(e){"1000"==e.code&&t&&t(e),n({type:u.ACCOUNT_TO_MONTH,accountToMonth:e})}))}},t.accountToWeekNumber=function(e,t){var a="".concat(i,"/manage/dashboard/accountToWeek");return function(n){return(0,c.default)({url:a,data:e}).then((function(e){"1000"==e.code&&t&&t(e),n({type:u.ACCOUNT_TO_WEEK,accountToWeek:e})}))}},t.accountToYesterdayNumber=function(e,t){var a="".concat(i,"/manage/dashboard/accountYesterday");return function(n){return(0,c.default)({url:a,data:e}).then((function(e){"1000"==e.code&&t&&t(e),n({type:u.ACCOUNT_TO_YESTERDAY,accountToYesterday:e})}))}},t.accountReadyTaskNumber=function(e,t){var a="".concat(i,"/manage/dashboard/accountReadyTask");return function(n){return(0,c.default)({url:a,data:e}).then((function(e){"1000"==e.code&&t&&t(e),n({type:u.ACCOUNT_READY_TASK,accountReadyTask:e})}))}},t.usedFunctionsNumber=function(e,t){var a="".concat(i,"/manage/dashboard/usedFunctions");return function(n){return(0,c.default)({url:a,data:e}).then((function(e){"1000"==e.code&&t&&t(e),n({type:u.USED_FUNCTIONS,usedFunctions:e})}))}},t.logoSiteNumber=function(e,t){var a="".concat(i,"/manage/site/get");return function(n){return(0,c.default)({url:a,data:e}).then((function(e){"1000"==e.code&&t&&t(e),n({type:u.LOGO_SITE,logoSite:e})}))}};var c=r(a(78)),o=r(a(1456)),u=n(a(271)),i=o.default.common.userUrl},1456:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),c={common:{userUrl:"GET ".concat(r.default.base,"/system")}};t.default=c},2226:function(e,t,a){"use strict";var n=a(4),r=a(0);a(20),a(34),a(35),a(23),a(82),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var c=r(a(558));a(549);var o=r(a(544));a(1006);var u=r(a(1007));a(61);var i=r(a(62)),l=r(a(29)),d=r(a(30)),s=r(a(59)),f=r(a(32)),m=r(a(33)),p=r(a(31)),h=r(a(2)),g=n(a(1)),v=r(a(1586)),y=r(a(141)),S=r(a(2228)),E=a(52),T=(a(84),r(a(223))),N=a(1332);a(1455);function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var R=function(e){(0,f.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(I()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;(0,l.default)(this,n),t=a.call(this,e),(0,h.default)((0,s.default)(t),"searchRecords",(function(e){var a=t.state,n=a.pageSize,r=a.mode;t.setState({searchKey:e},(function(){t.getRecordList(r,1,n,e)}))})),(0,h.default)((0,s.default)(t),"searchSpecial",(function(e){var a=t.state,n=a.pageSize,r=a.searchKey;t.setState({mode:e},(function(){t.getRecordList(e,1,n,r)}))})),(0,h.default)((0,s.default)(t),"getRecordList",(function(e,a,n,r){t.props.getPracticeLogListData({modes:e,pageNo:a,pageSize:n,practiceId:t.state.practiceId,search:r},(function(){t.setState({recordList:t.props.recordList,total:t.props.recordTotal})}))})),(0,h.default)((0,s.default)(t),"openDetail",(function(e){var a=t.state,n=a.mode,r=a.searchKey,c=a.practiceId;t.props.history.push({pathname:y.default.getRouterBefore()+"/index/tool/smartpractice/records/detail/".concat(e.id),state:{mode:n,searchKey:r,id:e.id,practiceId:c}})})),(0,h.default)((0,s.default)(t),"exportRecords",(function(){var e=t.state,a=e.current,n=e.pageSize,r=e.searchKey,c=e.mode,o=e.practiceId;t.props.downloadPraticeLogData({modes:c,pageNo:a,pageSize:n,practiceId:o,search:r},(function(e){console.log(e),"1000"===e.code?i.default.success("导出成功：任务编号"+e.data):i.default.error("导出失败")}))})),(0,h.default)((0,s.default)(t),"changeSearchKey",(function(e){t.setState({searchKey:e})})),(0,h.default)((0,s.default)(t),"changeSearchMode",(function(e){t.setState({mode:e})})),(0,h.default)((0,s.default)(t),"showTotal",(function(e){return"共计 ".concat(e," 条")})),(0,h.default)((0,s.default)(t),"pageChange",(function(e,a){var n=t.state,r=n.mode,c=n.searchKey;t.setState({current:e,pageSize:a},(function(){t.getRecordList(r,e,a,c)}))})),(0,h.default)((0,s.default)(t),"handlePageSizeChange",(function(e,a){var n=t.state,r=n.mode,c=n.searchKey;t.setState({pageSize:a,current:e},(function(){t.getRecordList(r,e,a,c)}))}));var r=t.props.match.params.id;return t.state={practiceId:r,recordList:[],logBaseInfo:null,current:1,total:0,pageSize:10,mode:[],searchKey:""},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=(t.current,t.pageSize),n=t.searchKey,r=t.mode,c=t.practiceId;this.props.getPracticeHeadInfoData({practiceId:c},(function(){e.setState({logBaseInfo:e.props.logBaseInfo})})),this.getRecordList(r,1,a,n)}},{key:"render",value:function(){var e=this,t=this.state,a=t.recordList,n=t.total,r=t.logBaseInfo,i=[{title:"用户名",dataIndex:"accountName",key:"accountName"},{title:"姓名",dataIndex:"accountFullName",key:"accountFullName"},{title:"部门",dataIndex:"orgName",key:"orgName"},{title:"陪练模式",dataIndex:"mode",key:"mode"},{title:"完成时间",dataIndex:"endAt",key:"endAt",render:function(e){return g.default.createElement("span",null,(0,T.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"总得分",dataIndex:"totalScore",key:"totalScore"},{title:"操作",key:"options",dataIndex:"options",render:function(t,a){return g.default.createElement("a",{onClick:function(){return e.openDetail(a)}},"查看详情")}}];return g.default.createElement("div",null,g.default.createElement(v.default,{title:"话术训练",searchRecords:this.searchRecords,changeSearchKey:this.changeSearchKey,exportRecords:this.exportRecords,changeSearchMode:this.changeSearchMode,type:"recordList",handleSearch:this.searchSpecial}),g.default.createElement("div",{className:S.default.practiceRecordContainer},g.default.createElement("div",{className:S.default.title},r&&g.default.createElement(u.default,{type:"inner",title:r.practiceName},g.default.createElement("div",{className:S.default.titleContent},g.default.createElement("div",{className:S.default.contentLeft},g.default.createElement("div",null,g.default.createElement("span",null,"训练有效时间："),g.default.createElement("span",null,r.practiceStartAt?(0,T.default)(r.practiceStartAt).format("YYYY-MM-DD HH:mm:ss")+"--"+(0,T.default)(r.practiceEndAt).format("YYYY-MM-DD HH:mm:ss"):"--")),g.default.createElement("div",null,g.default.createElement("span",null,"参与训练人次："),g.default.createElement("span",null,r.practiceTimesNumber)),g.default.createElement("div",null,g.default.createElement("span",null,"参与训练人数："),g.default.createElement("span",null,r.practicePeopleNumber))),g.default.createElement("div",{className:S.default.contentLine}),g.default.createElement("div",{className:S.default.contentRight},g.default.createElement("div",null,g.default.createElement("span",null,"考核有效时间："),g.default.createElement("span",null,r.examStartAt?(0,T.default)(r.examStartAt).format("YYYY-MM-DD HH:mm:ss")+"--"+(0,T.default)(r.examEndAt).format("YYYY-MM-DD HH:mm:ss"):"--")),g.default.createElement("div",null,g.default.createElement("span",null,"参与考核人次："),g.default.createElement("span",null,r.examTimesNumber)),g.default.createElement("div",null,g.default.createElement("span",null,"参与考核人数："),g.default.createElement("span",null,r.examPeopleNumber)))))),g.default.createElement("div",null,g.default.createElement(o.default,{columns:i,dataSource:a,rowKey:function(e){return e.id},pagination:!1}),g.default.createElement(c.default,{style:{textAlign:"right",marginTop:"10px",marginRight:"40px",marginBottom:"20px"},showQuickJumper:!0,defaultCurrent:1,total:n,showTotal:this.showTotal,onChange:this.pageChange,showSizeChanger:!0,pageSizeOptions:["10","20","30"],onShowSizeChange:this.handlePageSizeChange,defaultPageSize:10,current:this.state.current}))))}}]),n}(g.Component);var _=(0,E.connect)((function(e){return{recordList:e.smartPractice.recordList,recordTotal:e.smartPractice.recordTotal,logBaseInfo:e.smartPractice.logBaseInfo}}),(function(e){return{getPracticeLogListData:function(t,a){return e((0,N.getPracticeLogListData)(t,a))},getPracticeHeadInfoData:function(t,a){return e((0,N.getPracticeHeadInfoData)(t,a))},downloadPraticeLogData:function(t,a){return e((0,N.downloadPraticeLogData)(t,a))}}}))(R);t.default=_},2228:function(e,t,a){e.exports={practiceRecordContainer:"practiceRecordContainer__3ojG8",title:"title__1rUX5",titleContent:"titleContent__29e6x",contentLeft:"contentLeft__1vJj1",contentRight:"contentRight__1S-Ae",contentLine:"contentLine__eu9g1"}},544:function(e,t,a){e.exports=a(11)(846)},558:function(e,t,a){e.exports=a(11)(251)},574:function(e,t,a){"use strict";a.r(t);a(26),a(584)},575:function(e,t,a){"use strict";a.r(t);a(26),a(623)},578:function(e,t,a){"use strict";a.r(t);a(26),a(584)},623:function(e,t,a){}}]);