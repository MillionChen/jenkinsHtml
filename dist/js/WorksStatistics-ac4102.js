(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{1005:function(e,t,a){e.exports={user_head:"user_head__wRk59",serch_time:"serch_time__YBEeX",seach_type:"seach_type__1MtSU",duser:"duser__2x7xU",seachresult:"seachresult__2wbZZ",dinput:"dinput__17fWR",question:"question__2I041",survey_list_pagination:"survey_list_pagination__30Wnf",survey_list_paginations:"survey_list_paginations__i2z6D",time_border:"time_border__1-Nqh",online_list_pagination:"online_list_pagination__2qnCe",row_style:"row_style__vsJJ0","ant-input-affix-wrapper":"ant-input-affix-wrapper__RA9-1",exam_table:"exam_table__3sYYq",integral_box:"integral_box__172bC"}},2316:function(e,t,a){"use strict";var n=a(4),r=a(0);a(107),a(620),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(549);var u=r(a(544));a(564);var i=r(a(563));a(140);var o=r(a(535));a(537);var s=r(a(536));a(61);var l=r(a(62)),c=r(a(29)),d=r(a(30)),f=r(a(59)),g=r(a(32)),p=r(a(33)),h=r(a(31)),m=r(a(2));a(592);var N=r(a(566));a(575);var S=r(a(568)),y=n(a(1)),b=r(a(223)),v=r(a(1005)),k=n(a(2317)),w=a(52),_=r(a(226));function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){(0,m.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Y=S.default.TabPane,z=N.default.RangePicker,I=(new Date).getTime(),C=(0,b.default)(I).format("YYYY-MM-DD"),M=C.split("-").length,L=(0,b.default)(I).format("YYYY-MM")+"-01";if("01"===C.split("-")[M-1]){var O=(0,b.default)(I).format("YYYY-MM"),G=Number(O.split("-")[1]);G=G>10?String(G-1):"0"+String(G-1),L=(0,b.default)(I).format("YYYY")+"-"+G+"-01"}var T=(0,b.default)(I).endOf("day").subtract(1,"days").format("YYYY-MM-DD"),P=function(e){(0,g.default)(n,e);var t,a=(t=n,function(){var e,a=(0,h.default)(t);if(E()){var n=(0,h.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,p.default)(this,e)});function n(e){var t;(0,c.default)(this,n),t=a.call(this,e),(0,m.default)((0,f.default)(t),"disabledDate",(function(e){return e&&e>(0,b.default)().endOf("day").subtract(1,"days")})),(0,m.default)((0,f.default)(t),"range",(function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a})),(0,m.default)((0,f.default)(t),"disabledRangeTime",(function(e,a){return"start"===a?{disabledHours:function(){return t.range(0,60).splice(4,20)},disabledMinutes:function(){return t.range(30,60)},disabledSeconds:function(){return[55,56]}}:{disabledHours:function(){return t.range(0,60).splice(20,4)},disabledMinutes:function(){return t.range(0,31)},disabledSeconds:function(){return[55,56]}}})),(0,m.default)((0,f.default)(t),"onValueChange1",(function(e){t.setState({value1:e.target.value},(function(){console.log("1111",t.state.value1)}))})),(0,m.default)((0,f.default)(t),"onValueChange2",(function(e){t.setState({value2:e.target.value},(function(){console.log("2222",t.state.value2)}))})),(0,m.default)((0,f.default)(t),"onValueChange3",(function(e){t.setState({value3:e.target.value},(function(){console.log("3333",t.state.value3)}))})),(0,m.default)((0,f.default)(t),"onHandleSearch1",(function(){t.setState({loading:!0,pageNo1:1},(function(){t.accountGroup("search")}))})),(0,m.default)((0,f.default)(t),"onHandleSearch2",(function(){t.setState({loading:!0,pageNo2:1},(function(){t.orgGroup("search")}))})),(0,m.default)((0,f.default)(t),"onHandleSearch3",(function(){t.setState({loading:!0,pageNo3:1},(function(){t.trainingGroup("search")}))}));var r=(0,b.default)(I).format("YYYY-MM")+"-01",u=(0,b.default)(I).format("YYYY-MM-DD");return t.state={userName:"",orgNameLike:"",key:1,pageNo:1,pageSize:10,startDate:r,endDate:u,timeDataArr:"",value:"",value1:"",value2:"",value3:"",visible:!1,visible1:!1,visible2:!1,dataSource1:[],dataSource2:[],dataSource3:[],pageNo1:"1",pageNo2:"1",pageNo3:"1",pageSize1:"10",pageSize2:"10",pageSize3:"10",current1:"",current2:"",current3:"",total1:"",total2:"",total3:"",loading:!1,size:"day"},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.accountGroup(),this.orgGroup(),this.trainingGroup()}},{key:"accountGroup",value:function(e,t,a){var n=this,r={pageNo:"search"===a?1:this.state.pageNo1,pageSize:this.state.pageSize1,kwd:this.state.value1};this.props.getWorksUserList(r,(function(e){"1000"===e.code?n.setState({dataSource1:e.data.records,current1:e.page.pageNo,total1:e.page.total}):l.default.error(e.subMsg)}))}},{key:"orgGroup",value:function(e,t,a){var n=this,r={pageNo:"search"===a?1:this.state.pageNo2,pageSize:this.state.pageSize2,kwd:this.state.value2};this.props.getWorksOrgList(r,(function(e){"1000"===e.code?n.setState({dataSource2:e.data.records,current2:e.page.pageNo,total2:e.page.total}):l.default.error(e.subMsg)}))}},{key:"trainingGroup",value:function(e,t,a){var n=this,r={startDate:this.state.startDate,endDate:this.state.endDate,pageNo:"search"===a?1:this.state.pageNo3,pageSize:this.state.pageSize3,kwd:this.state.value3};this.props.getWorksList(r,(function(e){"1000"===e.code?n.setState({dataSource3:e.data.records,current3:e.page.pageNo,total3:e.page.total}):l.default.error(e.subMsg)}))}},{key:"callback",value:function(e){this.setState({key:e})}},{key:"onChange",value:function(e,t){var a=t[0],n=t[1],r=n.split("/")[n.split("/").length-1]-a.split("/")[a.split("/").length-1];this.setState({startDate:a,endDate:n,pageSize:r}),console.log(e,t)}},{key:"accountGroupDownload",value:function(e){var t={pageNo:this.state.pageNo1,pageSize:this.state.pageSize1,kwd:this.state.value1};this.props.getUserListDownload(t,(function(e){"1000"===e.code?l.default.success(e.data):l.default.error(e.subMsg)}))}},{key:"orgGroupDownload",value:function(e){var t={pageNo:this.state.pageNo2,pageSize:this.state.pageSize2,kwd:this.state.value2};this.props.getOrgListDownload(t,(function(e){"1000"===e.code?l.default.success(e.data):l.default.error(e.subMsg)}))}},{key:"trainingGroupDownload",value:function(e){var t={startDate:this.state.startDate,endDate:this.state.endDate,pageNo:this.state.pageNo3,pageSize:this.state.pageSize3,kwd:this.state.value3};this.props.getWorksListDownload(t,(function(e){"1000"===e.code?l.default.success(e.data):l.default.error(e.subMsg)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageNo1,n=t.pageNo2,r=t.pageNo3,l=t.pageSize1,c=t.pageSize2,d=t.pageSize3,f=[{title:"作品名称",dataIndex:"title",key:"title",align:"center"},{title:"用户名",dataIndex:"accountName",key:"accountName",align:"center"},{title:"姓名",dataIndex:"fullName",key:"fullName",align:"center"},,{title:"所在部门",dataIndex:"orgName",key:"orgName",align:"center"},{title:"提交时间",dataIndex:"time",key:"time",align:"center",render:function(e){return y.default.createElement("span",null,(0,b.default)(e).format("YYYY-MM-DD HH:mm"))}},{title:"状态",dataIndex:"state",key:"state",align:"center"},{title:"点赞数",dataIndex:"upNum",key:"upNum",align:"center"},{title:"学习量",dataIndex:"studyNum",key:"studyNum",align:"center"}],g=this,p={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.current1,total:this.state.total1,showTotal:function(e){return"共计 ".concat(e," 条")},PageSize:this.state.pageSize1,onShowSizeChange:function(e,t){g.setState({pageNo1:1,pageSize1:t},(function(){g.accountGroup(a,l)}))},onChange:function(e,t){g.setState({pageNo1:e,pageSize1:t},(function(){g.accountGroup(e,l)}))}},h={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.current2,total:this.state.total2,showTotal:function(e){return"共计 ".concat(e," 条")},PageSize:this.state.pageSize2,onShowSizeChange:function(e,t){g.setState({pageNo2:1,pageSize2:t},(function(){g.orgGroup(n,c)}))},onChange:function(e,t){g.setState({pageNo2:e,pageSize2:t},(function(){g.orgGroup(e,c)}))}},m={showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],current:this.state.current3,total:this.state.total3,showTotal:function(e){return"共计 ".concat(e," 条")},PageSize:this.state.pageSize3,onShowSizeChange:function(e,t){g.setState({pageNo3:1,pageSize3:t},(function(){g.trainingGroup(r,d)}))},onChange:function(e,t){g.setState({pageNo3:e,pageSize3:t},(function(){g.trainingGroup(e,d)}))}};return console.log(this.state.current1,"000000",this.state.total1),y.default.createElement("div",null,y.default.createElement(_.default,{title:"作品统计"}),y.default.createElement(S.default,{className:"survey-tabs",defaultActiveKey:"1",onChange:function(t){return e.callback(t)}},y.default.createElement(Y,{tab:"按用户统计",key:"1"},y.default.createElement("div",{className:"row-style"},y.default.createElement("span",{style:{marginLeft:"20px"}},"关键字:"),y.default.createElement(s.default,{className:v.default.dinput,placeholder:"请输入用户名或姓名",style:{marginLeft:"10px"},onChange:function(t){e.onValueChange1(t)}}),y.default.createElement(o.default,{onClick:function(){return e.onHandleSearch1(1)}},"查询"),y.default.createElement(i.default,{title:"确定下载?",okText:"确定",cancelText:"取消",onConfirm:function(){return e.accountGroupDownload(1)}},y.default.createElement(o.default,{className:v.default.serch_time,style:{marginRight:"30px",float:"right"}},"下载结果数据"))),y.default.createElement(u.default,{style:{background:"white"},columns:[{title:"用户名",dataIndex:"accountName",key:"accountName",align:"center"},{title:"姓名",dataIndex:"fullName",key:"fullName",align:"center"},{title:"所在部门",dataIndex:"orgName",key:"orgName",align:"center"},{title:"职务",dataIndex:"position",key:"position",align:"center"},{title:"必要提交",dataIndex:"mustSubmitNum",key:"mustSubmitNum",align:"center"},{title:"实际提交",dataIndex:"submitNum",key:"submitNum",align:"center"},{title:"学习量",dataIndex:"studyNum",key:"studyNum",align:"center"}],pagination:p,dataSource:this.state.dataSource1})),y.default.createElement(Y,{tab:"按部门统计",key:"2"},y.default.createElement("div",{className:"row-style"},y.default.createElement("span",{style:{marginLeft:"20px"}},"关键字:"),y.default.createElement(s.default,{className:v.default.dinput,placeholder:"请输入部门名称",style:{marginLeft:"10px"},onChange:function(t){e.onValueChange2(t)}}),y.default.createElement(o.default,{onClick:function(){return e.onHandleSearch2(1)}},"查询"),y.default.createElement(i.default,{title:"确定下载?",okText:"确定",cancelText:"取消",onConfirm:function(){return e.orgGroupDownload(1)}},y.default.createElement(o.default,{className:v.default.serch_time,style:{marginRight:"30px",float:"right"}},"下载结果数据"))),y.default.createElement(u.default,{style:{background:"white"},columns:[{title:"所在部门",dataIndex:"orgName",key:"orgName",align:"center"},{title:"提交数",dataIndex:"submitNum",key:"submitNum",align:"center"},{title:"待审核",dataIndex:"auditNum",key:"auditNum",align:"center"},{title:"不通过",dataIndex:"noAuditNum",key:"noAuditNum",align:"center"},{title:"待评分",dataIndex:"noScoreNum",key:"noScoreNum",align:"center"},{title:"已评分",dataIndex:"scoreNum",key:"scoreNum",align:"center"},{title:"学习量",dataIndex:"studyNum",key:"studyNum",align:"center"}],pagination:h,dataSource:this.state.dataSource2})),y.default.createElement(Y,{tab:"按作品统计",key:"3"},y.default.createElement("div",{className:"row-style"},y.default.createElement("span",{style:{marginLeft:"20px"}},"关键字:"),y.default.createElement(s.default,{className:v.default.dinput,placeholder:"请输入作品名称或所属项目",style:{marginLeft:"10px"},onChange:function(t){e.onValueChange3(t)}}),y.default.createElement("span",{style:{marginLeft:"10px",marginRight:"10px"}},"时间:"),y.default.createElement(z,{className:v.default.serch_time,disabledDate:this.disabledDate,disabledTime:this.disabledRangeTime,onChange:this.onChange.bind(this),defaultValue:[(0,b.default)(L,"YYYY/MM/DD"),(0,b.default)(T,"YYYY/MM/DD")],format:"YYYY/MM/DD"}),y.default.createElement(o.default,{onClick:function(){return e.onHandleSearch3(1)}},"查询"),y.default.createElement(i.default,{title:"确定下载?",okText:"确定",cancelText:"取消",onConfirm:function(){return e.trainingGroupDownload(1)}},y.default.createElement(o.default,{className:v.default.serch_time,style:{marginRight:"30px",float:"right"}},"下载结果数据"))),y.default.createElement(u.default,{style:{background:"white"},columns:f,pagination:m,dataSource:this.state.dataSource3}))))}}]),n}(y.Component),R=(0,w.connect)((function(e){return D({},e)}),D({},k.default))(P);t.default=R},2317:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(76)),u=n(a(2318)).default.worksStatistics,i=u.worksUserList,o=u.worksOrgList,s=u.worksList,l=u.userListDownload,c=u.orgListDownload,d=u.worksListDownload,f={getWorksUserList:function(e,t){return function(a){return(0,r.default)({url:i,data:e}).then((function(e){t&&t(e)}))}},getWorksOrgList:function(e,t){return function(a){return(0,r.default)({url:o,data:e}).then((function(e){t&&t(e)}))}},getWorksList:function(e,t){return function(a){return(0,r.default)({url:s,data:e}).then((function(e){t&&t(e)}))}},getUserListDownload:function(e,t){return function(a){return(0,r.default)({url:l,data:e}).then((function(e){t&&t(e)}))}},getOrgListDownload:function(e,t){return function(a){return(0,r.default)({url:c,data:e}).then((function(e){t&&t(e)}))}},getWorksListDownload:function(e,t){return function(a){return(0,r.default)({url:d,data:e}).then((function(e){t&&t(e)}))}}};t.default=f},2318:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),u={worksStatistics:{worksUserList:"GET ".concat(r.default.base,"/web-manage/statistic/studentCase/list/account"),worksOrgList:"GET ".concat(r.default.base,"/web-manage/statistic/studentCase/list/org"),worksList:"GET ".concat(r.default.base,"/web-manage/statistic/studentCase/list"),userListDownload:"GET ".concat(r.default.base,"/web-manage/statistic/studentCase/list/account/export"),orgListDownload:"GET ".concat(r.default.base,"/web-manage/statistic/studentCase/list/org/export"),worksListDownload:"GET ".concat(r.default.base,"/web-manage/statistic/studentCase/list/export")}};t.default=u},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},544:function(e,t,a){e.exports=a(11)(846)},563:function(e,t,a){e.exports=a(11)(837)},564:function(e,t,a){"use strict";a.r(t);a(26),a(581),a(140)},566:function(e,t,a){e.exports=a(11)(817)},568:function(e,t,a){e.exports=a(11)(333)},575:function(e,t,a){"use strict";a.r(t);a(26),a(623)},581:function(e,t,a){"use strict";a.r(t);a(26),a(585)},585:function(e,t,a){},620:function(e,t,a){"use strict";var n=a(19),r=a(16),u=a(85),i=a(36),o=a(21),s=a(45),l=a(153),c=a(81),d=a(14),f=a(66),g=a(78).f,p=a(49).f,h=a(22).f,m=a(236).trim,N=r.Number,S=N.prototype,y="Number"==s(f(S)),b=function(e){var t,a,n,r,u,i,o,s,l=c(e,!1);if("string"==typeof l&&l.length>2)if(43===(t=(l=m(l)).charCodeAt(0))||45===t){if(88===(a=l.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(i=(u=l.slice(2)).length,o=0;o<i;o++)if((s=u.charCodeAt(o))<48||s>r)return NaN;return parseInt(u,n)}return+l};if(u("Number",!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var v,k=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof k&&(y?d((function(){S.valueOf.call(a)})):"Number"!=s(a))?l(new N(b(t)),a,k):b(t)},w=n?g(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;w.length>_;_++)o(N,v=w[_])&&!o(k,v)&&h(k,v,p(N,v));k.prototype=S,S.constructor=k,i(r,"Number",k)}},623:function(e,t,a){}}]);