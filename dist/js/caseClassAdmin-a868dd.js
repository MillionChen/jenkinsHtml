(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{1288:function(e,t,a){"use strict";var n=a(0);a(7),a(3),a(5),a(9),a(10),a(8),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.importsh=t.importpf=t.exexportpf=t.exexportsh=t.exexport=t.batchExport=t.auditOrScoreView=t.reviewBatchScore=t.reviewBatchAudit=t.reviewlistnum=t.reviewlist=t.activedel=t.activedown=t.activeup=t.editinfo=t.createinsert=t.createtablelist=t.activelist=t.saveCaseScope=t.getSelectedUser=t.getUserGroup=t.getCaseSubmitterInfo=t.caseSubmit=t.getCaseInfo=t.classOffLine=t.classOnLine=t.classdelete=t.classsort=t.classedit=t.classlist=t.craeateoneclass=void 0;var i=n(a(2)),r=n(a(1314)),l=n(a(78));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=r.default.common,o=u.craeateoneclassApi,d=u.classlistApi,f=u.classeditApi,p=u.classsortApi,v=u.classdeleteApi,h=u.classOnLineApi,g=u.classOffLineApi,m=u.getCaseInfoApi,y=u.caseSubmitApi,b=u.getCaseSubmitterInfoApi,w=u.getUserGroupApi,A=u.getSelectedUserApi,E=u.activelistApi,S=u.createtablelistApi,C=u.editinfoApi,O=u.activeupApi,x=u.activedownApi,M=u.activedelApi,L=u.reviewlistApi,k=u.reviewlistnumApi,T=u.auditOrScoreViewApi,R=u.exexportApi,G=u.saveCaseScopeApi,D=u.createinsertApi,I=u.reviewBatchAuditApi,P=u.reviewBatchScoreApi,_=u.batchExportApi,j=u.exexportshApi,B=u.exexportpfApi,U=u.importpfApi,V=u.importshApi;t.craeateoneclass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:o,data:e})};t.classlist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:d,data:e})};t.classedit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:f,data:e})};t.classsort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:p,data:e})};t.classdelete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:v,data:e})};t.classOnLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:h,data:e})};t.classOffLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:g,data:e})};t.getCaseInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:m,data:e})};t.caseSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:y,data:e})};t.getCaseSubmitterInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:b,data:e})};t.getUserGroup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:w,data:e})};t.getSelectedUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:A,data:e})};t.saveCaseScope=function(e){return(0,l.default)({url:G,data:e})};t.activelist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:E,data:e})};t.createtablelist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:S,data:e})};t.createinsert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:D,data:e})};t.editinfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:C,data:e})};t.activeup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:O,data:e})};t.activedown=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:x,data:e})};t.activedel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:M,data:e})};t.reviewlist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:L,data:e})};t.reviewlistnum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:k,data:e})};t.reviewBatchAudit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:I,data:e})};t.reviewBatchScore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:P,data:e})};t.auditOrScoreView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:T,data:e})};t.batchExport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:_,data:e})};t.exexport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:R,data:e})};t.exexportsh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:j,data:e})};t.exexportpf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:B,data:e})};t.importpf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:U,data:e})};t.importsh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:V,data:e})}},1314:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),r={common:{craeateoneclassApi:"POST ".concat(i.default.webManage,"/caseLibrary/classify/insert"),classlistApi:"GET ".concat(i.default.webManage,"/caseLibrary/classify/list"),classeditApi:"GET ".concat(i.default.webManage,"/caseLibrary/classify/update"),classsortApi:"GET ".concat(i.default.webManage,"/caseLibrary/classify/move"),classdeleteApi:"GET ".concat(i.default.webManage,"/caseLibrary/classify/delete"),classOnLineApi:"GET ".concat(i.default.webManage,"/caseLibrary/classify/release"),classOffLineApi:"GET ".concat(i.default.webManage,"/caseLibrary/classify/putDown"),getCaseInfoApi:"GET ".concat(i.default.webManage,"/studentCase/prepareStudentCase"),caseSubmitApi:"POST ".concat(i.default.base,"/web-student/api/studentCase/submit"),getCaseSubmitterInfoApi:"GET ".concat(i.default.systemManage,"/account/name/search"),getUserGroupApi:"GET ".concat(i.default.systemManage,"/org/userGroup/list"),getSelectedUserApi:"GET ".concat(i.default.webManage,"/caseLibrary/authorize/list"),activelistApi:"GET ".concat(i.default.webManage,"/caseLibrary/getCaseLibraryList"),createtablelistApi:"GET ".concat(i.default.webManage,"/caseLibrary/getClassify"),editinfoApi:"GET ".concat(i.default.webManage,"/caseLibrary/view"),activeupApi:"GET ".concat(i.default.webManage,"/caseLibrary/release"),activedownApi:"GET ".concat(i.default.webManage,"/caseLibrary/putDown"),activedelApi:"GET ".concat(i.default.webManage,"/caseLibrary/delete"),reviewlistApi:"GET ".concat(i.default.webManage,"/studentCase/list"),reviewlistnumApi:"GET ".concat(i.default.webManage,"/studentCase/list/getCount"),auditOrScoreViewApi:"GET ".concat(i.default.webManage,"/studentCase/auditOrScoreView"),exexportApi:"GET ".concat(i.default.webManage,"/studentCase/list/export"),saveCaseScopeApi:"POST ".concat(i.default.webManage,"/caseLibrary/authorize/insert"),createinsertApi:"POST ".concat(i.default.webManage,"/caseLibrary/insert"),reviewBatchAuditApi:"POST ".concat(i.default.webManage,"/studentCase/batchAudit"),reviewBatchScoreApi:"POST ".concat(i.default.webManage,"/studentCase/batchScore"),batchExportApi:"POST ".concat(i.default.webManage,"/studentCase/batchExport"),exexportshApi:"POST ".concat(i.default.webManage,"/studentCase/auditList/export"),exexportpfApi:"POST ".concat(i.default.webManage,"/studentCase/scoreList/export"),importpfApi:"POST ".concat(i.default.webManage,"/studentCase/scoreList/import"),importshApi:"POST ".concat(i.default.webManage,"/studentCase/auditList/import")}};t.default=r},2120:function(e,t,a){"use strict";var n=a(4),i=a(0);a(7),a(154),a(44),a(5),a(40),a(143),a(51),a(20),a(34),a(23),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(98));a(224);var l=i(a(225));a(549);var c=i(a(544));a(140);var s=i(a(535));a(61);var u=i(a(62)),o=i(a(29)),d=i(a(30)),f=i(a(59)),p=i(a(32)),v=i(a(33)),h=i(a(31)),g=i(a(2));a(540);var m=i(a(539));a(537);var y=i(a(536)),b=n(a(1)),w=(a(52),i(a(226))),A=i(a(628)),E=i(a(223));a(2121);var S=n(a(1288));function C(e){return function(){var t,a=(0,h.default)(e);if(O()){var n=(0,h.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,v.default)(this,t)}}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var x=y.default.TextArea,M=(m.default.Item,{labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}}),L=function(e){(0,p.default)(a,e);var t=C(a);function a(e){var n;return(0,o.default)(this,a),n=t.call(this,e),(0,g.default)((0,f.default)(n),"saveFormRef",(function(e){n.formRef=e})),(0,g.default)((0,f.default)(n),"fnRecursion",(function(e){e&&e.forEach((function(e){e.children=e.children&&0===e.children.length?null:e.children,e.children&&n.fnRecursion(e.children)}))})),n.state={addclass:!1,list:[],upAndDownType:1},n}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.list()}},{key:"list",value:function(){var e=this;S.classlist().then((function(t){if(1e3==t.code){var a=[].concat(t.data);a.forEach((function(e){e.upStatus=!0,e.children&&e.children.length>0&&e.children.forEach((function(e){e.upStatus=!0,e.children&&e.children.length>0&&e.children.forEach((function(e){e.upStatus=!0}))}))})),e.setState({list:a,lev:0,id:0})}}))}},{key:"handleOkaddclass",value:function(){var e=this;this.formRef.props.form.validateFields((function(t,a){if(!t)if(e.state.item){var n={description:a.description,name:a.name,classifyId:e.state.item.id};S.classedit(n).then((function(t){1e3==t.code?(u.default.success("修改成功"),e.setState({addclass:!1}),e.list()):u.default.error(t.subMsg)}))}else{var i={description:a.description,name:a.name,level:e.state.lev,parentId:0==e.state.lev?0:e.state.id};S.craeateoneclass(i).then((function(t){1e3==t.code?(u.default.success("添加成功"),e.setState({addclass:!1}),e.list()):u.default.error(t.subMsg)}))}}))}},{key:"handleCanceladdclass",value:function(){this.setState({addclass:!1})}},{key:"add",value:function(e,t){console.log(e,1)}},{key:"addclass",value:function(e,t){this.setState({addclass:!0,id:t,lev:e,item:""})}},{key:"edit",value:function(e){console.log(111,e),this.setState({addclass:!0,item:e})}},{key:"sort",value:function(e,t){var a=this;console.log(e.sort,"record",this.state.list.length);var n={classifyId:e.id,parentId:e.parentId,sort:e.sort,type:t};S.classsort(n).then((function(e){1e3==e.code&&(console.log(e,"res"),u.default.success("移动成功"),a.list()),"4002"!=e.subCode&&"4003"!=e.subCode||u.default.info(e.subMsg)}))}},{key:"upAndDown",value:function(e,t){var a=this,n={classifyId:e.id};1==e.state?S.classOffLine(n).then((function(e){1e3==e.code&&(console.log(e),a.list())})):S.classOnLine(n).then((function(e){1e3==e.code&&(console.log(e),a.list())}))}},{key:"upAndDownStatus",value:function(e,t){var a=this;console.log("upAndDownStatus-record",e);var n={classifyId:e.id};1==e.state?S.classOffLine(n).then((function(e){1e3==e.code&&(console.log(e),a.list())})):S.classOnLine(n).then((function(e){1e3==e.code&&(console.log(e),a.list())}))}},{key:"delete",value:function(e){var t=this,a={classifyId:e.id};S.classdelete(a).then((function(e){1e3==e.code&&(u.default.success("删除成功"),t.list())}))}},{key:"upAndDownLatitude",value:function(e,t){var a=this,n={classifyId:e.id};1==e.state?S.classOffLine(n).then((function(e){1e3==e.code&&(console.log(e),a.list())})):S.classOnLine(n).then((function(e){1e3==e.code&&(console.log(e),a.list())}))}},{key:"render",value:function(){var e=this;console.log(1111,this.state.list);var t=[{title:"分类名称",dataIndex:"name",key:"name",render:function(e){return b.default.createElement("span",{title:e},e.length<=15?e:e.slice(0,14)+"...")}},{title:"分类等级",dataIndex:"level",key:"level",render:function(e,t){return b.default.createElement("span",null,1==e?"一级分类":"二级分类")}},{title:"创建时间",dataIndex:"createTime",key:"createTime",render:function(e,t){return b.default.createElement("span",null,(0,E.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"操作",dataIndex:"id",key:"id",width:"30%",render:function(t,a){return b.default.createElement("div",null,2==a.level?null:b.default.createElement("a",{style:{marginRight:8},onClick:function(){return e.addclass(2,t)}},"添加子分类"),b.default.createElement("a",{style:{marginRight:8},onClick:function(){return e.edit(a)}},"修改"),b.default.createElement("a",{style:{marginRight:8},onClick:function(){return e.sort(a,1)}},"上移"),b.default.createElement("a",{style:{marginRight:8},onClick:function(){return e.sort(a,2)}},"下移"),1==a.state?b.default.createElement("a",{style:{marginRight:8},onClick:function(){e.upAndDownStatus(a,0)}},"下架"):1==a.showState?b.default.createElement("a",{style:{marginRight:8},onClick:function(){e.upAndDownStatus(a,1)}},"上架"):b.default.createElement("a",{style:{color:"#cccccc",marginRight:8}},"上架"),0==a.canDelete?null:b.default.createElement("a",{onClick:function(){return e.delete(a)},style:{marginRight:8}},"删除"))}}],a=this.state.list;return this.fnRecursion(a),b.default.createElement("div",{className:"ClassAdmin"},b.default.createElement(w.default,{title:"分类管理"}),b.default.createElement("div",{className:"top",style:{margin:16}},b.default.createElement(s.default,{type:"primary",onClick:function(){return e.addclass(0)}},"添加分类")),a&&a.map((function(a,n){return console.log(a.children),b.default.createElement("div",{className:"classTable",key:n},b.default.createElement("div",{style:{margin:16}},b.default.createElement("span",{style:{marginRight:"13px",fontSize:"20px"}},"按‘",b.default.createElement("span",{style:{color:"blue"},title:a.name},a.name.length<=20?a.name:a.name.slice(0,20)+"..."),"’分类"),b.default.createElement(s.default,{style:{marginRight:8},onClick:function(){return e.addclass(1,a.id)},type:"primary"},"添加子分类"),b.default.createElement(s.default,{style:{marginRight:8},type:"primary",onClick:function(){return e.edit(a)}},"修改"),1==a.state?b.default.createElement(s.default,{style:{marginRight:8},type:"primary",onClick:function(){e.upAndDownLatitude(a,n)}},"下架"):b.default.createElement(s.default,{style:{marginRight:8},type:"primary",onClick:function(){e.upAndDownLatitude(a,n)}},"上架"),1==a.canDelete?b.default.createElement(s.default,{type:"primary",onClick:function(){return e.delete(a)}},"删除"):null),b.default.createElement(c.default,{columns:t,defaultExpandAllRows:!0,dataSource:a.children,pagination:!1}))})),b.default.createElement(l.default,{width:600,title:"添加分类",visible:this.state.addclass,onOk:this.handleOkaddclass.bind(this),onCancel:this.handleCanceladdclass.bind(this),destroyOnClose:1},b.default.createElement(k,{item:this.state.item,wrappedComponentRef:this.saveFormRef})))}}]),a}(b.Component),k=m.default.create()(function(e){(0,p.default)(a,e);var t=C(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).state={},n}return(0,d.default)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="",t=this.props,a=t.form,n=t.item,i=a.getFieldDecorator;return e=n||"",b.default.createElement("div",null,b.default.createElement(m.default,null,b.default.createElement(m.default.Item,(0,r.default)({label:"分类名称"},M),i("name",{rules:[{required:!0,validator:function(e,t,a){(0,A.default)(e,t,a,"一级分类名称不能为空！",20)}}],initialValue:e?e.name:""})(b.default.createElement(y.default,{placeholder:"请输入分类名称"}))),b.default.createElement(m.default.Item,(0,r.default)({label:"分类描述"},M),i("description",{rules:[{validator:function(e,t,a){(0,A.default)(e,t,a,"不能超过50字",50)}}],initialValue:e?e.description:""})(b.default.createElement(x,{placeholder:"请输入子分类描述",rows:4})))))}}]),a}(b.Component)),T=L;t.default=T},2121:function(e,t,a){e.exports={ClassAdmin:"ClassAdmin__1h7K_",top:"top__1d6-d",weidu:"weidu__1oLsE",classTable:"classTable__1iit-"}},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},540:function(e,t,a){"use strict";a.r(t);a(26),a(577),a(584)},544:function(e,t,a){e.exports=a(11)(846)},577:function(e,t,a){},586:function(e,t,a){},628:function(e,t,a){"use strict";a(156),a(35),a(23),a(228),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,i){var r=[];new RegExp(/^\s+/,"i");t||(t="");""===t.trim()&&t.length>0&&r.push(new Error(n,e.field));0==t.length&&e.required&&r.push(new Error(n,e.field));t.length>i&&r.push(new Error("最多支持输入"+i+"个字符以内",e.field));a(r)}}}]);