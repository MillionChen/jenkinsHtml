(window.webpackJsonp=window.webpackJsonp||[]).push([[133,10],{1023:function(e,t,a){"use strict";var n=a(4),r=a(0);a(143),a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var l=r(a(225));a(580);var i=r(a(571));a(99);var u=r(a(100));a(140);var o=r(a(535));a(61);var s=r(a(62)),c=r(a(29)),d=r(a(30)),f=r(a(59)),p=r(a(32)),m=r(a(33)),h=r(a(31)),v=r(a(2));a(554);var g=r(a(550));a(540);var y=r(a(539)),b=n(a(1)),E=a(561),x=a(618),S=a(52);function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var k=y.default.Item,L=(g.default.Option,function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,h.default)(t);if(w()){var n=(0,h.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,v.default)((0,f.default)(t),"beforeUpload",(function(e,a){if(!/(xls|xlsx)$/g.test(e.name))return t.props.form.resetFields(""),t.setState({fileList:[]}),s.default.error("文件类型不对，参照格式上传"),!1;if(console.log(e.type),a.length>1)return s.default.error("一次只能导入一个文件"),void t.setState({fileList:[]});t.setState({fileList:a});var n=t.props.param;t.setState({uploadParams:{Filename:n.dir+"/"+e.name,key:n.dir+"/"+e.name,policy:n.policy,OSSAccessKeyId:n.accessid,success_action_status:"200",signature:n.signature},uploadAction:n.host,originalFile:e.name,originalFileUrl:n.host+"/"+n.dir+"/"+e.name})})),(0,v.default)((0,f.default)(t),"handleChange",(function(e){console.log(t.state),console.log(e);var a=e.fileList;a=a.slice(-1),e.file.status,"done"===e.file.status&&t.setState({fileList:a}),"error"===e.file.status&&(s.default.error("上传失败，请重新尝试"),t.setState({fileList:[]}))})),(0,v.default)((0,f.default)(t),"normFile",(function(e){return Array.isArray(e)?e:e&&t.state.fileList})),(0,v.default)((0,f.default)(t),"toUpload",(function(){t.props.gupfetch(),t.setState({vsb:!0})})),(0,v.default)((0,f.default)(t),"closeMode",(function(){t.setState({vsb:!1})})),(0,v.default)((0,f.default)(t),"handleSubmit",(function(){var e=t.state.originalFileUrl,a=t.props,n=a.scopeId,r=a.urlParameter;t.props.form.validateFields((function(a,l){if(console.log(l),a)console.log(a);else{if(!l.upload)return s.default.info("请导入表格"),!1;var i={ossUrl:e,bizdId:n};t.props.importUsers(r,i,(function(e){1e3==+e.code?(s.default.success("已成功创建导入任务，任务编号".concat(e.data,"请至任务中查看完成情况")),t.closeMode()):s.default.error(e.subMsg)}))}}))})),t.state={uploadParams:{},uploadAction:{},originalFile:"",originalFileUrl:"",fileList:[],key:""},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.uploadAction,n=t.uploadParams,r=(this.props.handleCancel,this.props.form.getFieldDecorator);return b.default.createElement("div",{key:this.state.key},b.default.createElement("a",{onClick:this.toUpload},"导入可见范围"),this.state.vsb&&b.default.createElement(l.default,{title:"导入可见范围",visible:this.state.vsb,onOk:this.closeMode,onCancel:this.closeMode,footer:null},b.default.createElement(y.default,null,b.default.createElement("div",{style:{display:"block",textAlign:"center"}},b.default.createElement(k,{extra:"请上传资源附件（附件格式：xls,xlsx）"},r("upload",{valuePropName:"fileList",getValueFromEvent:this.normFile})(b.default.createElement("span",null,b.default.createElement(o.default,{style:{fontSize:"12px",marginRight:"20px",border:"1px solid #1890ff",color:"#1890ff"},href:this.props.downUrl?this.props.downUrl:"https://customproject.oss-cn-shanghai.aliyuncs.com/template/account_import_template.xlsx"},"下载用户模板"),0===this.state.fileList.length?b.default.createElement(i.default,{style:{display:"inline-block"},headers:{"X-Requested-With":null},beforeUpload:this.beforeUpload,action:a,data:n,onChange:this.handleChange,onRemove:function(){return e.setState({fileList:[]})}},b.default.createElement("a",{type:"primary"},b.default.createElement(u.default,{type:"upload"})," 导入可见范围")):b.default.createElement(i.default,{style:{display:"inline-block"},headers:{"X-Requested-With":null},beforeUpload:this.beforeUpload,action:a,data:n,onChange:this.handleChange,onRemove:function(){return e.setState({fileList:[]})}},b.default.createElement("a",{type:"primary",disabled:!0},b.default.createElement(u.default,{type:"upload"})," 导入可见范围"))))))),b.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},b.default.createElement(o.default,{type:"default",style:{marginRight:"16px"},onClick:function(){e.closeMode()}},"取消"),b.default.createElement(o.default,{type:"primary",style:{marginLeft:"32px"},onClick:this.handleSubmit},"确定"))))}}]),n}(b.Component));var C=(0,S.connect)((function(e,t){return{param:e.uploadParam.param,list:e.materialReducer.list,details:e.materialReducer.details,type:e.materialReducer.type}}),(function(e){return{gupfetch:function(){return e((0,E.gupfetch)())},importUsers:function(t,a,n){return e((0,x.importUsers)(t,a,n))}}}))(y.default.create()(L));t.default=C},1288:function(e,t,a){"use strict";var n=a(0);a(7),a(3),a(5),a(9),a(10),a(8),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.importsh=t.importpf=t.exexportpf=t.exexportsh=t.exexport=t.batchExport=t.auditOrScoreView=t.reviewBatchScore=t.reviewBatchAudit=t.reviewlistnum=t.reviewlist=t.activedel=t.activedown=t.activeup=t.editinfo=t.createinsert=t.createtablelist=t.activelist=t.saveCaseScope=t.getSelectedUser=t.getUserGroup=t.getCaseSubmitterInfo=t.caseSubmit=t.getCaseInfo=t.classOffLine=t.classOnLine=t.classdelete=t.classsort=t.classedit=t.classlist=t.craeateoneclass=void 0;var r=n(a(2)),l=n(a(1314)),i=n(a(78));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s=l.default.common,c=s.craeateoneclassApi,d=s.classlistApi,f=s.classeditApi,p=s.classsortApi,m=s.classdeleteApi,h=s.classOnLineApi,v=s.classOffLineApi,g=s.getCaseInfoApi,y=s.caseSubmitApi,b=s.getCaseSubmitterInfoApi,E=s.getUserGroupApi,x=s.getSelectedUserApi,S=s.activelistApi,w=s.createtablelistApi,k=s.editinfoApi,L=s.activeupApi,C=s.activedownApi,_=s.activedelApi,A=s.reviewlistApi,I=s.reviewlistnumApi,T=s.auditOrScoreViewApi,O=s.exexportApi,U=s.saveCaseScopeApi,D=s.createinsertApi,P=s.reviewBatchAuditApi,M=s.reviewBatchScoreApi,R=s.batchExportApi,G=s.exexportshApi,N=s.exexportpfApi,K=s.importpfApi,j=s.importshApi;t.craeateoneclass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:c,data:e})};t.classlist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:d,data:e})};t.classedit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:f,data:e})};t.classsort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:p,data:e})};t.classdelete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:m,data:e})};t.classOnLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:h,data:e})};t.classOffLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:v,data:e})};t.getCaseInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:g,data:e})};t.caseSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:y,data:e})};t.getCaseSubmitterInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:b,data:e})};t.getUserGroup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:E,data:e})};t.getSelectedUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:x,data:e})};t.saveCaseScope=function(e){return(0,i.default)({url:U,data:e})};t.activelist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:S,data:e})};t.createtablelist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:w,data:e})};t.createinsert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:D,data:e})};t.editinfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:k,data:e})};t.activeup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:L,data:e})};t.activedown=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:C,data:e})};t.activedel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:_,data:e})};t.reviewlist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:A,data:e})};t.reviewlistnum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:I,data:e})};t.reviewBatchAudit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:P,data:e})};t.reviewBatchScore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:M,data:e})};t.auditOrScoreView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:T,data:e})};t.batchExport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:R,data:e})};t.exexport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:O,data:e})};t.exexportsh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:G,data:e})};t.exexportpf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:N,data:e})};t.importpf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:K,data:e})};t.importsh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=o({},e),(0,i.default)({url:j,data:e})}},1310:function(e,t,a){"use strict";var n=a(4),r=a(0);a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(564);var l=r(a(563));a(61);var i=r(a(62)),u=r(a(29)),o=r(a(30)),s=r(a(32)),c=r(a(33)),d=r(a(31)),f=n(a(1)),p=r(a(78)),m=r(a(1311)),h=r(a(1312));function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){(0,s.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(v()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,u.default)(this,n),(t=a.call(this,e)).state={btnName:"导出可见范围"},t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"changeUpDown",value:function(){var e,t=this.props,a=t.urlParameter,n=t.scopeId;switch(a){case"assignment":e={assignmentId:n};break;case"exam":e={examId:n};break;case"course":e={courseId:n};break;case"research":e={researchId:n};break;case"vote":e={voteId:n};break;case"live":e={liveId:n};break;case"trainingProject":e={trainingProjectId:n};break;case"experiencePool":e={poolId:n};break;case"caseLibrary":e={caseLibraryId:n}}return(0,p.default)({url:m.default.exportCommon+a,data:e}).then((function(e){"1000"===e.code?i.default.success("导出成功：任务编号"+e.data):i.default.error("导出失败")}))}},{key:"render",value:function(){var e=this;this.state.btnName,this.props.urlParameter;return f.default.createElement("div",{className:h.default.exportBtn_box},f.default.createElement(l.default,{title:"是否导出",onConfirm:function(){return e.changeUpDown()}},f.default.createElement("a",{href:"javascript:;"},this.state.btnName)))}}]),n}(f.Component);t.default=g},1311:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),l={exportCommon:"GET ".concat(r.default.webManage,"/range/export/")};t.default=l},1312:function(e,t,a){e.exports={exportBtn_box:"exportBtn_box__rv0ir"}},1314:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),l={common:{craeateoneclassApi:"POST ".concat(r.default.webManage,"/caseLibrary/classify/insert"),classlistApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/list"),classeditApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/update"),classsortApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/move"),classdeleteApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/delete"),classOnLineApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/release"),classOffLineApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/putDown"),getCaseInfoApi:"GET ".concat(r.default.webManage,"/studentCase/prepareStudentCase"),caseSubmitApi:"POST ".concat(r.default.base,"/web-student/api/studentCase/submit"),getCaseSubmitterInfoApi:"GET ".concat(r.default.systemManage,"/account/name/search"),getUserGroupApi:"GET ".concat(r.default.systemManage,"/org/userGroup/list"),getSelectedUserApi:"GET ".concat(r.default.webManage,"/caseLibrary/authorize/list"),activelistApi:"GET ".concat(r.default.webManage,"/caseLibrary/getCaseLibraryList"),createtablelistApi:"GET ".concat(r.default.webManage,"/caseLibrary/getClassify"),editinfoApi:"GET ".concat(r.default.webManage,"/caseLibrary/view"),activeupApi:"GET ".concat(r.default.webManage,"/caseLibrary/release"),activedownApi:"GET ".concat(r.default.webManage,"/caseLibrary/putDown"),activedelApi:"GET ".concat(r.default.webManage,"/caseLibrary/delete"),reviewlistApi:"GET ".concat(r.default.webManage,"/studentCase/list"),reviewlistnumApi:"GET ".concat(r.default.webManage,"/studentCase/list/getCount"),auditOrScoreViewApi:"GET ".concat(r.default.webManage,"/studentCase/auditOrScoreView"),exexportApi:"GET ".concat(r.default.webManage,"/studentCase/list/export"),saveCaseScopeApi:"POST ".concat(r.default.webManage,"/caseLibrary/authorize/insert"),createinsertApi:"POST ".concat(r.default.webManage,"/caseLibrary/insert"),reviewBatchAuditApi:"POST ".concat(r.default.webManage,"/studentCase/batchAudit"),reviewBatchScoreApi:"POST ".concat(r.default.webManage,"/studentCase/batchScore"),batchExportApi:"POST ".concat(r.default.webManage,"/studentCase/batchExport"),exexportshApi:"POST ".concat(r.default.webManage,"/studentCase/auditList/export"),exexportpfApi:"POST ".concat(r.default.webManage,"/studentCase/scoreList/export"),importpfApi:"POST ".concat(r.default.webManage,"/studentCase/scoreList/import"),importshApi:"POST ".concat(r.default.webManage,"/studentCase/auditList/import")}};t.default=l},1331:function(e,t,a){e.exports={Caseactivtiy:"Caseactivtiy__3cRG_",material_search:"material_search__2JyCI","ant-select-tree-dropdown":"ant-select-tree-dropdown__V690s","ant-form-item":"ant-form-item__3ETv_","ant-form-item-control-wrapper":"ant-form-item-control-wrapper__2D8G4",top:"top__3N7DY",basepag:"basepag__14Bd-","case-review":"case-review__26nsq","review-form":"review-form__2IXcz",case_judge_small_title:"case_judge_small_title__1EQxl",case_judge_xs_title:"case_judge_xs_title__3BIyp",case_score_desc:"case_score_desc__yL1HQ",desc_title:"desc_title__QxPuZ",case_score_desc_content:"case_score_desc_content__SIIKZ"}},2122:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),a(40),a(51),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var l=r(a(225));a(569);var i=r(a(558));a(549);var u=r(a(544));a(574);var o=r(a(565));a(140);var s=r(a(535));a(578);var c=r(a(570));a(537);var d=r(a(536));a(564);var f=r(a(563));a(61);var p=r(a(62)),m=r(a(29)),h=r(a(30)),v=r(a(59)),g=r(a(32)),y=r(a(33)),b=r(a(31)),E=r(a(2));a(554);var x=r(a(550));a(540);var S=r(a(539)),w=n(a(1)),k=(a(52),a(636),r(a(226))),L=r(a(223)),C=r(a(1331)),_=n(a(1288)),A=r(a(1023)),I=r(a(1310)),T=r(a(624));function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var U=S.default.Item,D=x.default.Option,P=location.pathname.split("/")[1],M=location.pathname.split("/")[2],R=function(e){(0,g.default)(n,e);var t,a=(t=n,function(){var e,a=(0,b.default)(t);if(O()){var n=(0,b.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,y.default)(this,e)});function n(e){var t;return(0,m.default)(this,n),t=a.call(this,e),(0,E.default)((0,v.default)(t),"handleSearch",(function(){t.props.form.validateFields((function(e,a){console.log("Received values of form: ",a),e||t.setState({name:a.name,state:a.status},(function(){t.list()}))}))})),(0,E.default)((0,v.default)(t),"gotodetail",(function(e){t.props.history.push({pathname:"/".concat(P,"/").concat(M,"/index/tool/caseadmin/casecreate"),state:{id:e.id,pageMode:2}})})),(0,E.default)((0,v.default)(t),"handlePageChange",(function(e){console.log(e);var a=(0,v.default)(t);t.setState({pageNo:e},(function(){a.list()}))})),(0,E.default)((0,v.default)(t),"x",void 0),(0,E.default)((0,v.default)(t),"getViewData",(function(e){console.log("getViewData-data",e);var a=e.map((function(e){return{relationId:e.id,type:e.type,name:e.name}}));t.setState({viewRangeData:a})})),t.state={list:[],pageNo:1,pageSize:10,name:"",state:"",randomNum:"",selectStudentVisible:!1,viewRangeData:[],currentCaseId:""},t}return(0,h.default)(n,[{key:"componentDidMount",value:function(){this.list()}},{key:"list",value:function(){var e=this,t={pageNo:this.state.pageNo,pageSize:this.state.pageSize,name:this.state.name,state:this.state.state};_.activelist(t).then((function(t){1e3==t.code&&e.setState({list:t.data.records,totalsur:t.page.total})}))}},{key:"create",value:function(){this.props.history.push("/".concat(P,"/").concat(M,"/index/tool/caseadmin/casecreate"))}},{key:"edit",value:function(e){this.props.history.push({pathname:"/".concat(P,"/").concat(M,"/index/tool/caseadmin/casecreate"),state:{id:e.id}})}},{key:"goToCaseSubmit",value:function(e){console.log("goToCaseSubmit-record",e),this.props.history.push({pathname:"/".concat(P,"/").concat(M,"/index/tool/caseadmin/caseSubmit"),state:{id:e.id}})}},{key:"goreview",value:function(e){this.props.history.push({pathname:"/".concat(P,"/").concat(M,"/index/tool/caseadmin/casereview"),search:"?id=".concat(e.id),state:{id:e.id}})}},{key:"up",value:function(e){var t=this,a={caseLibraryId:e.id};_.activeup(a).then((function(e){1e3==e.code&&(p.default.success("上架成功"),t.list())}))}},{key:"down",value:function(e){var t=this,a={caseLibraryId:e.id};_.activedown(a).then((function(e){1e3==e.code?(p.default.success("下架成功"),t.list()):p.default.info(e.subMsg)}))}},{key:"del",value:function(e){var t=this,a={caseLibraryId:e.id};_.activedel(a).then((function(e){1e3==e.code&&(p.default.success("删除成功"),t.list())}))}},{key:"closeSelectStudent",value:function(){this.setState({selectStudentVisible:!1,viewRangeData:[]})}},{key:"selectStudent",value:function(e){var t=this;console.log("selectStudent-record");if(2!=e.visibleRange)p.default.info("请选择指定用户可见");else{_.getUserGroup({type:"exam"}).then((function(a){if(console.log("getUserGroup-response",a),1e3==a.code){var n={caselibraryId:e.id};_.getSelectedUser(n).then((function(a){console.log("getSelectedUser-res",a),1e3==a.code&&t.setState({viewRangeData:a.data&&a.data.map((function(e){return{id:e.relationId,name:e.name,type:e.type,fullName:e.fullName,workNum:e.workNum}})),currentCaseId:e.id,selectStudentVisible:!0,randomNum:(new Date).getTime()})}))}}))}}},{key:"saveCasescope",value:function(){console.log("saveCasescope-viewRangeData",this.state.viewRangeData);var e=this,t=this.state.viewRangeData.map((function(t){return{caseLibraryId:e.state.currentCaseId,relationId:t.relationId,name:t.name,type:t.type}}));console.log("saveCasescope-data",t),_.saveCaseScope(t).then((function(t){1e3==t.code&&(p.default.success("保存成功"),e.setState({selectStudentVisible:!1,viewRangeData:[]}))}))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=[{title:"原创活动名称",dataIndex:"name",key:"name"},{title:"关联项目名称",dataIndex:"trainingProjectName",key:"trainingProjectName",render:function(e,t){return e?w.default.createElement("span",null,e):w.default.createElement("span",null,"——")}},{title:"创建时间",dataIndex:"createTime",key:"createTime",render:function(e,t){return w.default.createElement("span",{style:{display:"inline-block",width:"150px"}},(0,L.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"状态",dataIndex:"state",key:"state",render:function(e,t){return w.default.createElement("span",{style:{display:"inline-block",width:"50px"}},1==e?"草稿":2==e?"已上架":"已下架")}},{title:"操作",dataIndex:"aa",key:"aa",width:"30%",render:function(t,a){return w.default.createElement("div",null,2==a.state?w.default.createElement(f.default,{title:"确定要下架吗？",okText:"是",cancelText:"否",onConfirm:function(){return e.down(a)}},w.default.createElement("a",null,"下架")):w.default.createElement(f.default,{title:"确定要上架吗？",okText:"是",cancelText:"否",onConfirm:function(){return e.up(a)}},w.default.createElement("a",null,"上架")),2==a.state?w.default.createElement("a",{onClick:function(){e.gotodetail(a)}},"查看"):null,2==a.state?null:w.default.createElement("a",{onClick:function(){return e.edit(a)}},"修改"),2==a.state?w.default.createElement("a",{onClick:function(){e.goToCaseSubmit(a)}},"上传作品"):null,1==a.state?null:w.default.createElement("a",{onClick:function(){return e.goreview(a)}},"作品评审"),1==a.state?w.default.createElement(f.default,{title:"确定要删除吗？",okText:"是",cancelText:"否",onConfirm:function(){return e.del(a)}},w.default.createElement("a",null,"删除")):null,a.visibleRange&&2==a.visibleRange?w.default.createElement("a",{onClick:function(){e.selectStudent(a)}},"指定用户"):null,a.visibleRange&&2==a.visibleRange?w.default.createElement("span",null,w.default.createElement(A.default,{urlParameter:"caseLibrary",scopeId:a.id}),w.default.createElement(I.default,{urlParameter:"caseLibrary",scopeId:a.id})):null)}}];return w.default.createElement("div",{className:C.default.Caseactivtiy},w.default.createElement(k.default,{title:"原创活动"}),w.default.createElement(S.default,{className:C.default.material_search},w.default.createElement(o.default,null,w.default.createElement(c.default,{span:9,key:1},w.default.createElement(U,null,w.default.createElement("span",null,"作品名称："),t("name")(w.default.createElement(d.default,{style:{width:300},placeholder:"输入作品名称搜索作品"})))),w.default.createElement(c.default,{span:5,key:3},w.default.createElement(U,null,w.default.createElement("span",null,"状态："),t("status",{initialValue:this.state.state})(w.default.createElement(x.default,{style:{width:120,zIndex:1}},w.default.createElement(D,{value:""},"全部"),w.default.createElement(D,{value:1},"草稿"),w.default.createElement(D,{value:2},"已上架"),w.default.createElement(D,{value:3},"已下架"))))),w.default.createElement(c.default,{span:3,key:4},w.default.createElement(s.default,{type:"primary",style:{marginTop:"4px"},onClick:this.handleSearch},"查询")))),w.default.createElement("div",{className:C.default.top},w.default.createElement(s.default,{type:"primary",onClick:function(){return e.create()}}," ","创建原创活动")),w.default.createElement("div",null,w.default.createElement(u.default,{columns:a,rowKey:function(e,t){return t},dataSource:this.state.list,pagination:!1})),w.default.createElement(i.default,{className:C.default.basepag,total:this.state.totalsur,showQuickJumper:!0,onChange:this.handlePageChange}),w.default.createElement(l.default,{width:1160,visible:this.state.selectStudentVisible,onCancel:function(){e.closeSelectStudent()},onOk:function(){e.saveCasescope()}},w.default.createElement(T.default,{key:this.state.randomNum,invisible:!1,getData:this.getViewData,initData:this.state.viewRangeData,types:"case",groupTypes:"case"})))}}]),n}(w.Component),G=S.default.create()(R);t.default=G},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},558:function(e,t,a){e.exports=a(11)(251)},561:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.gupList=function(e){return function(t){t({type:u.GET_UPLOAD_LIST,data:e})}},t.gupfetch=function(e,t){var a,n=!1,r=!1;e?(n=e.needTranscode,r=e.type,a="".concat(s,"/upload/policy?needTranscode=").concat(n,"&type=").concat(r,"&date=").concat(new Date)):a="".concat(s,"/upload/policy?date=").concat(new Date);return function(e){return(0,l.default)({url:a}).then((function(a){if("1000"===a.code){var n=JSON.parse(a.data);e({type:u.GET_UPLOAD_PARAM,data:n}),t&&t()}return a}))}},t.upvideo=function(e,t,a){return function(a){return(0,l.default)({videoUpload:c,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:u.UP_INFO,data:JSON.parse(e.data)}),t&&t())}))}},t.videoInfo=function(e,t){return function(a){return(0,l.default)({videoPlay:d,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:u.VIDEO_INFO,data:e.data}),t&&t())}))}},t.UploadUtilFile=function(e){return{type:u.GET_FILE_NAME_ADDRESS,fileAddress:e}},t.clearUpload=function(){return function(e){e({type:u.CLEARUPLOAD})}};var l=r(a(78)),i=r(a(587)),u=n(a(231)),o=i.default.common,s=o.ossUrl,c=o.videoUpload,d=o.videoPlay},563:function(e,t,a){e.exports=a(11)(837)},565:function(e,t,a){e.exports=a(11)(170)},568:function(e,t,a){e.exports=a(11)(333)},570:function(e,t,a){e.exports=a(11)(99)},571:function(e,t,a){e.exports=a(11)(912)},586:function(e,t,a){},587:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),l={common:{ossUrl:"GET ".concat(r.default.ossUrl),videoUpload:"POST ".concat(r.default.ossUrl,"/video/upload"),videoPlay:"GET ".concat(r.default.ossUrl,"/video/play"),ossPolicy:"GET ".concat(r.default.ossUrl,"/upload/policy")}};t.default=l},596:function(e,t,a){e.exports=a(11)(827)},618:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.exportUsers=t.importUsers=t.getAuditorList=t.getUserList=t.getGroupList=t.getOrgList=void 0;var l=r(a(78)),i=r(a(635)),u=n(a(235)),o=i.default.linkUser,s=o.orgList,c=o.userList,d=o.auditorList,f=o.importUserUrl,p=o.exportUserUrl;t.getOrgList=function(e,t){return function(a){return(0,l.default)({url:s,data:{type:e}}).then((function(e){a({type:u.ORGLIST,data:e.data}),t&&t(e.data)}))}};t.getGroupList=function(e,t,a){return function(t){return(0,l.default)({url:c,data:{type:e,typ:"system"}}).then((function(e){a&&a(e.data)}))}};t.getUserList=function(e,t,a){return function(n){return(0,l.default)({url:c,data:{seachVal:e,type:t}}).then((function(e){1e3==e.code&&a&&a(e.data)}))}};t.getAuditorList=function(e,t){return function(a){return(0,l.default)({url:d,data:e}).then((function(e){t&&t(e.data)}))}};t.importUsers=function(e,t,a){return function(n){return(0,l.default)({url:"".concat(f,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}};t.exportUsers=function(e,t,a){return function(n){return(0,l.default)({url:"".concat(p,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}}},622:function(e,t,a){e.exports=a(11)(854)},624:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),a(3),a(5),a(51),a(20),a(34),a(35),a(23),a(229),a(6),a(569);var l=r(a(558));a(549);var i=r(a(544));a(146);var u=r(a(150));a(574);var o=r(a(565));a(578);var s=r(a(570));a(634);var c=r(a(596));a(99);var d=r(a(100));a(61);var f=r(a(62)),p=r(a(29)),m=r(a(30)),h=r(a(59)),v=r(a(32)),g=r(a(33)),y=r(a(31)),b=r(a(2));a(575);var E=r(a(568));a(537);var x=r(a(536)),S=n(a(1)),w=a(52),k=r(a(649)),L=r(a(141)),C=a(618);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A=x.default.Search;var I=E.default.TabPane,T=function(e){(0,v.default)(n,e);var t,a=(t=n,function(){var e,a=(0,y.default)(t);if(_()){var n=(0,y.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,g.default)(this,e)});function n(){var e;(0,p.default)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=a.call.apply(a,[this].concat(r)),(0,b.default)((0,h.default)(e),"search",(function(t,a){var n=e.state.tabKey,r=e.props,l=r.getGroupList,i=r.getUserList,u=r.getAuditorList,o=t.target?t.target.value:t;if(e.setState({value:o}),o){var s=(0,h.default)(e);switch(n){case"3":e.setState({groupLoading:!0}),l(o,(function(e){s.setState({searchGroup:e,groupLoading:!1})}));break;case"2":e.setState({userLoading:!0}),"on"==e.props.onlyUser?u({name:o,pageNo:1,pageSize:10},(function(e){console.log(e,"3444"),s.setState({searchUser:e.records,userLoading:!1,searchData:e})})):i(o,a,(function(e){s.setState({searchUser:e,userLoading:!1})}))}}else f.default.info("请输入关键词")})),(0,b.default)((0,h.default)(e),"closeMode",(function(){e.setState({vsb:!1})})),e.state={selectedItems:[],invisible:!0,departmentFlag:!0,show:!0,orgData:"",searchGroup:[],searchUser:[],tabKey:"2",orgLoading:!1,groupLoading:!1,userLoading:!1,userKeyword:"",groupKeyword:"",value:"",searchData:{records:[],pageRecords:""}},e.tabChange=e.tabChange.bind((0,h.default)(e)),e.removeSelected=e.removeSelected.bind((0,h.default)(e)),e.getSelected=e.getSelected.bind((0,h.default)(e)),e.isExist=e.isExist.bind((0,h.default)(e)),e.search=e.search.bind((0,h.default)(e)),e.onSearchChange=e.onSearchChange.bind((0,h.default)(e)),e}return(0,m.default)(n,[{key:"componentWillMount",value:function(){var e=this,t=this.props.groupTypes;this.props.getOrgList(t,(function(){e.setState({orgData:e.props.orgList})}))}},{key:"componentDidMount",value:function(){console.log("检测打印变量=this.props.initData ",this.props.initData),"research"===this.props.groupTypes&&this.props.initData&&this.props.initData.forEach((function(e){e.relationId&&(e.id=e.relationId)})),this.setState({selectedItems:this.props.initData?this.props.initData:[],invisible:void 0===this.props.invisible,departmentFlag:void 0===this.props.departmentFlag})}},{key:"onSearchChange",value:function(e,t){var a=e.target.value;a.length>50?f.default.info("输入长度不可超过50"):("user"==t?this.setState({userKeyword:a}):this.setState({groupKeyword:a}),"1"==this.state.tabKey&&(a.length>0?this.setState({show:!1}):this.setState({show:!0})))}},{key:"getSelected",value:function(e){var t=this;if(this.isExist(e.id)){var a=this;L.default.confirm(e.name+"已存在，是否删除？",(function(){a.removeSelected(e.id)}))}else{var n={name:e.name,type:this.state.tabKey,id:e.id,fullName:e.fullName,workNum:e.workNum},r=this.state.selectedItems;r.push(n),this.setState({selectedItems:r},(function(){t.props.getData(r),f.default.success("选择成功")}))}}},{key:"listSelect",value:function(e){var t=this;if(console.log("检测打印变量=item ",e),this.isExist(e.id)){var a=this;L.default.confirm(e.name+"已存在，是否删除？",(function(){a.removeSelected(e.id)}))}else{console.log("检测打印变量=this.state.tabKey ",this.state.tabKey);var n={name:e.name,type:this.state.tabKey,id:e.id,fullName:e.fullName,workNum:e.workNum},r=this.state.selectedItems;r.push(n),this.setState({selectedItems:r},(function(){t.props.getData(r),f.default.success("选择成功")}))}}},{key:"tabChange",value:function(e){console.log("key",e),this.setState({tabKey:e})}},{key:"isExist",value:function(e){return this.state.selectedItems.filter((function(t){return t.id==e})).length>0}},{key:"removeSelected",value:function(e){if(!this.props.disabled){var t=this.state.selectedItems.filter((function(t){return t.id!=e}));this.setState({selectedItems:t}),this.props.getData(t)}}},{key:"render",value:function(){var e=this,t=[{title:S.default.createElement("p",{style:{minWidth:"60px",marginTop:"0",marginBottom:"0"}},"用户名"),dataIndex:"name",key:"name",render:function(t,a){return S.default.createElement("a",{onClick:function(){return e.listSelect(a)},style:{whiteSpace:"nowrap"}},S.default.createElement(d.default,{type:"contacts"})," ",t)}},{title:S.default.createElement("p",{style:{minWidth:"50px",marginTop:"0",marginBottom:"0"}},"姓名"),dataIndex:"fullName",key:"fullName"},{title:S.default.createElement("p",{style:{minWidth:"50px",marginTop:"0",marginBottom:"0"}},"工号"),dataIndex:"workNum",key:"workNum"}],a=this.props.types;return"look"==this.props.type?S.default.createElement("div",null,S.default.createElement(o.default,null,S.default.createElement(s.default,{span:24,style:{paddingLeft:15,paddingRight:15}},S.default.createElement("h3",null,"已选择的部门、成员",this.state.departmentFlag?"或用户组":""),S.default.createElement("div",{style:{maxHeight:650,overflowY:"scroll"}},S.default.createElement(c.default,{itemLayout:"horizontal",split:!1,dataSource:this.state.selectedItems,renderItem:function(e){return S.default.createElement(c.default.Item,null,S.default.createElement(c.default.Item.Meta,{title:S.default.createElement("a",null,S.default.createElement(d.default,{type:"contacts"}),e.name)}))}}))))):S.default.createElement("div",null,S.default.createElement(o.default,null,S.default.createElement(s.default,{span:12,style:{paddingLeft:15,paddingRight:15}},S.default.createElement(E.default,{defaultActiveKey:this.state.tabKey,onChange:this.tabChange},S.default.createElement(I,{tab:"用户",key:"2"},S.default.createElement(A,{placeholder:"用户名/姓名/工号",style:{marginBottom:"15px"},max:50,onSearch:function(t){return e.search(t,a)},onPressEnter:function(t){return e.search(t,a)},value:this.state.userKeyword,onChange:function(t){return e.onSearchChange(t,"user")}}),S.default.createElement("div",{style:{height:500,overflowY:"auto"}},S.default.createElement(u.default,{spinning:this.state.userLoading}),S.default.createElement(i.default,{columns:t,dataSource:this.state.searchUser,rowKey:function(e){return e.id},pagination:!1}),"on"==this.props.onlyUser?S.default.createElement(l.default,{style:{textAlign:"right",marginRight:"15px",marginTop:"15px"},onChange:function(t){var a={name:e.state.value,pageNo:t,pageSize:10};e.props.getAuditorList(a,(function(t){console.log(t,"3444"),e.setState({searchUser:t.records,searchData:t,userLoading:!1})}))},showTotal:function(e){return"共计 ".concat(e," 条")},total:this.state.searchData.pageRecords}):"")),this.state.departmentFlag?S.default.createElement(I,{tab:"部门",key:"1",disabled:"on"==this.props.onlyUser},S.default.createElement(k.default,{data:this.state.orgData,getSelect:this.getSelected})):null,this.state.invisible?S.default.createElement(I,{tab:"用户组",key:"3",disabled:"on"==this.props.onlyUser},S.default.createElement(A,{placeholder:"搜索",max:50,onPressEnter:this.search,value:this.state.groupKeyword,onChange:function(t){return e.onSearchChange(t,"group")}}),S.default.createElement("div",{style:{height:500,overflowY:"auto"}},S.default.createElement(u.default,{spinning:this.state.groupLoading}),S.default.createElement(c.default,{itemLayout:"horizontal",split:!1,"data-locale":{emptyText:""},dataSource:this.state.searchGroup,renderItem:function(t){return S.default.createElement(c.default.Item,null,S.default.createElement(c.default.Item.Meta,{title:S.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.listSelect(t)}},S.default.createElement(d.default,{type:"contacts"}),t.name)}))}}))):null)),S.default.createElement(s.default,{span:12,style:{paddingLeft:15,paddingRight:15}},this.props.tabTitle?S.default.createElement("div",null,this.props.tabTitle):S.default.createElement("h3",null,"已选择的部门、成员",this.state.invisible?"或用户组":""),S.default.createElement("div",{style:{maxHeight:650,overflowY:"scroll"}},S.default.createElement(c.default,{itemLayout:"horizontal",split:!1,"data-locale":{emptyText:""},dataSource:this.state.selectedItems,renderItem:function(t){return S.default.createElement(c.default.Item,{actions:[S.default.createElement("a",{onClick:function(){return e.removeSelected(t.id)}},S.default.createElement(d.default,{type:"close"}))]},S.default.createElement(c.default.Item.Meta,{title:1==t.type?S.default.createElement("a",null,S.default.createElement(d.default,{type:"team"})," ",t.name):S.default.createElement("a",null,S.default.createElement("div",null,console.log(t,"item")),S.default.createElement(d.default,{type:"contacts"})," ",t.name," ",t.fullName," ",t.workNum)}))}})))))}}]),n}(S.Component);e.exports=(0,w.connect)((function(e,t){var a=e.linkUserReducer;return{fetching:a.fetching,orgList:a.orgList}}),(function(e){return{getOrgList:function(t,a){return e((0,C.getOrgList)(t,a))},getGroupList:function(t,a){return e((0,C.getGroupList)(t,a))},getUserList:function(t,a,n){return e((0,C.getUserList)(t,a,n))},getAuditorList:function(t,a){return e((0,C.getAuditorList)(t,a))}}}))(T)},635:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),l={linkUser:{orgList:"GET ".concat(r.default.systemManage,"/org/userGroup/list"),userList:"GET ".concat(r.default.systemManage,"/account/name/search"),auditorList:"GET ".concat(r.default.webManage,"/assignment/get/all/auditor"),importUserUrl:"POST ".concat(r.default.webManage,"/range/import"),exportUserUrl:"GET ".concat(r.default.webManage,"/range/export")}};t.default=l},636:function(e,t,a){e.exports=a(46)(174)},649:function(e,t,a){"use strict";var n=a(4),r=a(0);a(101),a(40),a(51),a(20),a(34),a(35),a(23),a(53),a(61);var l=r(a(62)),i=r(a(29)),u=r(a(30)),o=r(a(59)),s=r(a(32)),c=r(a(33)),d=r(a(31)),f=r(a(2));a(537);var p=r(a(536));a(719);var m=r(a(622)),h=n(a(1));function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var g=m.default.TreeNode,y=p.default.Search,b=function(e){(0,s.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(v()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,i.default)(this,n),t=a.call(this,e),(0,f.default)((0,o.default)(t),"onExpand",(function(e){t.setState({expandedKeys:e,autoExpandParent:!1})})),(0,f.default)((0,o.default)(t),"onChange",(function(e){var a=e.target.value;if(a.length>50)l.default.info("关键词长度最大为50");else{var n=(0,o.default)(t);a?t.setState({searchValue:a,expandedKeys:[]},(function(){for(var e=0;e<t.props.data.trees.length;e++)n.getExpandedKeys(t.props.data.trees[e].children,a,""+e)})):(t.setState({searchValue:a}),t.setDefaultExpandKeys())}})),t.state={expandedKeys:[],searchValue:"",autoExpandParent:!0},t.loop=t.loop.bind((0,o.default)(t)),t.onSelect=t.onSelect.bind((0,o.default)(t)),t.getExpandedKeys=t.getExpandedKeys.bind((0,o.default)(t)),t.renderTree=t.renderTree.bind((0,o.default)(t)),t.setDefaultExpandKeys=t.setDefaultExpandKeys.bind((0,o.default)(t)),t}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.setDefaultExpandKeys()}},{key:"setDefaultExpandKeys",value:function(){var e=this.props.data.trees.map((function(e,t){return""+t}));this.setState({expandedKeys:e})}},{key:"onSelect",value:function(e,t){this.props.getSelect(t.node.props.dataRef)}},{key:"getExpandedKeys",value:function(e,t,a){var n=this,r=this.state.expandedKeys;e.map((function(e){if(e.name.indexOf(t)>=0){for(var l=a.split("&&&"),i=0;i<l.length;i++)-1==r.indexOf(l[i])&&l[i]&&r.push(l[i]);r.push(e.id)}if(e.children.length>0){var u="";u+=a?a+"&&&"+e.id:e.id,n.getExpandedKeys(e.children,t,u)}})),this.setState({expandedKeys:r})}},{key:"loop",value:function(e){var t=this,a=this.state.searchValue,n=[];return e.length>0&&(n=e.map((function(e){var n=e.name.indexOf(a),r=e.name.substr(0,n),l=e.name.substr(n+a.length),i=n>-1?h.default.createElement("span",null,r,h.default.createElement("span",{style:{color:"#f50"}},a),l):h.default.createElement("span",null,e.name);return h.default.createElement(g,{key:e.id,title:i,dataRef:e},t.loop(e.children))}))),n}},{key:"renderTree",value:function(e){var t=this,a=[],n=this.state.expandedKeys;return e&&(a=e.trees.map((function(e,a){return h.default.createElement(m.default,{onSelect:t.onSelect,onExpand:t.onExpand,expandedKeys:n,autoExpandParent:!1,key:a},h.default.createElement(g,{key:a,title:e.name,dataRef:e},t.loop(e.children)))}))),a}},{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement(y,{placeholder:"部门名称",max:50,style:{marginBottom:8},value:this.state.searchValue,onChange:this.onChange}),h.default.createElement("div",{style:{height:500,overflowY:"auto"}},this.renderTree(this.props.data)))}}]),n}(h.Component);e.exports=b}}]);