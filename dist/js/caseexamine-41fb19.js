(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{1015:function(e,t,a){},1016:function(e,t,a){},1021:function(e,t,a){},1288:function(e,t,a){"use strict";var n=a(0);a(7),a(3),a(5),a(9),a(10),a(8),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.importsh=t.importpf=t.exexportpf=t.exexportsh=t.exexport=t.batchExport=t.auditOrScoreView=t.reviewBatchScore=t.reviewBatchAudit=t.reviewlistnum=t.reviewlist=t.activedel=t.activedown=t.activeup=t.editinfo=t.createinsert=t.createtablelist=t.activelist=t.saveCaseScope=t.getSelectedUser=t.getUserGroup=t.getCaseSubmitterInfo=t.caseSubmit=t.getCaseInfo=t.classOffLine=t.classOnLine=t.classdelete=t.classsort=t.classedit=t.classlist=t.craeateoneclass=void 0;var r=n(a(2)),i=n(a(1314)),l=n(a(76));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=i.default.common,o=u.craeateoneclassApi,d=u.classlistApi,f=u.classeditApi,p=u.classsortApi,v=u.classdeleteApi,m=u.classOnLineApi,h=u.classOffLineApi,g=u.getCaseInfoApi,y=u.caseSubmitApi,b=u.getCaseSubmitterInfoApi,w=u.getUserGroupApi,E=u.getSelectedUserApi,x=u.activelistApi,_=u.createtablelistApi,A=u.editinfoApi,S=u.activeupApi,C=u.activedownApi,O=u.activedelApi,L=u.reviewlistApi,I=u.reviewlistnumApi,M=u.auditOrScoreViewApi,T=u.exexportApi,G=u.saveCaseScopeApi,P=u.createinsertApi,j=u.reviewBatchAuditApi,D=u.reviewBatchScoreApi,R=u.batchExportApi,k=u.exexportshApi,B=u.exexportpfApi,V=u.importpfApi,U=u.importshApi;t.craeateoneclass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:o,data:e})};t.classlist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:d,data:e})};t.classedit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:f,data:e})};t.classsort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:p,data:e})};t.classdelete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:v,data:e})};t.classOnLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:m,data:e})};t.classOffLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:h,data:e})};t.getCaseInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:g,data:e})};t.caseSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:y,data:e})};t.getCaseSubmitterInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:b,data:e})};t.getUserGroup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:w,data:e})};t.getSelectedUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:E,data:e})};t.saveCaseScope=function(e){return(0,l.default)({url:G,data:e})};t.activelist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:x,data:e})};t.createtablelist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:_,data:e})};t.createinsert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:P,data:e})};t.editinfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:A,data:e})};t.activeup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:S,data:e})};t.activedown=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:C,data:e})};t.activedel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:O,data:e})};t.reviewlist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:L,data:e})};t.reviewlistnum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:I,data:e})};t.reviewBatchAudit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:j,data:e})};t.reviewBatchScore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:D,data:e})};t.auditOrScoreView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:M,data:e})};t.batchExport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:R,data:e})};t.exexport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:T,data:e})};t.exexportsh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:k,data:e})};t.exexportpf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:B,data:e})};t.importpf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:V,data:e})};t.importsh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=s({},e),(0,l.default)({url:U,data:e})}},1314:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),i={common:{craeateoneclassApi:"POST ".concat(r.default.webManage,"/caseLibrary/classify/insert"),classlistApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/list"),classeditApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/update"),classsortApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/move"),classdeleteApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/delete"),classOnLineApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/release"),classOffLineApi:"GET ".concat(r.default.webManage,"/caseLibrary/classify/putDown"),getCaseInfoApi:"GET ".concat(r.default.webManage,"/studentCase/prepareStudentCase"),caseSubmitApi:"POST ".concat(r.default.base,"/web-student/api/studentCase/submit"),getCaseSubmitterInfoApi:"GET ".concat(r.default.systemManage,"/account/name/search"),getUserGroupApi:"GET ".concat(r.default.systemManage,"/org/userGroup/list"),getSelectedUserApi:"GET ".concat(r.default.webManage,"/caseLibrary/authorize/list"),activelistApi:"GET ".concat(r.default.webManage,"/caseLibrary/getCaseLibraryList"),createtablelistApi:"GET ".concat(r.default.webManage,"/caseLibrary/getClassify"),editinfoApi:"GET ".concat(r.default.webManage,"/caseLibrary/view"),activeupApi:"GET ".concat(r.default.webManage,"/caseLibrary/release"),activedownApi:"GET ".concat(r.default.webManage,"/caseLibrary/putDown"),activedelApi:"GET ".concat(r.default.webManage,"/caseLibrary/delete"),reviewlistApi:"GET ".concat(r.default.webManage,"/studentCase/list"),reviewlistnumApi:"GET ".concat(r.default.webManage,"/studentCase/list/getCount"),auditOrScoreViewApi:"GET ".concat(r.default.webManage,"/studentCase/auditOrScoreView"),exexportApi:"GET ".concat(r.default.webManage,"/studentCase/list/export"),saveCaseScopeApi:"POST ".concat(r.default.webManage,"/caseLibrary/authorize/insert"),createinsertApi:"POST ".concat(r.default.webManage,"/caseLibrary/insert"),reviewBatchAuditApi:"POST ".concat(r.default.webManage,"/studentCase/batchAudit"),reviewBatchScoreApi:"POST ".concat(r.default.webManage,"/studentCase/batchScore"),batchExportApi:"POST ".concat(r.default.webManage,"/studentCase/batchExport"),exexportshApi:"POST ".concat(r.default.webManage,"/studentCase/auditList/export"),exexportpfApi:"POST ".concat(r.default.webManage,"/studentCase/scoreList/export"),importpfApi:"POST ".concat(r.default.webManage,"/studentCase/scoreList/import"),importshApi:"POST ".concat(r.default.webManage,"/studentCase/auditList/import")}};t.default=i},1331:function(e,t,a){e.exports={Caseactivtiy:"Caseactivtiy__3cRG_",material_search:"material_search__2JyCI","ant-select-tree-dropdown":"ant-select-tree-dropdown__V690s","ant-form-item":"ant-form-item__3ETv_","ant-form-item-control-wrapper":"ant-form-item-control-wrapper__2D8G4",top:"top__3N7DY",basepag:"basepag__14Bd-","case-review":"case-review__26nsq","review-form":"review-form__2IXcz",case_judge_small_title:"case_judge_small_title__1EQxl",case_judge_xs_title:"case_judge_xs_title__3BIyp",case_score_desc:"case_score_desc__yL1HQ",desc_title:"desc_title__QxPuZ",case_score_desc_content:"case_score_desc_content__SIIKZ"}},2138:function(e,t,a){"use strict";var n=a(4),r=a(0);a(7),a(154),a(44),a(43),a(51),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(616);var i=r(a(617));a(140);var l=r(a(535)),c=r(a(98));a(556);var s=r(a(553));a(61);var u=r(a(62)),o=r(a(29)),d=r(a(30)),f=r(a(59)),p=r(a(32)),v=r(a(33)),m=r(a(31)),h=r(a(2));a(554);var g=r(a(550));a(540);var y=r(a(539));a(537);var b=r(a(536)),w=n(a(1)),E=(a(52),a(65)),x=r(a(628)),_=(r(a(223)),n(a(1288))),A=r(a(1331)),S=r(a(2139)),C=r(a(226));function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var L=b.default.TextArea,I=(y.default.Item,g.default.Option,location.pathname.split("/")[1]),M=location.pathname.split("/")[2],T={labelCol:{xs:{span:1},sm:{span:1}},wrapperCol:{xs:{span:1},sm:{span:16}}},G=function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,m.default)(t);if(O()){var n=(0,m.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,v.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),t=a.call(this,e),(0,h.default)((0,f.default)(t),"onChange",(function(e){t.setState({value1:e.target.value},(function(){console.log("998877",t.state.value1)}))})),(0,h.default)((0,f.default)(t),"score",(function(){var e=t.state,a=e.info,n=e.scoreObj;if("4"==parseInt(a.scoreRule))if(n){var r=[];for(var i in n){var l={};l.caseLibraryDimensionGradeId=i,l.score=n[i],r.push(l)}if(!r||!r.length)return void u.default.info("请至少对一个维度进行评分");var c={idList:[t.state.studentCaseId],score:"",studentCaseDimensionGradeRecordVOS:r};_.reviewBatchScore(c).then((function(e){1e3==e.code&&(u.default.success("评分成功"),t.props.history.push({pathname:"/".concat(I,"/").concat(M,"/index/tool/caseadmin/casereview"),state:{id:t.props.location.state.caseLibraryId}}))}))}else u.default.info("请至少对一个维度进行评分");else t.props.form.validateFields((function(e,a){if(console.log("Received values of form: ",a),!e){var n={idList:[t.state.studentCaseId],score:a.num};_.reviewBatchScore(n).then((function(e){1e3==e.code&&(u.default.success("评分成功"),t.props.history.push({pathname:"/".concat(I,"/").concat(M,"/index/tool/caseadmin/casereview"),state:{id:t.props.location.state.caseLibraryId}}))}))}}))})),t.state={info:"",value1:"",scoreObj:{},studentCaseId:t.props.location.state.studentCaseId},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){console.log(111,this.props.location.state),this.info(this.props.location.state.studentCaseId)}},{key:"info",value:function(e){var t=this;this.props.form.resetFields("");var a={caseLibraryId:this.props.location.state.caseLibraryId,state:this.props.location.state.state,studentCaseId:e};_.auditOrScoreView(a).then((function(e){1e3==e.code&&t.setState({info:e.data,studentCaseId:e.data.studentCaseId})}))}},{key:"examine",value:function(){var e=this;this.props.form.validateFields((function(t,a){if(console.log("批量修补: ",e.state.studentCaseId),!t){var n={idList:[e.state.studentCaseId],auditState:a.pass,audiEvaluate:a.description};_.reviewBatchAudit(n).then((function(t){1e3==t.code&&(u.default.success("审核成功"),e.props.history.push({pathname:"/".concat(I,"/").concat(M,"/index/tool/caseadmin/casereview"),state:{id:e.props.location.state.caseLibraryId}}))}))}}))}},{key:"cancel",value:function(){this.props.history.push({pathname:"/".concat(I,"/").concat(M,"/index/tool/caseadmin/casereview"),state:{id:this.props.location.state.caseLibraryId}})}},{key:"render",value:function(){var e=this;console.log("批量修补: ",this.state.studentCaseId);var t=this.state,a=t.info,n=t.value1,r=t.scoreObj,u=this.props.form.getFieldDecorator,o=this.props.location.state.type;console.log(1111e3,a&&a.auditState);var d=[];return a&&(d=a.caseLibraryDimensionGradeVOS),w.default.createElement("div",{style:{padding:"40px"},className:"case-review"},w.default.createElement(C.default,{title:"作品审核"}),w.default.createElement(S.default,{info:a,move:this.info.bind(this)}),1==o?w.default.createElement("div",null,w.default.createElement("h2",null,"作品审核"),w.default.createElement(y.default,null,w.default.createElement(y.default.Item,(0,c.default)({label:"审核"},T),u("pass",{rules:[{required:!0,message:"选择审核选项！"}],initialValue:a.auditState?a.auditState:""})(w.default.createElement(s.default.Group,{onChange:this.onChange},w.default.createElement(s.default,{value:1},"通过"),w.default.createElement(s.default,{value:2},"不通过")))),w.default.createElement(y.default.Item,(0,c.default)({label:"反馈"},T),u("description",{rules:[{validator:function(e,t,a){(0,x.default)(e,t,a,"不能超过300字",300)}}],initialValue:a.auditEvaluate?a.auditEvaluate:""})(w.default.createElement(L,{disabled:a&&0==a.auditState&&""==n,placeholder:"输入反馈内容",rows:4})))),w.default.createElement("div",{style:{height:"150px",textAlign:"center"}},w.default.createElement(l.default,{type:"primary",style:{marginRight:"30px"},onClick:function(){return e.cancel()}},"取消"),w.default.createElement(l.default,{type:"primary",onClick:function(){return e.examine()}}," ","审核"))):w.default.createElement("div",null,w.default.createElement("h2",null,"作品评分"),4==a.scoreRule?w.default.createElement("div",null,d&&d.map((function(e){return w.default.createElement("div",null,w.default.createElement("div",{className:A.default.case_judge_small_title},e.name),w.default.createElement(i.default,{style:{width:480,height:42,lineHeight:"42px",marginTop:16,marginBottom:8},onChange:function(t){t?r[e.id]=t:delete r[e.id]},precision:0,step:1,max:e.maxScore,min:e.minScore}),w.default.createElement("div",{className:A.default.case_judge_xs_title},"评分区间：",e.minScore,"-",e.maxScore,",分值为整数"))})),w.default.createElement("div",{className:A.default.case_score_desc},w.default.createElement("div",{className:A.default.desc_title},"评分说明"),w.default.createElement("div",{className:A.default.case_score_desc_content,dangerouslySetInnerHTML:{__html:a.caseLibraryDimensionGradeDescription}}))):w.default.createElement(y.default,null,w.default.createElement(y.default.Item,(0,c.default)({label:"审核"},T),u("num",{rules:[{required:!0,message:"填写分数！"}],initialValue:a.score?a.score:""})(w.default.createElement(i.default,{style:{width:"200px"},max:100})),w.default.createElement("span",{style:{marginLeft:"20px"}},"满分100分，只可以为整数。"))),w.default.createElement("div",{style:{height:"150px",textAlign:"center"}},w.default.createElement(l.default,{type:"primary",style:{marginRight:"30px"},onClick:function(){return e.cancel()}},"取消"),w.default.createElement(l.default,{type:"primary",onClick:function(){return e.score()}}," ","评分"))))}}]),n}(w.Component),P=(0,E.withRouter)(y.default.create()(G));t.default=P},2139:function(e,t,a){"use strict";var n=a(4),r=a(0);a(43),a(51),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(29)),l=r(a(30)),c=r(a(32)),s=r(a(33)),u=r(a(31));a(554);var o=r(a(550));a(540);var d=r(a(539)),f=n(a(1)),p=(a(52),a(636),r(a(223)));function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}d.default.Item,o.default.Option,location.pathname.split("/")[1],location.pathname.split("/")[2];var m=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,u.default)(t);if(v()){var n=(0,u.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,s.default)(this,e)});function n(e){var t;return(0,i.default)(this,n),(t=a.call(this,e)).state={},t}return(0,l.default)(n,[{key:"move",value:function(e){this.props.move(e)}},{key:"render",value:function(){var e=this,t=this.props.info;return console.log("info",t),f.default.createElement("div",null,f.default.createElement("div",{style:{width:"100%",float:"left",marginBottom:"15px",height:"200px"}},f.default.createElement("div",{style:{width:"30%",float:"left"}},f.default.createElement("img",{style:{height:"200px"},src:t&&t.logoUrl})),f.default.createElement("div",{style:{width:"50%",float:"left",paddingLeft:"100px"}},f.default.createElement("h3",null,t&&t.title),f.default.createElement("p",null,"作者：",t&&t.authorName),f.default.createElement("p",null,"时间：",t&&(0,p.default)(t.createTime).format("YYYY-MM-DD HH:mm:ss"))),f.default.createElement("div",{style:{width:"20%",float:"left",textAlign:"center"}},t.prefixId?f.default.createElement("a",{style:{marginRight:"12px"},onClick:function(){return e.move(t.prefixId)}},"《  上一篇"):null,t.suffixId?f.default.createElement("a",{onClick:function(){return e.move(t.suffixId)}},"下一篇  》"):null)),f.default.createElement("div",{style:{marginBottom:"15px"}},f.default.createElement("div",{dangerouslySetInnerHTML:{__html:t&&t.content}})),f.default.createElement("div",{style:{float:"left",width:"100%"}},f.default.createElement("div",{style:{width:"5%",float:"left"}},"附件："),f.default.createElement("div",{style:{float:"left"}},t&&t.accessoryUrlList.map((function(e,t){return f.default.createElement("p",{key:t},f.default.createElement("a",{href:e.url,target:"_blank"},e.name))})))),f.default.createElement("div",{style:{float:"left",width:"100%"}},f.default.createElement("div",{style:{width:"20%",float:"right"}},f.default.createElement("div",{style:{textAlign:"center"}},t.prefixId?f.default.createElement("a",{style:{marginRight:"12px"},onClick:function(){return e.move(t.prefixId)}},"《  上一篇"):null,t.suffixId?f.default.createElement("a",{onClick:function(){return e.move(t.suffixId)}},"下一篇  》"):null))),f.default.createElement("div",{style:{clear:"both"}}),f.default.createElement("div",{style:{borderBottom:"1px solid #ccc",margin:"10px 0px"}}))}}]),n}(f.Component);t.default=m},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},540:function(e,t,a){"use strict";a.r(t);a(26),a(577),a(584)},550:function(e,t,a){e.exports=a(11)(94)},553:function(e,t,a){e.exports=a(11)(206)},554:function(e,t,a){"use strict";a.r(t);a(26),a(1021),a(655)},556:function(e,t,a){"use strict";a.r(t);a(26),a(1016)},577:function(e,t,a){},586:function(e,t,a){},616:function(e,t,a){"use strict";a.r(t);a(26),a(652)},617:function(e,t,a){e.exports=a(11)(824)},628:function(e,t,a){"use strict";a(156),a(35),a(23),a(228),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,r){var i=[];new RegExp(/^\s+/,"i");t||(t="");""===t.trim()&&t.length>0&&i.push(new Error(n,e.field));0==t.length&&e.required&&i.push(new Error(n,e.field));t.length>r&&i.push(new Error("最多支持输入"+r+"个字符以内",e.field));a(i)}},636:function(e,t,a){e.exports=a(46)(174)},652:function(e,t,a){},655:function(e,t,a){"use strict";a(26),a(1015)}}]);