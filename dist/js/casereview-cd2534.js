(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{1288:function(e,t,a){"use strict";var n=a(0);a(7),a(3),a(5),a(9),a(10),a(8),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.importsh=t.importpf=t.exexportpf=t.exexportsh=t.exexport=t.batchExport=t.auditOrScoreView=t.reviewBatchScore=t.reviewBatchAudit=t.reviewlistnum=t.reviewlist=t.activedel=t.activedown=t.activeup=t.editinfo=t.createinsert=t.createtablelist=t.activelist=t.saveCaseScope=t.getSelectedUser=t.getUserGroup=t.getCaseSubmitterInfo=t.caseSubmit=t.getCaseInfo=t.classOffLine=t.classOnLine=t.classdelete=t.classsort=t.classedit=t.classlist=t.craeateoneclass=void 0;var l=n(a(2)),r=n(a(1314)),i=n(a(76));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o=r.default.common,c=o.craeateoneclassApi,d=o.classlistApi,f=o.classeditApi,p=o.classsortApi,m=o.classdeleteApi,h=o.classOnLineApi,v=o.classOffLineApi,g=o.getCaseInfoApi,y=o.caseSubmitApi,b=o.getCaseSubmitterInfoApi,w=o.getUserGroupApi,E=o.getSelectedUserApi,x=o.activelistApi,S=o.createtablelistApi,C=o.editinfoApi,k=o.activeupApi,A=o.activedownApi,_=o.activedelApi,O=o.reviewlistApi,L=o.reviewlistnumApi,T=o.auditOrScoreViewApi,I=o.exexportApi,N=o.saveCaseScopeApi,R=o.createinsertApi,P=o.reviewBatchAuditApi,M=o.reviewBatchScoreApi,U=o.batchExportApi,F=o.exexportshApi,D=o.exexportpfApi,G=o.importpfApi,j=o.importshApi;t.craeateoneclass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:c,data:e})};t.classlist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:d,data:e})};t.classedit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:f,data:e})};t.classsort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:p,data:e})};t.classdelete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:m,data:e})};t.classOnLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:h,data:e})};t.classOffLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:v,data:e})};t.getCaseInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:g,data:e})};t.caseSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:y,data:e})};t.getCaseSubmitterInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:b,data:e})};t.getUserGroup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:w,data:e})};t.getSelectedUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:E,data:e})};t.saveCaseScope=function(e){return(0,i.default)({url:N,data:e})};t.activelist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:x,data:e})};t.createtablelist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:S,data:e})};t.createinsert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:R,data:e})};t.editinfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:C,data:e})};t.activeup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:k,data:e})};t.activedown=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:A,data:e})};t.activedel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:_,data:e})};t.reviewlist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:O,data:e})};t.reviewlistnum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:L,data:e})};t.reviewBatchAudit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:P,data:e})};t.reviewBatchScore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:M,data:e})};t.auditOrScoreView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:T,data:e})};t.batchExport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:U,data:e})};t.exexport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:I,data:e})};t.exexportsh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:F,data:e})};t.exexportpf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:D,data:e})};t.importpf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:G,data:e})};t.importsh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=u({},e),(0,i.default)({url:j,data:e})}},1314:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(63)),r={common:{craeateoneclassApi:"POST ".concat(l.default.webManage,"/caseLibrary/classify/insert"),classlistApi:"GET ".concat(l.default.webManage,"/caseLibrary/classify/list"),classeditApi:"GET ".concat(l.default.webManage,"/caseLibrary/classify/update"),classsortApi:"GET ".concat(l.default.webManage,"/caseLibrary/classify/move"),classdeleteApi:"GET ".concat(l.default.webManage,"/caseLibrary/classify/delete"),classOnLineApi:"GET ".concat(l.default.webManage,"/caseLibrary/classify/release"),classOffLineApi:"GET ".concat(l.default.webManage,"/caseLibrary/classify/putDown"),getCaseInfoApi:"GET ".concat(l.default.webManage,"/studentCase/prepareStudentCase"),caseSubmitApi:"POST ".concat(l.default.base,"/web-student/api/studentCase/submit"),getCaseSubmitterInfoApi:"GET ".concat(l.default.systemManage,"/account/name/search"),getUserGroupApi:"GET ".concat(l.default.systemManage,"/org/userGroup/list"),getSelectedUserApi:"GET ".concat(l.default.webManage,"/caseLibrary/authorize/list"),activelistApi:"GET ".concat(l.default.webManage,"/caseLibrary/getCaseLibraryList"),createtablelistApi:"GET ".concat(l.default.webManage,"/caseLibrary/getClassify"),editinfoApi:"GET ".concat(l.default.webManage,"/caseLibrary/view"),activeupApi:"GET ".concat(l.default.webManage,"/caseLibrary/release"),activedownApi:"GET ".concat(l.default.webManage,"/caseLibrary/putDown"),activedelApi:"GET ".concat(l.default.webManage,"/caseLibrary/delete"),reviewlistApi:"GET ".concat(l.default.webManage,"/studentCase/list"),reviewlistnumApi:"GET ".concat(l.default.webManage,"/studentCase/list/getCount"),auditOrScoreViewApi:"GET ".concat(l.default.webManage,"/studentCase/auditOrScoreView"),exexportApi:"GET ".concat(l.default.webManage,"/studentCase/list/export"),saveCaseScopeApi:"POST ".concat(l.default.webManage,"/caseLibrary/authorize/insert"),createinsertApi:"POST ".concat(l.default.webManage,"/caseLibrary/insert"),reviewBatchAuditApi:"POST ".concat(l.default.webManage,"/studentCase/batchAudit"),reviewBatchScoreApi:"POST ".concat(l.default.webManage,"/studentCase/batchScore"),batchExportApi:"POST ".concat(l.default.webManage,"/studentCase/batchExport"),exexportshApi:"POST ".concat(l.default.webManage,"/studentCase/auditList/export"),exexportpfApi:"POST ".concat(l.default.webManage,"/studentCase/scoreList/export"),importpfApi:"POST ".concat(l.default.webManage,"/studentCase/scoreList/import"),importshApi:"POST ".concat(l.default.webManage,"/studentCase/auditList/import")}};t.default=r},1331:function(e,t,a){e.exports={Caseactivtiy:"Caseactivtiy__3cRG_",material_search:"material_search__2JyCI","ant-select-tree-dropdown":"ant-select-tree-dropdown__V690s","ant-form-item":"ant-form-item__3ETv_","ant-form-item-control-wrapper":"ant-form-item-control-wrapper__2D8G4",top:"top__3N7DY",basepag:"basepag__14Bd-","case-review":"case-review__26nsq","review-form":"review-form__2IXcz",case_judge_small_title:"case_judge_small_title__1EQxl",case_judge_xs_title:"case_judge_xs_title__3BIyp",case_score_desc:"case_score_desc__yL1HQ",desc_title:"desc_title__QxPuZ",case_score_desc_content:"case_score_desc_content__SIIKZ"}},1448:function(e,t,a){"use strict";var n=a(4),l=a(0);a(143),a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(98));a(580);var i=l(a(571));a(140);var s=l(a(535));a(99);var u=l(a(100));a(61);var o=l(a(62)),c=l(a(29)),d=l(a(30)),f=l(a(59)),p=l(a(32)),m=l(a(33)),h=l(a(31)),v=l(a(2));a(540);var g=l(a(539)),y=n(a(1)),b=a(52),w=a(561);function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}a(671);var x=g.default.Item,S={labelCol:{xs:{span:10},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}},C=function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,h.default)(t);if(E()){var n=(0,h.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,v.default)((0,f.default)(t),"beforeUpload",(function(e,a){if(t.props.defaultUrl?t.props.gupList(t.props.defaultUrl):t.props.gupList([]),a.length>1)return o.default.error("一次只能导入一个文件"),void t.setState({fileList:[]});if(!/(xls|xlsx)$/g.test(e.name))return o.default.error("文件类型不对"),!1;t.setState({fileList:a});var n=t.props.param,l=(new Date).getTime();t.setState({uploadParams:{Filename:n.dir+"/"+l+e.name,key:n.dir+"/"+l+e.name,policy:n.policy,OSSAccessKeyId:n.accessid,success_action_status:"200",signature:n.signature},uploadAction:n.host,originalFile:e.name,originalFileUrl:n.host+"/"+n.dir+"/"+e.name},(function(){t.props.getUrl&&t.props.getUrl(n.host+"/"+n.dir+"/"+l+e.name,e.name)}))})),(0,v.default)((0,f.default)(t),"handleChange",(function(e){var a=e.fileList;"done"===(a=a.slice(-1)).status&&t.setState({fileList:a}),"error"===a.status&&(o.default.error("上传失败，请重新尝试"),t.setState({fileList:[]}))})),(0,v.default)((0,f.default)(t),"normFile",(function(e){return Array.isArray(e)?e:e&&t.state.fileList})),t.state={uploadParams:{},uploadAction:{},originalFile:"",originalFileUrl:"",fileList:[],key:""},t.props.defaultUrl&&t.props.gupList(t.props.defaultUrl),t.props.gupfetch(),t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.props.gupfetch()}},{key:"down",value:function(e){e.stopPropagation(),window.location.href=this.props.downurl}},{key:"render",value:function(){var e=this,t=this.state,a=t.uploadAction,n=t.uploadParams,l=this.props.form.getFieldDecorator;return console.log("sda",this.props.defaultUrl),y.default.createElement(g.default,null,y.default.createElement(x,(0,r.default)({label:this.props.labname},S),l("upload",{valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:this.props.defaultUrl})(y.default.createElement(i.default,{style:{display:"inline-block"},headers:{"X-Requested-With":null},beforeUpload:this.beforeUpload,action:a,data:n,listType:"text",disabled:this.props.disabled,onChange:this.handleChange,onRemove:function(){return e.setState({fileList:[]})}},y.default.createElement(s.default,{type:this.props.uploadUtilName?"primary":"",style:{marginRight:"20px"},disabled:this.props.disabled},this.props.uploadUtilName?this.props.uploadUtilName:y.default.createElement(u.default,{type:"upload"})),y.default.createElement("a",{onClick:function(t){return e.down(t)},disabled:this.props.disabled},this.props.downname))),this.state.fileList.length>0||this.props.submitterAccessName||this.props.auditorAccessName||this.props.scorerAccessName?null:y.default.createElement("p",null,"您还未上传任何数据哦~")))}}]),n}(y.Component);var k=g.default.create()((0,b.connect)((function(e,t){return{param:e.uploadParam.param}}),(function(e){return{gupfetch:function(){return e((0,w.gupfetch)())},gupList:function(t){return e((0,w.gupList)(t))}}}))(g.default.create()(C)));t.default=k},2137:function(e,t,a){"use strict";var n=a(4),l=a(0);a(7),a(154),a(44),a(3),a(5),a(82),a(103),a(43),a(51),a(9),a(10),a(8),a(20),a(34),a(35),a(23),a(905),a(84),a(148),a(53),a(6),a(151),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(616);var r=l(a(617)),i=l(a(98));a(556);var s=l(a(553));a(224);var u=l(a(225));a(569);var o=l(a(558));a(549);var c=l(a(544));a(574);var d=l(a(565));a(578);var f=l(a(570));a(140);var p=l(a(535)),m=l(a(79));a(144);var h=l(a(230));a(61);var v=l(a(62)),g=l(a(29)),y=l(a(30)),b=l(a(59)),w=l(a(32)),E=l(a(33)),x=l(a(31)),S=l(a(2));a(554);var C=l(a(550));a(540);var k=l(a(539));a(537);var A=l(a(536)),_=n(a(1)),O=a(65),L=l(a(226)),T=l(a(628)),I=l(a(1448)),N=l(a(223)),R=n(a(1288));function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,S.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function U(e){return function(){var t,a=(0,x.default)(e);if(F()){var n=(0,x.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,E.default)(this,t)}}function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}a(1331);var D=A.default.TextArea,G=k.default.Item,j=C.default.Option,B=location.pathname.split("/")[1],K=location.pathname.split("/")[2],V={labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},Y=function(e){(0,w.default)(a,e);var t=U(a);function a(e){var n;return(0,g.default)(this,a),n=t.call(this,e),(0,S.default)((0,b.default)(n),"handleSearch",(function(){n.props.form.validateFields((function(e,t){if(console.log("Received values of form: ",t),!e){var a={caseLibraryId:n.state.caseLibraryId,studentCaseName:t.title,accountName:t.accountName,state:t.status?t.status:n.state.status,orgName:t.orgName,pageNo:n.state.pageNo,pageSize:n.state.pageSize};R.reviewlist(a).then((function(e){1e3==e.code&&n.setState({data:e.data.records})}))}}))})),(0,S.default)((0,b.default)(n),"handlePageChange",(function(e){console.log(e);var t=(0,b.default)(n);n.setState({pageNo:e},(function(){t.list()}))})),(0,S.default)((0,b.default)(n),"saveFormRef",(function(e){n.formRef=e})),n.state={data:[],status:"",examine:!1,score:!1,excel:!1,pageNo:1,pageSize:10,caseLibraryId:n.props.location.state.id,totalsur:0,checkArrForBatch:[],selectedRows:[],selectedRowKeys:[],num1:0,num2:0,num3:0},n}return(0,y.default)(a,[{key:"componentDidMount",value:function(){this.list(),this.listnum()}},{key:"list",value:function(){var e=this,t={caseLibraryId:this.props.location.state.id,studentCaseName:"",accountName:"",state:this.state.status,orgName:"",pageNo:this.state.pageNo,pageSize:this.state.pageSize};R.reviewlist(t).then((function(t){1e3==t.code&&(console.log(t,e.state.selectedRows),e.setState({data:t.data.records,totalsur:t.page.total}))}))}},{key:"listnum",value:function(){var e=this,t={caseLibraryId:this.props.location.state.id};R.reviewlistnum(t).then((function(t){1e3==t.code&&e.setState({num1:t.data.total,num2:t.data.waitAuditNumber,num3:t.data.waitScoreNumber})}))}},{key:"go",value:function(e,t){console.log(11,t),console.log("go-status",this.state.status);var a={caseLibraryId:this.state.caseLibraryId,state:this.state.status?this.state.status:2==e?5:"",studentCaseId:t.studentCaseId};this.props.history.push({pathname:"/".concat(B,"/").concat(K,"/index/tool/caseadmin/caseexamine"),state:M({type:e},a)})}},{key:"tab",value:function(e){var t=this;this.setState({status:e,pageNo:1,selectedRows:[],selectedRowKeys:[]},(function(){t.list(),t.props.form.resetFields()})),console.log(this.state.pageNo)}},{key:"handleOkexamine",value:function(){var e=this;this.formRef.props.form.validateFields((function(t,a){if(!t)if(console.log("examine",a),0!=e.state.selectedRows.length){var n={idList:e.idlist(e.state.selectedRows),auditState:a.pass,audiEvaluate:a.description};R.reviewBatchAudit(n).then((function(t){1e3==t.code&&(v.default.success("批量审核成功"),e.list(),e.listnum(),e.setState({selectedRowKeys:[],selectedRows:[],examine:!1}))}))}else v.default.error("请批量勾选")}))}},{key:"idlist",value:function(e){var t=[];return e&&e.map((function(e,a){t.push(e.studentCaseId)})),t}},{key:"handleCancelexamine",value:function(){this.setState({examine:!1})}},{key:"handleOkscore",value:function(){var e=this;this.formRef.props.form.validateFields((function(t,a){if(!t)if(console.log("score",a),0!=e.state.selectedRows.length){var n={idList:e.idlist(e.state.selectedRows),score:a.score};R.reviewBatchScore(n).then((function(t){1e3==t.code&&(v.default.success("批量评分成功"),e.list(),e.listnum(),e.setState({selectedRowKeys:[],selectedRows:[],score:!1}))}))}else v.default.error("请批量勾选")}))}},{key:"handleCancelscore",value:function(){this.setState({score:!1})}},{key:"handleOkexcel",value:function(){var e=this;if(console.log("ex",this.state.url1),1==this.state.text){var t={ossUrl:this.state.url1};R.importpf(t).then((function(t){1e3==t.code?(v.default.success(t.data),e.setState({excel:!1})):v.default.error(t.subMsg)}))}else{var a={ossUrl:this.state.url1};R.importsh(a).then((function(t){1e3==t.code?(v.default.success(t.data),e.setState({excel:!1})):v.default.error(t.subMsg)}))}}},{key:"handleCancelexcel",value:function(){this.setState({excel:!1})}},{key:"down",value:function(e){var t=this;if(1==e){var a={idList:this.idlist(this.state.selectedRows)};R.batchExport(a).then((function(e){1e3==e.code?(v.default.success(e.data),t.setState({selectedRowKeys:[]})):v.default.error(e.subMsg)}))}if(2==e&&this.props.form.validateFields((function(e,a){if(console.log("Received values of form: ",a),!e){var n={studentCaseName:a.title,accountName:a.name,caseLibraryId:t.state.caseLibraryId};R.exexport(n).then((function(e){1e3==e.code?v.default.success(e.data):v.default.error(e.subMsg)}))}})),3==e){var n={studentCaseIds:this.idlist(this.state.selectedRows)};R.exexportsh(n).then((function(e){1e3==e.code?(v.default.success(e.data),t.setState({selectedRowKeys:[]})):v.default.error(e.subMsg)}))}if(4==e){var l={studentCaseIds:this.idlist(this.state.selectedRows)};R.exexportpf(l).then((function(e){1e3==e.code?(v.default.success(e.data),t.setState({selectedRowKeys:[]})):v.default.error(e.subMsg)}))}}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.data,l=[{title:"作品标题",dataIndex:"studentCaseTitle",key:"studentCaseTitle"},{title:"用户名",dataIndex:"accountName",key:"accountName"},{title:"姓名",dataIndex:"accountFullName",key:"accountFullName"},{title:"提交时间",dataIndex:"submitTime",key:"submitTime",render:function(e,t){return _.default.createElement("span",null,(0,N.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"审核人",dataIndex:"auditorFullNames",key:"auditorFullNames",render:function(e,t){return _.default.createElement(h.default,{title:e},_.default.createElement("span",null,e.split(",")[0]))}},{title:"评分人",dataIndex:"scorerFullNames",key:"scorerFullNames",render:function(e,t){return _.default.createElement(h.default,{title:e},_.default.createElement("span",null,e.split(",")[0]))}},{title:"作品状态",dataIndex:"state",key:"state"},{title:"操作",dataIndex:"aa",key:"aa",render:function(t,a){return _.default.createElement("div",null,1==a.handleType?_.default.createElement("div",null,_.default.createElement("a",{style:{marginRight:"10px"},onClick:function(){return e.go(1,a)}},"审核"),_.default.createElement("a",{onClick:function(){return e.go(2,a)}},"评分")):_.default.createElement("a",{style:{marginRight:"10px"},onClick:function(){return e.go(1,a)}},"审核"))}}],r=[{title:"作品标题",dataIndex:"studentCaseTitle",key:"studentCaseTitle"},{title:"用户名",dataIndex:"accountName",key:"accountName"},{title:"姓名",dataIndex:"accountFullName",key:"accountFullName"},{title:"所在部门",dataIndex:"orgName",key:"orgName"},{title:"提交时间",dataIndex:"submitTime",key:"submitTime",render:function(e,t){return _.default.createElement("span",null,(0,N.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"审核人",dataIndex:"auditorFullNames",key:"auditorFullNames",render:function(e,t){return _.default.createElement(h.default,{title:e},_.default.createElement("span",null,e.split(",")[0]))}},{title:"操作",dataIndex:"aa",key:"aa",render:function(t,a){return _.default.createElement("div",null,_.default.createElement("a",{style:{marginRight:"10px"},onClick:function(){return e.go(1,a)}},"审核"))}}],i=[{title:"作品标题",dataIndex:"studentCaseTitle",key:"studentCaseTitle"},{title:"用户名",dataIndex:"accountName",key:"accountName"},{title:"姓名",dataIndex:"accountFullName",key:"accountFullName"},{title:"所在部门",dataIndex:"orgName",key:"orgName"},{title:"审核时间",dataIndex:"auditTime",key:"auditTime",render:function(e,t){return _.default.createElement("span",null,(0,N.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"评分人",dataIndex:"scorerFullNames",key:"scorerFullNames",render:function(e,t){return _.default.createElement(h.default,{title:e},_.default.createElement("span",null,e.split(",")[0]))}},{title:"操作",dataIndex:"aa",key:"aa",render:function(t,a){return _.default.createElement("div",null,_.default.createElement("a",{style:{marginRight:"10px"},onClick:function(){return e.go(2,a)}},"评分"))}}],s={labname:"导入文件",getUrl:function(t,a){console.log(111,t),e.setState({url1:t,fileName1:a})}},v={selectedRowKeys:a.selectedRowKeys,onChange:function(t,a){console.log("selectedRowKeys: ".concat(t),"selectedRows: ",a);var n=(0,m.default)(new Set([].concat((0,m.default)(e.state.checkArrForBatch),(0,m.default)(a)))).filter((function(e){return t.includes(e.id)}));e.setState({selectedRows:a,selectedRowKeys:t,checkArrForBatch:n})}};return 3==this.state.status&&(v.getCheckboxProps=function(e){return{disabled:4===e.scoreRule}}),_.default.createElement("div",{style:{padding:"20px"},className:"case-review"},_.default.createElement(L.default,{title:"作品评审"}),_.default.createElement("div",{style:{marginLeft:"20px"}},_.default.createElement(p.default,{type:""==this.state.status?"primary":"",style:{marginRight:"20px"},onClick:function(){return e.tab("")}}," ","所有作品（",this.state.num1,"）"),_.default.createElement(p.default,{type:1==this.state.status?"primary":"",style:{marginRight:"20px"},onClick:function(){return e.tab(1)}}," ","待审核（",this.state.num2,"）"),_.default.createElement(p.default,{type:3==this.state.status?"primary":"",onClick:function(){return e.tab(3)}}," ","待评分（",this.state.num3,"）")),_.default.createElement(k.default,{className:"review-form",onSubmit:this.handleSearch},_.default.createElement(d.default,null,_.default.createElement(f.default,{span:5,key:1},_.default.createElement(G,{label:"作品关键字："},t("title")(_.default.createElement(A.default,{placeholder:"请输入作品标题"})))),_.default.createElement(f.default,{span:5,key:14},_.default.createElement(G,{label:"用户关键字"},t("accountName")(_.default.createElement(A.default,{placeholder:"请输入用户名/姓名"})))),""==this.state.status?_.default.createElement(f.default,{span:5,key:3},_.default.createElement(G,{label:"状态："},t("status",{initialValue:this.state.status})(_.default.createElement(C.default,{style:{width:120,zIndex:1}},_.default.createElement(j,{value:""},"全部"),_.default.createElement(j,{value:1},"待审核"),_.default.createElement(j,{value:2},"不通过"),_.default.createElement(j,{value:3},"待评分"),_.default.createElement(j,{value:4},"已评分"))))):null,_.default.createElement(f.default,{span:2,key:4},_.default.createElement(p.default,{type:"primary",style:{marginTop:"4px"},onClick:this.handleSearch},"查询")),""==this.state.status?_.default.createElement("div",null,_.default.createElement(f.default,{span:2,key:5},_.default.createElement(p.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.down(1)}},"导出作品")),_.default.createElement(f.default,{span:2,key:6},_.default.createElement(p.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.down(2)}},"下载报表"))):null,1==this.state.status?_.default.createElement("div",null,_.default.createElement(f.default,{span:2,key:7},_.default.createElement(p.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.setState({examine:!0})}},"批量审核")),_.default.createElement(f.default,{span:3,key:8},_.default.createElement(p.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.down(3)}},"导出待审核作品")),_.default.createElement(f.default,{span:2,key:9},_.default.createElement(p.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.setState({excel:!0,text:2})}},"导入审核结果"))):null,3==this.state.status?_.default.createElement("div",null,_.default.createElement(f.default,{span:2,key:10},_.default.createElement(p.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.setState({score:!0})}},"批量评分")),_.default.createElement(f.default,{span:3,key:11},_.default.createElement(p.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.down(4)}},"导出待评分作品")),_.default.createElement(f.default,{span:2,key:12},_.default.createElement(p.default,{type:"primary",style:{marginTop:"4px"},onClick:function(){return e.setState({excel:!0,text:1})}},"导入评分结果"))):null)),_.default.createElement("div",null,""==this.state.status?_.default.createElement(c.default,{rowSelection:v,rowKey:function(e){return e.studentCaseId},columns:l,dataSource:n,pagination:!1}):null,1==this.state.status?_.default.createElement(c.default,{rowSelection:v,rowKey:function(e){return e.studentCaseId},columns:r,dataSource:n,pagination:!1}):null,3==this.state.status?_.default.createElement(c.default,{rowSelection:v,rowKey:function(e){return e.studentCaseId},columns:i,dataSource:n,pagination:!1}):null,_.default.createElement(o.default,{className:"basepag",total:this.state.totalsur,showQuickJumper:!0,onChange:this.handlePageChange})),_.default.createElement(u.default,{width:500,title:"批量审核",visible:this.state.examine,onOk:this.handleOkexamine.bind(this),onCancel:this.handleCancelexamine.bind(this),destroyOnClose:1},_.default.createElement(z,{num:this.state.selectedRows.length,wrappedComponentRef:this.saveFormRef})),_.default.createElement(u.default,{width:500,title:"批量审核",visible:this.state.score,onOk:this.handleOkscore.bind(this),onCancel:this.handleCancelscore.bind(this),destroyOnClose:1},_.default.createElement(H,{num:this.state.selectedRows.length,wrappedComponentRef:this.saveFormRef})),_.default.createElement(u.default,{width:500,title:1==this.state.text?"导入评分结果":"导入审核结果",visible:this.state.excel,onOk:this.handleOkexcel.bind(this),onCancel:this.handleCancelexcel.bind(this),destroyOnClose:1},_.default.createElement(I.default,s)))}}]),a}(_.Component),z=k.default.create()(function(e){(0,w.default)(a,e);var t=U(a);function a(e){var n;return(0,g.default)(this,a),(n=t.call(this,e)).state={},n}return(0,y.default)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return _.default.createElement("div",null,_.default.createElement(k.default,null,_.default.createElement("div",{style:{textAlign:"center"}},_.default.createElement("p",null,"您当前正在审核",this.props.num,"位用户的作品")),_.default.createElement(k.default.Item,(0,i.default)({label:"审核"},V),e("pass",{rules:[{required:!0,message:"请审核"}],initialValue:""})(_.default.createElement(s.default.Group,null,_.default.createElement(s.default,{value:1},"通过"),_.default.createElement(s.default,{value:2},"不通过")))),_.default.createElement(k.default.Item,(0,i.default)({label:"反馈"},V),e("description",{rules:[{validator:function(e,t,a){(0,T.default)(e,t,a,"不能超过50字",50)}}],initialValue:""})(_.default.createElement(D,{placeholder:"请输入子分类描述",rows:4})))))}}]),a}(_.Component)),H=k.default.create()(function(e){(0,w.default)(a,e);var t=U(a);function a(e){var n;return(0,g.default)(this,a),(n=t.call(this,e)).state={},n}return(0,y.default)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return _.default.createElement("div",null,_.default.createElement(k.default,null,_.default.createElement("div",{style:{textAlign:"center"}},_.default.createElement("p",null,"您当前正在批量评分",this.props.num,"位用户的作品")),_.default.createElement(k.default.Item,(0,i.default)({label:"审核"},V),e("score",{rules:[{required:!0,message:"请评分"}],initialValue:""})(_.default.createElement(r.default,{width:200,min:0,max:100})),_.default.createElement("p",null,"满分100分，只可以为整数。"))))}}]),a}(_.Component)),q=(0,O.withRouter)(k.default.create()(Y));t.default=q},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},553:function(e,t,a){e.exports=a(11)(206)},558:function(e,t,a){e.exports=a(11)(251)},561:function(e,t,a){"use strict";var n=a(4),l=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.gupList=function(e){return function(t){t({type:s.GET_UPLOAD_LIST,data:e})}},t.gupfetch=function(e,t){var a,n=!1,l=!1;e?(n=e.needTranscode,l=e.type,a="".concat(o,"/upload/policy?needTranscode=").concat(n,"&type=").concat(l,"&date=").concat(new Date)):a="".concat(o,"/upload/policy?date=").concat(new Date);return function(e){return(0,r.default)({url:a}).then((function(a){if("1000"===a.code){var n=JSON.parse(a.data);e({type:s.GET_UPLOAD_PARAM,data:n}),t&&t()}return a}))}},t.upvideo=function(e,t,a){return function(a){return(0,r.default)({videoUpload:c,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:s.UP_INFO,data:JSON.parse(e.data)}),t&&t())}))}},t.videoInfo=function(e,t){return function(a){return(0,r.default)({videoPlay:d,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:s.VIDEO_INFO,data:e.data}),t&&t())}))}},t.UploadUtilFile=function(e){return{type:s.GET_FILE_NAME_ADDRESS,fileAddress:e}},t.clearUpload=function(){return function(e){e({type:s.CLEARUPLOAD})}};var r=l(a(76)),i=l(a(587)),s=n(a(231)),u=i.default.common,o=u.ossUrl,c=u.videoUpload,d=u.videoPlay},565:function(e,t,a){e.exports=a(11)(170)},570:function(e,t,a){e.exports=a(11)(99)},571:function(e,t,a){e.exports=a(11)(912)},574:function(e,t,a){"use strict";a.r(t);a(26),a(584)},578:function(e,t,a){"use strict";a.r(t);a(26),a(584)},586:function(e,t,a){},587:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(63)),r={common:{ossUrl:"GET ".concat(l.default.ossUrl),videoUpload:"POST ".concat(l.default.ossUrl,"/video/upload"),videoPlay:"GET ".concat(l.default.ossUrl,"/video/play"),ossPolicy:"GET ".concat(l.default.ossUrl,"/upload/policy")}};t.default=r},616:function(e,t,a){"use strict";a.r(t);a(26),a(652)},617:function(e,t,a){e.exports=a(11)(824)},628:function(e,t,a){"use strict";a(156),a(35),a(23),a(228),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,l){var r=[];new RegExp(/^\s+/,"i");t||(t="");""===t.trim()&&t.length>0&&r.push(new Error(n,e.field));0==t.length&&e.required&&r.push(new Error(n,e.field));t.length>l&&r.push(new Error("最多支持输入"+l+"个字符以内",e.field));a(r)}},652:function(e,t,a){},671:function(e,t,a){e.exports={credEditLogo:"credEditLogo__1fhCq","ant-upload-list-item-info":"ant-upload-list-item-info__1Pp8a","ant-upload-select-picture-card":"ant-upload-select-picture-card__2cZDS","ant-upload-list-item-actions":"ant-upload-list-item-actions__2odMN","anticon-delete":"anticon-delete__1uwBf","anticon-eye-o":"anticon-eye-o__2631W"}},905:function(e,t,a){"use strict";var n=a(245),l=a(246);e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),l)}}]);