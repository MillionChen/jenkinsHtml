/*! For license information please see createExam-76d0b6.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[139,4,5,6,7,10,18],{1003:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(3),a(101),a(227),a(43),a(143),a(20),a(34),a(35),a(23),a(53),a(99);var r=i(a(100));a(537);var o=i(a(536));a(144);var s=i(a(230));a(648);var l=i(a(619)),u=i(a(79));a(61);var c=i(a(62)),d=i(a(29)),f=i(a(30)),p=i(a(59)),h=i(a(32)),m=i(a(33)),g=i(a(31)),y=i(a(2)),v=n(a(1));function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){(0,h.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(E()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;return(0,d.default)(this,n),t=a.call(this,e),(0,y.default)((0,p.default)(t),"saveInputRef",(function(e){return t.input=e})),t.props.init&&t.props.init((0,p.default)(t)),console.log(t.props.defaultTags,"回显938"),t.state={tags:t.props.defaultTags?t.props.defaultTags:[],inputVisible:!1,inputValue:""},t.showInput=t.showInput.bind((0,p.default)(t)),t.handleClose=t.handleClose.bind((0,p.default)(t)),t.handleInputConfirm=t.handleInputConfirm.bind((0,p.default)(t)),t.handleInputChange=t.handleInputChange.bind((0,p.default)(t)),t.props.defaultTags&&t.props.getTags(t.props.defaultTags),t}return(0,f.default)(n,[{key:"initTags",value:function(e){this.setState({tags:e})}},{key:"handleClose",value:function(e){var t=this.state.tags.filter((function(t){return t!==e}));this.setState({tags:t});var a=this.props.getTags;a&&a(t)}},{key:"showInput",value:function(){var e=this;this.state.tags&&this.state.tags.length>=5?c.default.error("最多只能添加5个"):this.setState({inputVisible:!0},(function(){return e.input.focus()}))}},{key:"handleInputChange",value:function(e){var t=e.target.value.split(" ");this.setState({inputValue:t.join("")})}},{key:"componentWillReceiveProps",value:function(e){if(!this.state.tags.length&&e.defaultTags.length){console.log("oldTags",e.defaultTags);var t=e.defaultTags.join(","),a=!1;this.props.defaultTags.length?t!=this.props.defaultTags.join(",")&&(a=!0):a=!0,a&&(this.setState({tags:e.defaultTags}),this.props.getTags(e.defaultTags))}}},{key:"handleInputConfirm",value:function(e){if(e.target.value.length>10)return console.log("长度不可超过10，请重新输入..."),c.default.error("长度不可超过10，请重新输入..."),void this.setState({inputValue:"",inputVisible:!1});var t=this.props.getTags,a=this.state,n=a.inputValue,i=a.tags;i||(i=[]),n&&-1===i.indexOf(n)&&(i=[].concat((0,u.default)(i),[n])),t&&t(i),this.setState({tags:i,inputVisible:!1,inputValue:"",focus:!0})}},{key:"render",value:function(){var e=this,t=this.props.disabled,a=this.state,n=a.tags,i=a.inputVisible,u=a.inputValue;return n||(n=[]),t?v.default.createElement("div",{style:{float:"left"}},n.map((function(e,t){var a=e.length>20,n=v.default.createElement(l.default,{key:e,closable:!1,onClose:function(){}},a?"".concat(e.slice(0,20),"..."):e);return a?v.default.createElement(s.default,{title:e,key:e},n):n}))):v.default.createElement("div",{style:{float:"left"}},i&&v.default.createElement(o.default,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78,display:this.props.disable?"none":"inline-block"},value:u,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!i&&v.default.createElement(l.default,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed",display:this.props.disable?"none":"inline-block"}},v.default.createElement(r.default,{type:"plus"})," 添加"),n.map((function(t,a){var n=t.length>20,i=v.default.createElement(l.default,{key:t,closable:e.props.disable?a<0:a>=0,onClose:function(){return e.handleClose(t)}},n?"".concat(t.slice(0,20),"..."):t);return n?v.default.createElement(s.default,{title:t,key:t},i):i})))}}]),n}(v.default.Component);e.exports=b},1006:function(e,t,a){"use strict";a.r(t);a(26),a(1289),a(575),a(574),a(578)},1007:function(e,t,a){e.exports=a(11)(809)},1011:function(e,t,a){"use strict";var n=a(4),i=a(0);a(7),a(3),a(5),a(51),a(9),a(10),a(8),a(35),a(53),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.delsur=function(e,t){var a=l.default.delsur,n={researchId:e.id};return function(i){return(0,u.default)({url:a,data:n}).then((function(a){"1000"===a.code?(o.default.success("删除成功"),i(f({state:2,pageNo:e.pageNo,pageSize:e.pageSize})),t&&t(a)):o.default.error(a.subMsg)}))}},t.getListFetch=f,t.upFetch=function(e,t){var a=l.default.upFetch;return function(n){return(0,u.default)({url:a,data:e}).then((function(a){"1000"===a.code?(n(f({state:1,pageNo:e.pageNo,pageSize:e.pageSize})),n(f({state:2,pageNo:e.pageNo,pageSize:e.pageSize,name:e.name})),n(f({state:0,pageNo:e.pageNo,pageSize:e.pageSize,name:e.name})),o.default.success("上架成功"),t&&t(a)):o.default.error("上架失败")}))}},t.reFetch=function(e){var t=l.default.upFetch;return function(a){return(0,u.default)({url:t,data:e}).then((function(e){"1000"===e.code?o.default.success("发布成功"):o.default.error("上架失败")}))}},t.downFetch=function(e,t){var a=l.default.downFetch,n={id:e.id};return function(i){return(0,u.default)({url:a,data:n}).then((function(a){i(f({state:1,pageNo:e.pageNo,pageSize:e.pageSize,name:e.name})),i(f({state:2,pageNo:e.pageNo,pageSize:e.pageSize})),t&&t(a)}))}},t.deleteFetch=function(e,t,a){var n=l.default.deleteFetch;return function(t){return(0,u.default)({url:n,data:e}).then((function(e){"1000"===e.code&&(o.default.success("删除成功"),a&&a(),t({type:c.GET_SURID,data:e.data.id}))}))}},t.insertSurFetch=function(e,t){var a=l.default.insertSurFetch;return function(n){return(0,u.default)({url:a,data:e}).then((function(e){"1000"===e.code?(t&&t(e),console.log(e.data.id),n(p({researchId:e.data.id,pageNo:1,pageSize:20})),n({type:c.GET_SURID,data:e.data.id}),n({type:c.GET_SURTEST_LIST,data:{list:[],total:0}})):o.default.error(e.subMsg)}))}},t.getCopyListFetch=function(e){var t=l.default.getList;return function(a){return(0,u.default)({url:t,data:e}).then((function(e){if("1000"===e.code){var t=e.data;a({type:c.GET_SUR_LIST,data:{total:t.total,list:t.records}})}else o.default.error(e.subMsg)}))}},t.getCopySurFetch=function(e,t){var a=l.default.getCopySurFetch;return function(n){return(0,u.default)({url:a,data:e}).then((function(e){"1000"===e.code?(console.log(e.data),t&&t(e),n({type:c.GET_SUR_DETAILS,data:e.data})):o.default.error(e.subMsg)}))}},t.updateFetch=function(e,t){var a=l.default.updateFetch;return function(n){return(0,u.default)({url:a,data:e}).then((function(a){"1000"===a.code?(o.default.success("保存成功"),n(p({researchId:e.id,pageNo:1,pageSize:20})),n({type:c.GET_SURID,data:e.id}),t&&t(a.code)):o.default.error("保存失败,请重新尝试")}))}},t.getSurDetailsFetch=function(e,t){var a=l.default.getSurDetailsFetch;return console.log(a,e,"-----------getSurDetailsFetch------------"),function(n){return(0,u.default)({url:a,data:e}).then((function(e){n({type:c.GET_SUR_DETAILS,data:e.data}),t&&t(e.code)}))}},t.getTSdata=function(e){return console.log(e),function(t){t({type:c.INSERT_SUR,data:e})}},t.insertTestFetch=function(e,t,a){var n=l.default.insertTestFetch;return function(i){return(0,u.default)({url:n,data:e}).then((function(n){i(p({researchId:e.reseachId,pageNo:t,pageSize:a}))}))}},t.getTestListFetch=p,t.editTestFetch=function(e,t,a,n){console.log(t);var i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{researchId:t}),s=l.default.editTestFetch;return function(e){return(0,u.default)({url:s,data:i}).then((function(i){"1000"===i.code?(e({type:c.EDIT_TEST,data:i.data}),e(p({researchId:t,pageNo:a,pageSize:n})),o.default.success("操作成功")):o.default.success("操作失败")}))}},t.jumpTestFetch=function(e){var t=l.default.jumpTestFetch;return function(a){return(0,u.default)({url:t,data:e}).then((function(e){console.log(e.data),a({type:c.GET_JUMPTEST_LIST,data:e.data})}))}},t.postNewsList=function(e,t){var a=l.default.postNewsList;return function(n){return(0,u.default)({url:a,data:e}).then((function(e){n({type:c.NEWSLIST,data:e}),t&&t(e)}))}},t.getNewsListMessageRemind=function(e,t){var a=l.default.getNewsListMessageRemind;return function(n){return(0,u.default)({url:a,data:e}).then((function(e){n({type:c.NEWSVIEWLIST,data:e}),t&&t(e)}))}},t.jumpReset=function(){return function(e){e({type:c.GET_JUMPTEST_LIST,data:[]})}},t.exdetail=function(e){var t=l.default.exdetail;return function(a){return(0,u.default)({url:t,data:e}).then((function(e){o.default.success(e.data)}))}},t.exana=function(e){var t=l.default.exana;return function(a){return(0,u.default)({url:t,data:e}).then((function(e){o.default.success(e.data)}))}};var r=i(a(2));a(61);var o=i(a(62)),s=(a(65),a(233)),l=(i(a(223)),i(a(1018))),u=(a(903),i(a(76))),c=n(a(247));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}location.pathname.split("/")[1],location.pathname.split("/")[2],(0,s.createAction)(c.GET_SUR_LIST),(0,s.createAction)(c.GET_SUR_LIST_0),(0,s.createAction)(c.GET_SUR_LIST_1),(0,s.createAction)(c.GET_SUR_LIST_2),(0,s.createAction)(c.ADD_TEST),(0,s.createAction)(c.EDIT_TEST),(0,s.createAction)(c.INSERT_SUR),(0,s.createAction)(c.GET_SURTEST_LIST),(0,s.createAction)(c.GET_JUMPTEST_LIST),(0,s.createAction)(c.GET_SURID),(0,s.createAction)(c.GET_SUR_DETAILS),(0,s.createAction)(c.NEWSLIST);function f(e){var t=l.default.getList;return function(a){return(0,u.default)({url:t,data:e}).then((function(t){var n=t.data;switch(e.state){case 0:a({type:c.GET_SUR_LIST_0,data:{total:n.total,list:n.records}});break;case 1:a({type:c.GET_SUR_LIST_1,data:{total:n.total,list:n.records}});break;case 2:a({type:c.GET_SUR_LIST_2,data:{total:n.total,list:n.records}});break;default:a({type:c.GET_SUR_LIST_0,data:{total:n.total,list:n.records}})}a({type:c.GET_SURTEST_LIST,data:[]}),a({type:c.GET_SUR_DETAILS,data:{}})}))}}function p(e){var t=l.default.getTestListFetch;return function(a){return(0,u.default)({url:t,data:e}).then((function(e){console.log({list:e.data.records,total:e.data.total}),a({type:c.GET_SURTEST_LIST,data:{list:e.data,total:e.data.total,resData:e.data}})}))}}},1013:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(3),a(101),a(43),a(51),a(20),a(34),a(35),a(23),a(53),a(634);var r=i(a(596));a(61);var o=i(a(62)),s=i(a(29)),l=i(a(30)),u=i(a(59)),c=i(a(32)),d=i(a(33)),f=i(a(31)),p=n(a(1)),h=i(a(663)),m=i(a(76)),g=a(587);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=null,E=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,f.default)(t);if(y()){var n=(0,f.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),(t=a.call(this,e)).state={typeRight:!1,fileList:[],uploadPercent:0,uploadProgress:!1,notUpload:!0,host:"",dir:""},t.beginUpload=t.beginUpload.bind((0,u.default)(t)),t.beforeUpload=t.beforeUpload.bind((0,u.default)(t)),t.uploadProgress=t.uploadProgress.bind((0,u.default)(t)),t.completeUpload=t.completeUpload.bind((0,u.default)(t)),t}return(0,l.default)(n,[{key:"componentDidMount",value:function(){h.default.init("selectfiles","container",this.beforeUpload,this.uploadProgress.bind(this),this.completeUpload.bind(this))}},{key:"beforeUpload",value:function(e){var t=this.props.fileLimit;if(t&&e.filter((function(e){return-1==t.indexOf(e.type.split("/")[1])})).length>0){for(var a=h.default.uploader.files.length,n=0;n<a;n++)h.default.uploader.removeFile(h.default.uploader.files[0].id);return void o.default.error("请上传正确格式的文件")}var i=[];if(this.props.multi)i=e.map((function(e,t){return{name:e.name,id:e.id,size:e.size,percent:0,suffix:"."+e.type.split("/")[1]}}));else{if(e.length>1){o.default.error("一次只能导入一个文件");a=h.default.uploader.files.length;for(var r=0;r<a;r++)h.default.uploader.removeFile(h.default.uploader.files[0].id);return void this.setState({fileList:[]})}i.push({name:e[0].name,id:e[0].id,size:e[0].size,suffix:"."+e[0].type.split("/")[1]})}this.setState({fileList:i,notUpload:!1})}},{key:"beginUpload",value:function(){var e=this;(0,m.default)({url:g.common.ossPolicy}).then((function(t){v=JSON.parse(t.data),h.default.uploadFile(v),e.setState({notUpload:!0}),0==e.state.host.length&&e.setState({host:v.host,dir:v.dir})}))}},{key:"uploadProgress",value:function(e){var t=this.state.fileList.filter((function(t){return t.id==e.id}));t[0].percent=e.percent;var a=this.state.fileList.filter((function(t){return t.id!=e.id}));this.setState({fileList:a.concat(t)})}},{key:"completeUpload",value:function(e,t,a){var n=this.props.getUrl;if(200==e.status){var i=this.state.fileList.filter((function(e){return e.id==a.id}));i[0].percent=100,i[0].ossUrl=this.state.host+"/"+this.state.dir+i[0].id+i[0].suffix;var r=this.state.fileList.filter((function(e){return e.id!=a.id})),o=this;this.setState({fileList:r.concat(i)},(function(){n(o.state.fileList),o.state.fileList.filter((function(e){return 100==e.percent})).length==o.state.fileList.length&&o.props.complete()}))}}},{key:"render",value:function(){return p.default.createElement("div",{className:"oss-uplaod"},p.default.createElement(r.default,{size:"small",style:{display:this.state.fileList.length>0?"inline":"none"},dataSource:this.state.fileList,renderItem:function(e){return p.default.createElement(r.default.Item,null,e.name," ",e.percent,"%")}}),p.default.createElement("div",{id:"container"},p.default.createElement("a",{id:"selectfiles",href:"javascript:void(0);",className:"btn"},"选择文件"),p.default.createElement("a",{disabled:this.state.notUpload,style:{marginLeft:10},id:"postfiles",href:"javascript:void(0);",onClick:this.beginUpload,className:"btn"},"开始上传")))}}]),n}(p.Component);e.exports=E},1014:function(e,t,a){"use strict";var n=a(4),i=a(0);a(7),a(3),a(5),a(43),a(9),a(10),a(8),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.getExamList=function(e,t){var a=c.default.examList,n=function(e){var t={};e?(t.pageNo=e.pageindex,t.pageSize=e.pagesize,e.examKeyword&&(t.name=e.examKeyword),e.status&&(t.state=e.status),e.libraryKey&&(t.libraryKey=e.libraryKey),e.stemKey&&(t.stemKey=e.stemKey),e.type&&(t.type=e.type)):(t.pageNo=1,t.pageSize=20);return t}(e);return function(e){return e({type:u.FETCHING}),(0,l.default)({url:a,data:n}).then((function(a){e({type:u.EXAMLIST,data:a}),t&&t()}))}},t.getExamInfo=function(e,t){var a=c.default.getExamInfo,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:u.EXAMINFO,data:a}),t&&t()}))}},t.getExamPreview=function(e,t,a){var n=c.default.getExamPreview,i={examTitleId:e};return function(e){return(0,l.default)({url:n,data:i}).then((function(n){e({type:u.EXAMPREVIEW,data:n}),t&&t(),a&&a()}))}},t.getQuestionBankList=function(e){var t=c.default.getQuestionBankList,a={};e?(a.pageNo=e.pageindex,a.pageSize=e.pagesize,e.questionBankKeyword&&(a.name=e.questionBankKeyword),e.useStatus&&(a.state=e.useStatus)):(a.pageNo=1,a.pageSize=20);return function(e){return(0,l.default)({url:t,data:a}).then((function(t){e({type:u.QUESTIONBANKLIST,data:t})}))}},t.getLibraryCount=function(e,t){var a=c.default.getLibraryCount,n={examId:e.examId,libraryId:e.libraryId};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:u.LIBRARYCOUNT,data:a}),t&&t(a)}))}},t.setExamSort=function(e,t){var a=c.default.setExamSort;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.SETEXAMSORT,data:e}),t&&t(e)}))}},t.postQuestionMove=function(e,t){var a=c.default.postQuestionMove;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){t&&t(e)}))}},t.postNewsList=function(e,t){var a=c.default.postNewsList,n=N(a,e);return delete e.type,function(e){return(0,l.default)({url:a,data:n}).then((function(a){var n=[];a.data.map((function(e){n.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{name:e.title,content:e.context}))})),a.data=n,console.log("res",a),e({type:u.NEWSLIST,data:a}),t&&t(a)}))}},t.getQuestionLists=function(e,t){var a=c.default.getQuestionLists,n=N(a,e);return function(e){return e({type:u.QUESTIONFETCHINGS}),(0,l.default)({url:a,data:n}).then((function(a){e({type:u.QUESTIONLISTS,data:a}),t&&t(a)}))}},t.getSelectQuestionList=function(e){var t=c.default.getSelectQuestionList,a={};a.pageNo=e.pageindex,a.pageSize=e.pagesize,a.examId=e.examId,e.examKeyword&&(a.name=e.examKeyword);e.status&&(a.state=e.status);e.libraryKey&&(a.libraryKey=e.libraryKey);e.stemKey&&(a.stemKey=e.stemKey);e.type&&(a.type=e.type);e.libraryId&&(a.libraryId=e.libraryId);return function(e){return e({type:u.SELECTFETCHING}),(0,l.default)({url:t,data:a}).then((function(t){e({type:u.SELECTQUESTIONLIST,data:t})}))}},t.insertQuestion=function(e,t){var a=c.default.insertQuestion;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.INSERTQUESTION,data:e}),t&&t(e)}))}},t.setQuestionScore=function(e,t){var a=c.default.setQuestionScore;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.SETQUESTIONSCORE,data:e}),t&&t(e)}))}},t.deleteQuestions=function(e,t){var a=c.default.deleteQuestions;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.DELETEQUESTIONS,data:e}),t&&t(e)}))}},t.importQuestions=function(e,t){var a=c.default.importQuestions;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.IMPORTQ,data:e}),t&&t(e)}))}},t.upExam=function(e,t){var a=c.default.upExam,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:u.UP,data:a}),t&&t({code:a.code,msg:a.subMsg})}))}},t.downExam=function(e,t){var a=c.default.downExam,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:u.DOWN,data:a}),t&&t({code:a.code,msg:a.subMsg})}))}},t.copyExam=function(e,t){var a=c.default.copyExam,n={id:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:u.COPY,data:a}),t&&t({code:a.code,msg:a.subMsg})}))}},t.deleteExams=function(e,t){var a=c.default.deleteExams;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.DELETEEXAM,data:e}),t&&t()}))}},t.examBasicInfo=function(e,t,a){var n="";n="create"==e?c.default.createExam:c.default.updateExam;return function(e){return(0,l.default)({url:n,data:t}).then((function(t){e({type:u.EXAMBASICINFO,data:t}),a&&a()}))}},t.saveExamStrategy=function(e,t){var a=c.default.saveExamStrategy;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.EXAMRANGE,data:e}),t&&t()}))}},t.postQuestionRule=function(e,t){var a=c.default.postQuestionRule;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.QUESTIONRULE,data:e}),"1000"==e.code&&r.default.success("保存成功！"),t&&t()}))}},t.setExamRange=function(e,t){var a=c.default.setExamRange;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.EXAMSTRATEGY,data:e}),t&&t()}))}},t.getExamRange=function(e,t){var a=c.default.getExamRange,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:u.GETEXAMRANGE,data:a}),t&&t(a)}))}},t.publishExam=function(e,t,a){var n=c.default.publishExam;return function(a){return(0,l.default)({url:n,data:e}).then((function(e){a({type:u.PUBLISHEXAM,data:e}),t&&t(e)}))}},t.getExamInfoSum=function(e,t){var a=c.default.getExamInfoSum,n={examTitleId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:u.EXAMINFOSUM,data:a}),t&&t(a)}))}},t.setExamViewRange=function(e,t){var a=c.default.setExamViewRange;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:u.EXAMVIEWRANGE,data:e}),t&&t(e)}))}},t.getSeeQuestionSelect=function(e,t){var a=c.default.getSeeQuestionSelect,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:u.SEEQUESTIONSELECT,data:a}),t&&t(a)}))}},t.cleanUpCach=function(e,t){return function(t){t({type:u.CLEANUPCACH,data:e})}},t.setRelease=t.releaseProv=t.cleanCach=t.newsList=t.questionRule=t.ger=t.evr=t.examRange=t.eis=t.ei=t.publishe=t.setes=t.setqs=t.deleteQ=t.importQ=t.insertQ=t.examstrategy=t.selectFetching=t.selectQuestionList=t.examBI=t.deleteExam=t.down=t.up=t.questionFetching=t.fetching=t.examPreview=t.questionList=t.examList=void 0,a(61);var r=i(a(62)),o=i(a(2)),s=a(233),l=(a(83),i(a(76))),u=n(a(253)),c=i(a(1309));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var f=(0,s.createAction)(u.EXAMLIST);t.examList=f;(0,s.createAction)(u.QUESTIONBANKLIST),(0,s.createAction)(u.LIBRARYCOUNT);var p=(0,s.createAction)(u.QUESTIONLISTS);t.questionList=p;var h=(0,s.createAction)(u.EXAMPREVIEW);t.examPreview=h;var m=(0,s.createAction)(u.SELECTQUESTIONLIST);t.selectQuestionList=m;var g=(0,s.createAction)(u.SELECTFETCHING);t.selectFetching=g;var y=(0,s.createAction)(u.FETCHING);t.fetching=y;var v=(0,s.createAction)(u.QUESTIONFETCHINGS);t.questionFetching=v;var E=(0,s.createAction)(u.QUESTIONRULE);t.questionRule=E;var b=(0,s.createAction)(u.UP);t.up=b;var S=(0,s.createAction)(u.DOWN);t.down=S;(0,s.createAction)(u.COPY);var w=(0,s.createAction)(u.DELETEEXAM);t.deleteExam=w;var x=(0,s.createAction)(u.EXAMBASICINFO);t.examBI=x;var k=(0,s.createAction)(u.EXAMSTRATEGY);t.examstrategy=k;var T=(0,s.createAction)(u.INSERTQUESTION);t.insertQ=T;var C=(0,s.createAction)(u.IMPORTQ);t.importQ=C;var I=(0,s.createAction)(u.DELETEQUESTIONS);t.deleteQ=I;var L=(0,s.createAction)(u.SETQUESTIONSCORE);t.setqs=L;var R=(0,s.createAction)(u.SETEXAMSORT);t.setes=R;var D=(0,s.createAction)(u.PUBLISHEXAM);t.publishe=D;var O=(0,s.createAction)(u.EXAMINFO);t.ei=O;var A=(0,s.createAction)(u.EXAMRANGE);t.examRange=A;var Q=(0,s.createAction)(u.EXAMINFOSUM);t.eis=Q;var M=(0,s.createAction)(u.EXAMVIEWRANGE);t.evr=M;var P=(0,s.createAction)(u.GETEXAMRANGE);t.ger=P;var B=(0,s.createAction)(u.NEWSLIST);t.newsList=B;(0,s.createAction)(u.SEEQUESTIONSELECT);var q=(0,s.createAction)(u.CLEANUPCACH);t.cleanCach=q;t.releaseProv=function(e,t){return function(t){t({type:u.RELEASEPROV,data:e})}};function N(e,t){var a={};return t?(a.pageNo=t.pageindex,a.pageSize=t.pagesize,t.relationType&&(a.relationType=t.relationType),t.id&&(a.examId=t.id)):(a.pageNo=1,a.pageSize=20),a}t.setRelease=function(e,t){return function(t){t({type:u.SETRELEASEP,data:e})}}},1018:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),r={delsur:"POST ".concat(i.default.webManage,"/research/delete"),getList:"GET ".concat(i.default.webManage,"/research/page/list"),upFetch:"POST ".concat(i.default.webManage,"/research/putaway"),downFetch:"POST ".concat(i.default.webManage,"/research/backout"),deleteFetch:"POST ".concat(i.default.webManage,"/research/batch/delete"),insertSurFetch:"POST ".concat(i.default.webManage,"/research/insert"),getCopySurFetch:"POST ".concat(i.default.webManage,"/research/copy"),updateFetch:"POST ".concat(i.default.webManage,"/research/update"),getSurDetailsFetch:"GET ".concat(i.default.webManage,"/research/view"),insertTestFetch:"POST ".concat(i.default.webManage,"/researchQuestion/insert"),getTestListFetch:"GET ".concat(i.default.webManage,"/researchQuestion/page/list"),editTestFetch:"POST ".concat(i.default.webManage,"/researchQuestion/batch/update"),jumpTestFetch:"GET ".concat(i.default.webManage,"/researchQuestion/jump/question/list"),postNewsList:"GET ".concat(i.default.newMessage,"/manage/message/getList"),getNewsListMessageRemind:"GET ".concat(i.default.newMessage,"/manage/messageRemind/get"),exdetail:"GET ".concat(i.default.webManage,"/export/research/details/onTime"),exana:"GET ".concat(i.default.webManage,"/export/research/analyze/onTime"),jump_ques:"POST ".concat(i.default.webManage,"/researchQuestion/jump/question/update"),chooses:"GET ".concat(i.default.webManage,"/researchQuestion/option/get")};t.default=r},1285:function(e,t,a){e.exports={addQuestion:"addQuestion__1qwiT",info:"info__3gREm",publish:"publish__27EAa",strategy:"strategy__3Kj02",btnGroup:"btnGroup__2zG4_",list:"list__uqmIN","list-btn":"list-btn__bihPV","tool-content":"tool-content__2xh8B","tool-cont":"tool-cont__3I5vv","form-btn":"form-btn__13RAZ",operation:"operation__3wkCp","ant-transfer":"ant-transfer__2XIYE","ant-transfer-list":"ant-transfer-list__bnwZM",publishBlock:"publishBlock__1gbXU",publishBtn:"publishBtn__3v9RA"}},1286:function(e,t,a){"use strict";var n=a(0);a(44),a(3),a(43),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var i=n(a(535));a(537);var r=n(a(536));a(99);var o=n(a(100)),s=n(a(98)),l=n(a(2));a(592);var u=n(a(566)),c=n(a(29)),d=n(a(30)),f=n(a(59)),p=n(a(32)),h=n(a(33)),m=n(a(31));a(712);var g=n(a(643));a(556);var y=n(a(553));a(554);var v=n(a(550));a(540);var E=n(a(539)),b=n(a(1)),S=n(a(223)),w=a(1011),x=a(52);function k(e){return function(){var t,a=(0,m.default)(e);if(T()){var n=(0,m.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,h.default)(this,t)}}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var C=E.default.Item,I=v.default.Option,L=y.default.Group,R=g.default.Group,D=function(e){(0,p.default)(a,e);var t=k(a);function a(e){var n;return(0,c.default)(this,a),(n=t.call(this,e)).handleSelect=n.handleSelect.bind((0,f.default)(n)),n.handleChange=n.handleChange.bind((0,f.default)(n)),n}return(0,d.default)(a,[{key:"handleSelect",value:function(e){var t=this.props.data;switch(e){case 1:case 2:delete t.time,t.timeType=0;break;case 3:delete t.seconds,t.time=(0,S.default)().format("YYYY-MM-DD HH:mm:ss"),t.sendTime=(new Date).getTime()}t.timeEventType=e,this.props.editItem(t)}},{key:"handleChange",value:function(e,t){var a=this.props.data;switch(t){case 2:delete a.time,a.timeType=e;break;case 3:delete a.seconds,console.log(new Date(e).getTime(),"时间戳"),a.sendTime=new Date(e).getTime()}this.props.fun(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.usable,n=t.data;t.defaultValue,t.reminds,t.index;return console.log(n.timeType,"console.log(data.timeType);"),b.default.createElement("div",{style:{display:"inline-block"}},b.default.createElement(v.default,{disabled:a,defaultValue:n.timeEventType,style:{width:120,display:"inline-block",marginRight:20,marginBottom:20},onSelect:this.handleSelect,onChange:function(t){return e.handleChange(t,1)},getPopupContainer:function(e){return e.parentNode}},!this.props.timeFlag&&b.default.createElement(I,{value:1},"开始日期"),b.default.createElement(I,{value:2},"结束日期"),b.default.createElement(I,{value:3},"自定义时间")),3!==n.timeEventType&&b.default.createElement(v.default,{disabled:a,value:n.timeType,style:{width:200,display:"inline-block",marginRight:20},onChange:function(t){return e.handleChange(t,2)},getPopupContainer:function(e){return e.parentNode}},b.default.createElement(I,{value:0},"事件发生时"),b.default.createElement(I,{value:1},"5分钟前"),b.default.createElement(I,{value:2},"10分钟前"),b.default.createElement(I,{value:3},"30分钟前"),b.default.createElement(I,{value:4},"1小时前"),b.default.createElement(I,{value:5},"2小时前"),b.default.createElement(I,{value:6},"1天前"),b.default.createElement(I,{value:7},"2天前")),3===n.timeEventType&&b.default.createElement(u.default,{disabled:a,defaultValue:(0,S.default)(n.sendTime),format:"YYYY-MM-DD HH:mm:ss",style:{width:200,display:"inline-block",marginRight:20},showTime:!0,placeholder:"请选择时间",onChange:function(t){return e.handleChange(t,3)},getCalendarContainer:function(e){return e.parentNode}}))}}]),a}(b.default.Component),O=2,A=function(e){(0,p.default)(a,e);var t=k(a);function a(e){var n;return(0,c.default)(this,a),n=t.call(this,e),(0,l.default)((0,f.default)(n),"onSelectRemind",(function(e){var t=n.props.newsList.filter((function(t){return e==t.id}));console.log(t,"str"),n.setState({messageContext:t[0].context})})),(0,l.default)((0,f.default)(n),"getData",(function(e){console.log(e);for(var t=n.props.form,a=t.getFieldValue("items"),i=0;i<a.length;i++)a.no===e.no&&e.sendTime&&(a[i].sendTime=e.sendTime),a.no===e.no&&e.timeType&&(a[i].timeType=e.timeType);console.log(a),t.setFieldsValue({items:a})})),(0,l.default)((0,f.default)(n),"handleChange",(function(e){n.setState({rchecked:e.target.value},(function(){1==n.state.rchecked?n.props.postNewsList({relationType:n.props.relationType}):n.setState({messageContext:""})}))})),(0,l.default)((0,f.default)(n),"remove",(function(e){console.log(e);var t=n.props.form,a=t.getFieldValue("items");if(1!==a.length){t.setFieldsValue({items:a.filter((function(t){return t.no!==e}))});t.getFieldValue("items")}})),(0,l.default)((0,f.default)(n),"add",(function(){var e=n.props.form,t=e.getFieldValue("items").concat({no:O,timeEventType:1,timeType:0});O++,e.setFieldsValue({items:t})})),n.state={rchecked:0,remind:0,messageContext:"",reminds:"",messageId:""},O=2,n}return(0,d.default)(a,[{key:"editItem",value:function(e){for(var t=this.props.form,a=t.getFieldValue("items"),n=0;n<a.length;n++)e.no===a[n].no&&(a[n]=e);console.log(a),t.setFieldsValue({items:a})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.relationType,n=t.relationId,i=t.remind,r=t.postNewsList,o=t.getNewsListMessageRemind;i&&n&&(r({relationType:this.props.relationType}),o({relationType:a,relationId:n},(function(t){e.setState({rchecked:i,messageContext:t.data.context,messageId:t.data.id,reminds:t.data.messageTaskRemindVos})})))}},{key:"shouldComponentUpdate",value:function(e,t){return e.remind===this.props.remind}},{key:"render",value:function(){var e=this,t=this.state,a=t.rchecked,n=t.reminds,l=t.messageContext,u=t.messageId,c=this.props,d=(c.layout,c.newsList),f=void 0===d?[]:d,p=c.usable,h=c.formItemLayout,m=c.labelAlign,E=this.props.form,S=E.getFieldDecorator,w=E.getFieldValue,x=m||"right",k=[];if(n&&n.length>0)for(var T=0;T<n.length;T++)3===n[T].timeEventType&&k.push({no:T,timeEventType:n[T].timeEventType,sendTime:n[T].sendTime}),3!==n[T].timeEventType&&k.push({no:T,timeEventType:n[T].timeEventType,timeType:n[T].timeType});var O=this.props.timeFlag;S("items",{initialValue:n&&n.length>0?k:[{no:0,timeEventType:O?2:1,timeType:0},{no:1,timeEventType:O?2:1,timeType:0}]});var A=w("items");S("messageTaskRemindVos",{initialValue:function(){for(var e=[],t=0;t<A.length;t++)3===A[t].timeEventType&&e.push({timeEventType:A[t].timeEventType,sendTime:A[t].sendTime}),3!==A[t].timeEventType&&e.push({timeEventType:A[t].timeEventType,timeType:A[t].timeType});return e}()});var Q=A.map((function(t,a){return b.default.createElement("div",{key:a},b.default.createElement(D,(0,s.default)({fun:function(t){return e.getData(t)},editItem:function(t){return e.editItem(t)},data:t,index:a,usable:p,reminds:n},e.props)),A.length>1?b.default.createElement(o.default,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===A.length,onClick:function(){return e.remove(t.no)}}):null)}));return b.default.createElement("div",null,b.default.createElement(C,(0,s.default)({},h,{label:"是否提醒：",labelAlign:x}),S("type",{initialValue:a})(b.default.createElement(L,{onChange:this.handleChange,disabled:p},b.default.createElement(y.default,{value:0},"否"),b.default.createElement(y.default,{value:1},"是")))),this.state.rchecked?b.default.createElement("div",null,b.default.createElement(C,(0,s.default)({},h,{label:"提醒方式：",labelAlign:x}),S("sendType",{initialValue:[1]})(b.default.createElement(R,{disabled:!0},b.default.createElement(g.default,{value:1},"站内消息")))),b.default.createElement(C,(0,s.default)({},h,{label:"选择模板：",labelAlign:x}),S("messageId",{rules:[{required:!0,message:"请选择消息模板!"}],initialValue:u})(b.default.createElement(v.default,{style:{width:200},disabled:p,onChange:this.onSelectRemind,getPopupContainer:function(e){return e.parentNode}},f.length>0&&f.map((function(e){return b.default.createElement(I,{key:e.id,value:e.id},e.title)}))))),b.default.createElement(C,(0,s.default)({},h,{label:"提醒内容：",labelAlign:x}),S("messageContext",{initialValue:l})(b.default.createElement(r.default.TextArea,{disabled:!0}))),b.default.createElement(C,(0,s.default)({},h,{label:"提醒时间：",labelAlign:x}),Q,b.default.createElement(i.default,{type:"dashed",onClick:this.add,disabled:p},b.default.createElement(o.default,{type:"plus"})," 添加提醒时间"))):"")}}]),a}(b.default.Component);var Q=(0,x.connect)((function(e,t){return{newsList:e.survey.newsList,newsViewList:e.survey.newsViewList}}),(function(e){return{postNewsList:function(t,a){return e((0,w.postNewsList)(t,a))},getNewsListMessageRemind:function(t,a){return e((0,w.getNewsListMessageRemind)(t,a))}}}))(E.default.create()(A));t.default=Q},1289:function(e,t,a){},1295:function(e,t,a){"use strict";var n=a(4),i=a(0);a(101),a(143),a(51),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(598);var r=i(a(768));a(580);var o=i(a(571));a(140);var s=i(a(535));a(99);var l=i(a(100));a(61);var u=i(a(62)),c=i(a(29)),d=i(a(30)),f=i(a(59)),p=i(a(32)),h=i(a(33)),m=i(a(31)),g=i(a(2));a(540);var y=i(a(539)),v=n(a(1)),E=a(52),b=a(561);function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}a(671);var w=y.default.Item,x=function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,m.default)(t);if(S()){var n=(0,m.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,h.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,g.default)((0,f.default)(t),"beforeUpload",(function(e,a){var n=(new Date).getTime();if(-1!==e.type.indexOf("image")){if(e.size>3145728)return u.default.info("请上传小于3M的图片"),!1}else if(e.size>209715200)return u.default.info("请上传小于200M的文件"),!1;if(t.props.defaultUrl?t.props.gupList(t.props.defaultUrl):t.props.gupList([]),a.length>1)return u.default.error("一次只能导入一个文件"),void t.setState({fileList:[]});if(!("markeCardExtra"===t.props.extra?/(png|jpg|gif|jpeg)$/g:/(mp4|png|jpg|gif|mp3|pdf|jpeg)$/g).test(e.name))return u.default.error("文件类型不对"),!1;t.setState({fileList:a});var i=t.props.param,r=e.name.split(".").length;t.setState({uploadParams:{Filename:i.dir+"/"+n+"."+e.name.split(".")[r-1],key:i.dir+"/"+n+"."+e.name.split(".")[r-1],policy:i.policy,OSSAccessKeyId:i.accessid,success_action_status:"200",signature:i.signature},uploadAction:i.host,originalFile:e.name,originalFileUrl:i.host+"/"+i.dir+"/"+n+"."+e.name.split(".")[r-1]},(function(){}))})),(0,g.default)((0,f.default)(t),"handleChange",(function(e){var a=e.fileList;a=a.slice(-1),t.setState({processNum:e.file.percent?e.file.percent:0}),a[0]&&"done"===a[0].status&&(t.props.getUrl&&t.props.getUrl(t.state.originalFileUrl,t.state.originalFile),console.log("检测打印变量=fileList ",a),t.setState({fileList:a}),u.default.success("上传成功")),a[0]&&"error"===a[0].status&&(u.default.error("上传失败，请重新尝试"),t.setState({fileList:[]}))})),(0,g.default)((0,f.default)(t),"normFile",(function(e){return Array.isArray(e)?e:e&&t.state.fileList})),(0,g.default)((0,f.default)(t),"fnRemove",(function(){t.setState({fileList:[]}),t.props.getUrl("")})),t.state={uploadParams:{},uploadAction:{},originalFile:"",originalFileUrl:"",fileList:[],key:"",processNum:0},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.props.gupfetch()}},{key:"render",value:function(){var e=this.state,t=e.uploadAction,a=e.uploadParams,n=this.props.form.getFieldDecorator;return v.default.createElement(y.default,null,v.default.createElement(w,{extra:"markeCardExtra"===this.props.extra?"请上传资源附件（附件格式：png、jpg、jpeg、gif）":"请上传资源附件（附件格式：mp4、png、jpg、jpeg、gif、mp3）"},n("upload",{valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:this.props.defaultUrl})(v.default.createElement(o.default,{style:{display:"inline-block"},headers:{"X-Requested-With":null},beforeUpload:this.beforeUpload,action:t,data:a,onChange:this.handleChange,onRemove:this.fnRemove},v.default.createElement(s.default,{type:"primary"},v.default.createElement(l.default,{type:"upload"})," ",this.state.fileList.length?"修改":this.props.uploadUtilName))),0!=this.state.processNum&&100!=this.state.processNum&&v.default.createElement("p",null,v.default.createElement(r.default,{percent:this.state.processNum,strokeWidth:5,showInfo:!1}))))}}]),n}(v.Component);var k=y.default.create()((0,E.connect)((function(e,t){return{param:e.uploadParam.param,list:e.materialReducer.list,details:e.materialReducer.details,type:e.materialReducer.type}}),(function(e){return{gupfetch:function(){return e((0,b.gupfetch)())},gupList:function(t){return e((0,b.gupList)(t))}}}))(y.default.create()(x)));t.default=k},1298:function(e,t,a){"use strict";var n=a(0),i=a(4);a(51),Object.defineProperty(t,"__esModule",{value:!0}),t.getQuestionBankList=function(e,t){var a=l.default.questionUrl,n={};e?(n.pageNo=e.pageindex,n.pageSize=e.pagesize,e.questionBankKeyword&&(n.name=e.questionBankKeyword),e.useStatus&&(n.state=e.useStatus)):(n.pageNo=1,n.pageSize=20);return function(e){return e({type:o.FETCHING}),(0,s.default)({url:a,data:n}).then((function(a){t&&t(a),e({type:o.QUESTIONBANKLIST,data:a})}))}},t.getId=function(e){var t=l.default.getQuestionById;return function(a){return(0,s.default)({url:t}).then((function(t){a({type:o.ID,data:t}),e&&e(t.data)}))}},t.createQuestionBank=function(e,t){var a=l.default.insertQuestionBank,n={id:e.id,name:e.name,libraryLabel:e.tags,comments:e.descr};return function(e){return(0,s.default)({url:a,data:n}).then((function(a){e({type:o.CREATEQB,data:a}),t&&t()}))}},t.editQuestionBank=function(e,t){var a=l.default.updateQuestionBank,n={id:e.id,name:e.name,libraryLabel:e.tags,comments:e.descr};return function(e){return(0,s.default)({url:a,data:n}).then((function(a){e({type:o.EDITQB,data:a}),t&&t()}))}},t.getQuestionBankInfo=function(e,t){var a=l.default.questionLibrary;console.log(e,"---------id----------");var n={id:e};return function(e){return(0,s.default)({url:a,data:n}).then((function(a){e({type:o.QUESTIONBANKINFO,data:a}),t&&t()}))}},t.deleteQuestionBank=function(e,t,a){var n="",i={};"single"==e?(n=l.default.deleteQuestionBank,i={id:t}):(n=l.default.deletesQuestionBank,i={ids:t});return function(e){return(0,s.default)({url:n,data:i}).then((function(t){e({type:o.DELETEQB,data:t}),a&&a()}))}},t.getQuestionList=function(e,t){var a=l.default.getQuestionList,n={};n.pageNo=e.pageindex,n.pageSize=e.pagesize,e.id&&(Array.isArray(e.id)?n.id=e.id[0]:n.id=e.id);e.examId&&(n.examId=e.examId);e.questionKeyword&&(n.key=e.questionKeyword);e.questionType&&(n.type=e.questionType);return function(e){return e({type:o.QUESTIONFETCHING}),(0,s.default)({url:a,data:n}).then((function(a){e({type:o.QUESTIONLIST,data:a}),t&&t()}))}},t.getQuestionInfo=function(e,t){var a=l.default.getQuestionInfo,n={id:e};return function(e){return(0,s.default)({url:a,data:n}).then((function(a){e({type:o.QUESTIONINFO,data:a}),t&&t()}))}},t.createQuestion=function(e,t){var a=l.default.createQuestion;return function(n){return(0,s.default)({url:a,data:e}).then((function(e){n({type:o.CREATEQ,data:e}),t&&t()}))}},t.editQuestion=function(e,t){var a=l.default.editQuestion;return function(n){return(0,s.default)({url:a,data:e}).then((function(e){n({type:o.EDITQ,data:e}),t&&t()}))}},t.deleteQuestions=function(e,t){var a=l.default.deleteQuestions;return function(n){return(0,s.default)({url:a,data:e}).then((function(e){n({type:o.DELETEQ,data:e}),t&&t()}))}},t.importQuestions=function(e,t){var a=l.default.importQuestions;return function(n){return(0,s.default)({url:a,data:e}).then((function(e){n({type:o.IMPORTQ,data:e}),t&&t()}))}},t.importSubject=function(e){var t=l.default.importSubject;return(0,s.default)({url:t,data:e}).then((function(e){return e}))},t.exportSubject=function(e){var t=l.default.exportSubject;return(0,s.default)({url:t,data:e}).then((function(e){return e}))},t.exportXmlSubject=function(e){var t=l.default.exportXMLSubject;return(0,s.default)({url:t,data:e}).then((function(e){return e}))},t.importQ=t.questionInfo=t.editQ=t.editQb=t.deleteq=t.questionBankInfo=t.createq=t.deleteqb=t.createqb=t.id=t.questionFetching=t.questionList=t.fetching=t.questionBankList=void 0;var r=a(233),o=i(a(259)),s=n(a(76)),l=n(a(1369)),u=(0,r.createAction)(o.QUESTIONBANKLIST);t.questionBankList=u;var c=(0,r.createAction)(o.QUESTIONLIST);t.questionList=c;var d=(0,r.createAction)(o.FETCHING);t.fetching=d;var f=(0,r.createAction)(o.QUESTIONFETCHING);t.questionFetching=f;var p=(0,r.createAction)(o.ID);t.id=p;var h=(0,r.createAction)(o.CREATEQB);t.createqb=h;var m=(0,r.createAction)(o.DELETEQB);t.deleteqb=m;var g=(0,r.createAction)(o.DELETEQ);t.deleteq=g;var y=(0,r.createAction)(o.CREATEQ);t.createq=y;var v=(0,r.createAction)(o.QUESTIONBANKINFO);t.questionBankInfo=v;var E=(0,r.createAction)(o.EDITQB);t.editQb=E;var b=(0,r.createAction)(o.EDITQ);t.editQ=b;var S=(0,r.createAction)(o.QUESTIONINFO);t.questionInfo=S;var w=(0,r.createAction)(o.IMPORTQ);t.importQ=w},1308:function(e,t,a){e.exports={"ant-radio-button-wrapper":"ant-radio-button-wrapper__1JCyG"}},1309:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),r={examList:"GET ".concat(i.default.webManage,"/exam/list"),getExamInfo:"GET ".concat(i.default.webManage,"/exam/view"),getExamPreview:"GET ".concat(i.default.webManage,"/exam/question/exam/preview"),getQuestionBankList:"GET ".concat(i.default.webManage,"/question/list"),getLibraryCount:"GET ".concat(i.default.webManage,"/question/library/type/count"),setExamSort:"POST ".concat(i.default.webManage,"/exam/question/select/list"),postQuestionMove:"POST ".concat(i.default.webManage,"/exam/question/move"),postNewsList:"GET ".concat(i.default.webManage,"/manage/message/getList"),getQuestionLists:"GET ".concat(i.default.webManage,"/exam/question/list"),getSelectQuestionList:"GET ".concat(i.default.webManage,"/exam/question/select/list"),insertQuestion:"POST ".concat(i.default.webManage,"/exam/question/insertall"),setQuestionScore:"POST ".concat(i.default.webManage,"/exam/question/update/score"),deleteQuestions:"POST ".concat(i.default.webManage,"/exam/question/delete/all"),importQuestions:"POST ".concat(i.default.webManage,"/exam/question/export"),upExam:"POST ".concat(i.default.webManage,"/exam/put/up"),downExam:"POST ".concat(i.default.webManage,"/exam/put/down"),copyExam:"POST ".concat(i.default.webManage,"/exam/copy"),deleteExams:"POST ".concat(i.default.webManage,"/exam/deletes"),createExam:"POST ".concat(i.default.webManage,"/exam/info/insert"),updateExam:"POST ".concat(i.default.webManage,"/exam/info/update"),saveExamStrategy:"POST ".concat(i.default.webManage,"/exam/strategy/insert"),postQuestionRule:"POST ".concat(i.default.webManage,"/exam/system/question/insert/all"),setExamRange:"POST ".concat(i.default.webManage,"/exam/insert/authorize/list"),getExamRange:"GET ".concat(i.default.webManage,"/exam/authorize/list"),publishExam:"POST ".concat(i.default.webManage,"/exam/release"),getExamInfoSum:"GET ".concat(i.default.webManage,"/exam/question/exam/preview"),setExamViewRange:"POST ".concat(i.default.webManage,"/exam/insert/authorize/list"),getSeeQuestionSelect:"GET ".concat(i.default.webManage,"/exam/system/question/select")};t.default=r},1320:function(e,t,a){"use strict";var n=a(4),i=a(0);a(3),a(43),a(20),a(34),a(23),a(140);var r=i(a(535));a(537);var o=i(a(536));a(61);var s=i(a(62)),l=i(a(29)),u=i(a(30)),c=i(a(59)),d=i(a(32)),f=i(a(33)),p=i(a(31)),h=n(a(1));function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){(0,d.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(m()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,f.default)(this,e)});function n(e){var t;return(0,l.default)(this,n),(t=a.call(this,e)).addPoint=t.addPoint.bind((0,c.default)(t)),t.delete=t.delete.bind((0,c.default)(t)),t.getMinScore=t.getMinScore.bind((0,c.default)(t)),t.getMaxScore=t.getMaxScore.bind((0,c.default)(t)),t.getPoint=t.getPoint.bind((0,c.default)(t)),t.state={points:[{minScore:"",maxScore:"",point:""}]},t}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.props.arrPoin&&(this.setState({points:this.props.arrPoin}),this.props.getPoint&&this.props.getPoint(this.props.arrPoin))}},{key:"componentWillReceiveProps",value:function(e){}},{key:"getMinScore",value:function(e,t){var a=parseInt(e.target.value),n=this.state.points;n[t].minScore=a,this.setState({points:n}),this.props.getPoint&&this.props.getPoint(n)}},{key:"getMaxScore",value:function(e,t){var a=parseInt(e.target.value),n=this.state.points;n[t].maxScore=a,this.setState({points:n}),this.props.getPoint&&this.props.getPoint(n)}},{key:"getPoint",value:function(e,t){var a=parseInt(e.target.value),n=this.state.points;n[t].point=a,this.setState({points:n}),this.props.getPoint&&this.props.getPoint(n)}},{key:"addPoint",value:function(){var e=this.state.points;e.length>0&&e.filter((function(e){e.minScore>e.maxScore&&s.default.error("积分区间范围不正确，请重新设置")})),e.push({minScore:"",maxScore:"",point:""}),this.setState({points:e})}},{key:"delete",value:function(e){var t=this.state.points.filter((function(t,a){return a!=e})),a=this;this.setState({points:t},(function(){a.props.getPoint&&a.props.getPoint(t)}))}},{key:"render",value:function(){var e=this;if(console.log("look",this.state.points),"look"==this.props.type){var t=this.state.points.map((function(t,a){return h.default.createElement("div",{key:a},h.default.createElement(o.default,{type:"number",min:0,value:e.state.points[a].minScore,addonAfter:"分",style:{width:150},disabled:!0}),"~",h.default.createElement(o.default,{type:"number",min:0,value:e.state.points[a].maxScore,addonAfter:"分",style:{width:150},disabled:!0}),h.default.createElement(o.default,{min:0,style:{width:150,marginLeft:15},value:e.state.points[a].point,addonBefore:"发放",addonAfter:"分",disabled:!0}))}));return h.default.createElement("div",null,t)}if("lookhome"==this.props.type){var a=this.state.points.map((function(t,a){return h.default.createElement("div",{key:a},h.default.createElement(o.default,{type:"number",value:e.state.points[a].minScore,addonAfter:"分",style:{width:100},disabled:!0}),"~",h.default.createElement(o.default,{type:"number",value:e.state.points[a].maxScore,addonAfter:"分",style:{width:100},disabled:!0}),h.default.createElement(o.default,{style:{width:140},value:e.state.points[a].point,addonBefore:"发放",addonAfter:"分",disabled:!0}))}));return h.default.createElement("div",null,a)}var n=this.state.points.map((function(t,a){return h.default.createElement("div",{key:a},h.default.createElement(o.default,{min:0,type:"number",value:e.state.points[a].minScore,addonAfter:"分",style:{width:150},onChange:function(t){return e.getMinScore(t,a)}}),"~",h.default.createElement(o.default,{min:e.state.points[a].maxScore<e.state.points[a].minScore?e.state.points[a].minScore+1:0,type:"number",value:e.state.points[a].maxScore,addonAfter:"分",style:{width:150},onChange:function(t){return e.getMaxScore(t,a)}}),h.default.createElement(o.default,{min:0,type:"number",style:{width:150,marginLeft:15},value:e.state.points[a].point,addonBefore:"发放",addonAfter:"分",onChange:function(t){return e.getPoint(t,a)}}),h.default.createElement("a",{style:{marginLeft:15},href:"javascript:void(0)",onClick:function(){return e.delete(a)}},"删除"))}));return h.default.createElement("div",null,n,h.default.createElement("div",null,h.default.createElement(r.default,{type:"primary",onClick:this.addPoint},"添加")))}}]),n}(h.Component);e.exports=g},1343:function(e,t,a){e.exports={list:"list__j6XsD",list_btn:"list_btn__3d4lf",tool_ontent:"tool_ontent__2chK8",tool_cont:"tool_cont__3twh3",form_btn:"form_btn__3_omv",operation:"operation__1XyMx","ant-transfer":"ant-transfer__2mX6B","ant-transfer-list":"ant-transfer-list__21BDn"}},1344:function(e,t,a){"use strict";var n=a(4),i=a(0);a(7),a(154),a(3),a(43),a(20),a(34),a(23),a(140);var r=i(a(535));a(537);var o=i(a(536)),s=i(a(29)),l=i(a(30)),u=i(a(59)),c=i(a(32)),d=i(a(33)),f=i(a(31)),p=n(a(1));function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,c.default)(n,e);var t,a=(t=n,function(){var e,a=(0,f.default)(t);if(h()){var n=(0,f.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),(t=a.call(this,e)).addDescription=t.addDescription.bind((0,u.default)(t)),t.delete=t.delete.bind((0,u.default)(t)),t.getMinScore=t.getMinScore.bind((0,u.default)(t)),t.getMaxScore=t.getMaxScore.bind((0,u.default)(t)),t.getDescription=t.getDescription.bind((0,u.default)(t)),t.state={descriptions:[{minScore:"",maxScore:"",description:""}]},t}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.props.arrTion&&this.setState({descriptions:this.props.arrTion})}},{key:"componentWillReceiveProps",value:function(e){}},{key:"getMinScore",value:function(e,t){var a=parseInt(e.target.value),n=this.state.descriptions;n[t].minScore=a,this.setState({descriptions:n}),this.props.getDescription(n)}},{key:"getMaxScore",value:function(e,t){var a=parseInt(e.target.value),n=this.state.descriptions;n[t].maxScore=a,this.setState({descriptions:n}),this.props.getDescription(n)}},{key:"getDescription",value:function(e,t){var a=this.state.descriptions;a[t].description=e.target.value,this.setState({descriptions:a}),this.props.getDescription(a)}},{key:"addDescription",value:function(){var e=this.state.descriptions;e.push({minScore:"",maxScore:"",description:""}),this.setState({descriptions:e})}},{key:"delete",value:function(e){var t=this,a=this.state.descriptions.filter((function(t,a){return a!=e}));console.log(123,a),this.setState({descriptions:a},(function(){t.props.getDescription(a)}))}},{key:"render",value:function(){var e=this;if("look"==this.props.type){var t=this.state.descriptions.map((function(t,a){return p.default.createElement("div",{key:a},p.default.createElement(o.default,{type:"number",value:e.state.descriptions[a].minScore,addonAfter:"分",style:{width:150},disabled:!0}),"~",p.default.createElement(o.default,{type:"number",value:e.state.descriptions[a].maxScore,addonAfter:"分",style:{width:150},disabled:!0}),p.default.createElement(o.default,{style:{width:300,marginLeft:15},value:e.state.descriptions[a].description,disabled:!0,maxLength:4}))}));return p.default.createElement("div",null,t)}if("lookhome"==this.props.type){var a=this.state.descriptions.map((function(t,a){return p.default.createElement("div",{key:a},p.default.createElement(o.default,{type:"number",value:e.state.descriptions[a].minScore,addonAfter:"分",style:{width:100},disabled:!0}),"~",p.default.createElement(o.default,{type:"number",value:e.state.descriptions[a].maxScore,addonAfter:"分",style:{width:100},disabled:!0}),p.default.createElement(o.default,{style:{width:100},value:e.state.descriptions[a].description,disabled:!0}))}));return p.default.createElement("div",null,a)}var n=this.state.descriptions.map((function(t,a){return p.default.createElement("div",{key:a},p.default.createElement(o.default,{type:"number",value:e.state.descriptions[a].minScore,addonAfter:"分",style:{width:150},onChange:function(t){return e.getMinScore(t,a)}}),"~",p.default.createElement(o.default,{type:"number",value:e.state.descriptions[a].maxScore,addonAfter:"分",style:{width:150},onChange:function(t){return e.getMaxScore(t,a)}}),p.default.createElement(o.default,{style:{width:300,marginLeft:15},maxLength:4,value:e.state.descriptions[a].description,onChange:function(t){return e.getDescription(t,a)}}),p.default.createElement("a",{style:{marginLeft:15},href:"javascript:void(0)",onClick:function(){return e.delete(a)}},"删除"))}));return p.default.createElement("div",null,n,p.default.createElement("div",null,p.default.createElement(r.default,{type:"primary",onClick:this.addDescription},"添加")))}}]),n}(p.Component);e.exports=m},1364:function(e,t,a){"use strict";var n=a(4),i=a(0);a(227),a(51),a(20),a(34),a(35),a(23),a(229),a(228),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(98));a(224);var o=i(a(225));a(549);var s=i(a(544));a(140);var l=i(a(535));a(648);var u=i(a(619));a(61);var c=i(a(62)),d=i(a(29)),f=i(a(30)),p=i(a(59)),h=i(a(32)),m=i(a(33)),g=i(a(31));a(540);var y=i(a(539));a(537);var v=i(a(536));a(554);var E=i(a(550)),b=n(a(1)),S=i(a(1013)),w=i(a(771)),x=i(a(1365)),k=i(a(1367)),T=i(a(628)),C=i(a(141)),I=i(a(1343)),L=a(52),R=a(1298);function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=E.default.Option,A=v.default.TextArea,Q=y.default.Item;var M=function(e){(0,h.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(D()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;(0,d.default)(this,n),(t=a.call(this,e)).props.init((0,p.default)(t));var i=(0,p.default)(t);return t.tagsComponent="",t.editQuestionRef="",t.state={id:"",questionPagesize:20,questionPage:1,questionKeyword:"",questionType:"0",questionBankName:"",questionBankTags:[],questionBankDescr:"",addQuestion:!1,importVisible:!1,editQuestion:!1,lookQuestionVisible:!1,selectedRowKeys:[],selectedQuestion:[],pageindex:1,pageSize:20,formItemLayout:{},questionColumns:[{title:"序号",dataIndex:"code",key:"code",width:"10%"},{title:"题干",dataIndex:"topic",key:"topic",width:"30%"},{title:"试题类型",dataIndex:"type",key:"type",width:"20%"},{title:"状态",dataIndex:"status",key:"status",width:"20%"},{title:"操作",key:"action",dataIndex:"action",render:function(e,t){return b.default.createElement("div",{className:I.default.operation},b.default.createElement("a",{style:{marginRight:16},href:"javascript:void(0)",onClick:function(){return i.changeQuestion(e.id)}},"修改"),b.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return i.deleteQuestion(e.id)}},"删除"))}}],lookQuestionColumns:[{title:"序号",dataIndex:"code",width:"10%",key:"code"},{title:"题干",dataIndex:"topic",width:"30%",key:"topic"},{title:"试题类型",dataIndex:"type",width:"10%",key:"type"},{title:"状态",dataIndex:"status",width:"10%",key:"status"},{title:"操作",key:"action",dataIndex:"action",render:function(e,t){return b.default.createElement("div",{className:I.default.operation},b.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return i.lookQuestion(e.id)}},"查看"))}}]},t.getQuestionBankName=t.getQuestionBankName.bind((0,p.default)(t)),t.getQuestionBankTags=t.getQuestionBankTags.bind((0,p.default)(t)),t.getQuestionBankDescr=t.getQuestionBankDescr.bind((0,p.default)(t)),t.getQuestionKeyword=t.getQuestionKeyword.bind((0,p.default)(t)),t.getQuestionType=t.getQuestionType.bind((0,p.default)(t)),t.refreshQuestionList=t.refreshQuestionList.bind((0,p.default)(t)),t.createQuestionBank=t.createQuestionBank.bind((0,p.default)(t)),t.createQuestion=t.createQuestion.bind((0,p.default)(t)),t.search=t.search.bind((0,p.default)(t)),t.questionPageChange=t.questionPageChange.bind((0,p.default)(t)),t.onSelectChange=t.onSelectChange.bind((0,p.default)(t)),t.deleteQuestions=t.deleteQuestions.bind((0,p.default)(t)),t.deleteQuestion=t.deleteQuestion.bind((0,p.default)(t)),t.changeQuestion=t.changeQuestion.bind((0,p.default)(t)),t.importQuestions=t.importQuestions.bind((0,p.default)(t)),t.editQuestionComponent=t.editQuestionComponent.bind((0,p.default)(t)),t.initTags=t.initTags.bind((0,p.default)(t)),t.initQuestionBank=t.initQuestionBank.bind((0,p.default)(t)),t.lookQuestion=t.lookQuestion.bind((0,p.default)(t)),t.editQuestion=t.editQuestion.bind((0,p.default)(t)),t.editQuestionBank=t.editQuestionBank.bind((0,p.default)(t)),t}return(0,f.default)(n,[{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[e[n]].action.id);this.setState({selectedRowKeys:e,selectedQuestion:a})}},{key:"getQuestionBankName",value:function(e){this.setState({questionBankName:e.target.value})}},{key:"getQuestionBankTags",value:function(e){this.setState({questionBankTags:e})}},{key:"getQuestionBankDescr",value:function(e){this.setState({questionBankDescr:e.target.value})}},{key:"getQuestionKeyword",value:function(e){this.setState({questionKeyword:e.target.value})}},{key:"getQuestionType",value:function(e){this.setState({questionType:e})}},{key:"initQuestionBank",value:function(){var e=this.props,t=(e.type,e.getQuestionList),a=e.id,n=e.examId;console.log(a,"----------id----------"),t({id:a,examId:n,pageindex:1,pagesize:this.state.questionPagesize})}},{key:"open",value:function(e){switch(e){case"import":this.setState({importVisible:!0});break;case"addQuestion":this.setState({addQuestion:!0});break;case"editQuestion":this.setState({editQuestion:!0});break;case"lookQuestion":this.setState({lookQuestionVisible:!0})}}},{key:"close",value:function(e){switch(e){case"import":this.setState({importVisible:!1});break;case"addQuestion":this.setState({addQuestion:!1});break;case"editQuestion":this.setState({editQuestion:!1});break;case"lookQuestion":this.setState({lookQuestionVisible:!1})}}},{key:"search",value:function(){var e=/[@#\$%\^&\*{}|\\]+/g.test(this.state.questionKeyword),t=this.props,a=t.getQuestionList,n=t.examId;if(e)return c.default.warning("不能输入特殊字符！");a({questionKeyword:this.state.questionKeyword,questionType:this.state.questionType,id:this.props.id,pageindex:1,examId:n,pagesize:this.state.questionPagesize})}},{key:"createQuestionBank",value:function(){var e=this.props.createQuestionBank;if(""!=this.state.questionBankName.trim()){var t=this;e({id:this.props.id,name:this.state.questionBankName.trim(),tags:this.state.questionBankTags.join(","),descr:this.state.questionBankDescr},(function(){t.props.search(),t.props.close()}))}else c.default.info("题库名称不可为空")}},{key:"editQuestionBank",value:function(){var e=this.props,t=e.editQuestionBank,a=e.info,n=this;if(console.log(a),this.state.questionBankName&&!this.state.questionBankName.trim())return!1;t({id:this.props.id,name:this.state.questionBankName?this.state.questionBankName.trim():a.name.trim(),tags:this.state.questionBankTags.join(",")?this.state.questionBankTags.join(","):a.tags.join(","),descr:this.state.questionBankDescr?this.state.questionBankDescr:a.descr},(function(){n.props.search(),n.props.close("edit")}))}},{key:"createQuestion",value:function(e){var t=this.props.createQuestion,a=this;t(e,(function(){a.close("addQuestion"),a.refreshQuestionList()}))}},{key:"editQuestion",value:function(e){var t=this;t.props.editQuestion(e,(function(){t.close("editQuestion"),t.refreshQuestionList()}))}},{key:"lookQuestion",value:function(e){var t=this.props.getQuestionInfo,a=this;t(e,(function(){a.open("lookQuestion")}))}},{key:"changeQuestion",value:function(e){var t=this.props.getQuestionInfo,a=this;t(e,(function(){a.open("editQuestion")}))}},{key:"deleteQuestion",value:function(e){var t=this.props.deleteQuestions,a=this;t([e],(function(){a.refreshQuestionList()}))}},{key:"deleteQuestions",value:function(){var e=this.props.deleteQuestions,t=this;e({id:this.props.id,ids:this.state.selectedQuestion},(function(){t.refreshQuestionList()})),this.setState({selectedQuestion:[]})}},{key:"importQuestions",value:function(e){var t=this.props.importQuestions;t({fileDir:e.path,fileName:e.name,id:this.props.id},(function(){c.default.success("导入成功")}))}},{key:"refreshQuestionList",value:function(){var e=this.props,t=e.getQuestionList,a=e.examId;t({questionKeyword:this.state.questionKeyword,questionType:this.state.questionType,id:this.props.id,pageindex:1,examId:a,pagesize:this.state.questionPagesize})}},{key:"questionPageChange",value:function(e,t){var a=this.props,n=a.getQuestionList,i=a.examId;n({questionKeyword:this.state.questionKeyword,questionType:this.state.questionType,id:this.props.id,pageindex:e,examId:i,pagesize:t}),t!=this.state.questionPagesize&&this.setState({questionPagesize:t}),this.setState({questionPage:e})}},{key:"editQuestionComponent",value:function(e){this.editQuestionRef=e}},{key:"initTags",value:function(e){this.tagsComponent=e}},{key:"renderTags",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(b.default.createElement(u.default,{key:n},t[n]));return a}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.questionList,i=a.questionFetching,u=a.questionTotal,c=a.type,d=this.state,f=d.questionPagesize,p=d.questionPage,h=C.default.paginationConfig(this.questionPageChange),m=[];if(n.length>0){h.total=u,h.showTotal=function(e){return"总共：".concat(e," ")};for(var g=0;g<n.length;g++)m.push({key:g,code:(p-1)*f+g+1,topic:n[g].stem,type:C.default.getType("question",n[g].type),status:C.default.getStatus("question",n[g].status),action:n[g]})}else h.total=u;var I={selectedRowKeys:this.state.selectedRowKeys,onChange:this.onSelectChange};if("look"==c){var L=this.props.info;return b.default.createElement("div",null,b.default.createElement("h3",null,"基本信息"),b.default.createElement(y.default,{layout:"horizontal"},b.default.createElement(Q,this.state.formItemLayout,b.default.createElement("span",null,"题库名称："),b.default.createElement("span",null,L.name)),b.default.createElement(Q,this.state.formItemLayout,b.default.createElement("span",null,"自定义关键词："),this.renderTags(c,L.tags)),b.default.createElement(Q,this.state.formItemLayout,b.default.createElement("span",null,"备注说明："),b.default.createElement("span",{style:{whiteSpace:"pre-wrap"}},L.descr))),b.default.createElement("h3",null,"试题详情"),b.default.createElement("div",{style:{marginTop:10}},b.default.createElement(v.default,{maxLength:20,addonBefore:"关键字",placeholder:"请输入题干名称",style:{width:280,marginRight:16},onChange:this.getQuestionKeyword}),"试题类型："," ",b.default.createElement(E.default,{placeholder:"试题类型",style:{width:120,marginRight:16},onChange:this.getQuestionType},b.default.createElement(O,{value:"0"},"全部"),b.default.createElement(O,{value:"1"},"单选"),b.default.createElement(O,{value:"2"},"多选"),b.default.createElement(O,{value:"3"},"判断"),b.default.createElement(O,{value:"4"},"问答")),b.default.createElement(l.default,{type:"primary",onClick:this.search,style:{marginRight:10}},"查询")),b.default.createElement(s.default,{style:{marginTop:16},scroll:{y:300},loading:i,columns:this.state.lookQuestionColumns,dataSource:m,pagination:h}),b.default.createElement(o.default,{width:1200,title:"查看试题",visible:this.state.lookQuestionVisible,onCancel:function(){return e.close("lookQuestion")},footer:null},b.default.createElement(k.default,{close:function(){return e.close("editQuestion")},editQuestionComponent:this.editQuestionComponent,type:"look",id:this.props.id,info:this.props.questionInfo,editQuestion:this.editQuestion})))}if("edit"==c){var R=this.props.info;return b.default.createElement("div",null,b.default.createElement("h3",null,"基本信息"),b.default.createElement(y.default,{layout:"horizontal",style:{marginTop:15}},b.default.createElement(Q,(0,r.default)({label:"题库名称"},this.state.formItemLayout),t("questionBankName",{initialValue:R.name,rules:[{required:!0,validator:function(e,t,a){(0,T.default)(e,t,a,"请输小于100字的题库名称",100)}}]})(b.default.createElement(v.default,{placeholder:"请输小于100字的题库名称",onChange:this.getQuestionBankName}))),b.default.createElement(Q,(0,r.default)({label:"自定义关键词"},this.state.formItemLayout),t("questionBankTags",{rules:[]})(b.default.createElement(w.default,{init:this.initTags,defaultTags:R.tags,getTags:this.getQuestionBankTags,questionbank:"questionbank"}))),b.default.createElement(Q,(0,r.default)({label:"备注说明"},this.state.formItemLayout),t("questionBankRemark",{rules:[],initialValue:R.descr})(b.default.createElement(A,{maxLength:500,onChange:this.getQuestionBankDescr})))),b.default.createElement("h3",null,"试题详情"),b.default.createElement("div",null,b.default.createElement(l.default,{type:"primary",style:{marginRight:10},onClick:function(){return e.open("addQuestion")}},"新建试题")),b.default.createElement("div",{style:{marginTop:10}},b.default.createElement(v.default,{maxLength:20,addonBefore:"关键字",placeholder:"请输入题干名称",style:{width:280,marginRight:10},onChange:this.getQuestionKeyword}),"试题类型："," ",b.default.createElement(E.default,{placeholder:"试题类型",style:{width:120,marginRight:10},onChange:this.getQuestionType},b.default.createElement(O,{value:"0"},"全部"),b.default.createElement(O,{value:"1"},"单选"),b.default.createElement(O,{value:"2"},"多选"),b.default.createElement(O,{value:"3"},"判断"),b.default.createElement(O,{value:"4"},"问答")),b.default.createElement(l.default,{type:"primary",onClick:this.search,style:{marginRight:10}},"查询")),b.default.createElement(s.default,{style:{marginTop:10},scroll:{y:300},rowSelection:I,loading:i,columns:this.state.questionColumns,dataSource:m,pagination:h}),b.default.createElement("div",{style:{textAlign:"center",marginTop:10}},b.default.createElement(l.default,{onClick:this.props.close,style:{marginRight:10}},"取消"),b.default.createElement(l.default,{type:"primary",onClick:this.editQuestionBank,style:{marginRight:10}},"保存")),this.state.addQuestion&&b.default.createElement(o.default,{width:1200,title:"新建试题",visible:this.state.addQuestion,onCancel:function(){return e.close("addQuestion")},footer:null},b.default.createElement(x.default,{close:function(){return e.close("addQuestion")},id:this.props.id,createQuestion:this.createQuestion})),this.state.editQuestion&&b.default.createElement(o.default,{width:1200,title:"编辑试题",visible:this.state.editQuestion,onCancel:function(){return e.close("editQuestion")},footer:null},b.default.createElement(k.default,{close:function(){return e.close("editQuestion")},editQuestionComponent:this.editQuestionComponent,type:"edit",id:this.props.id,info:this.props.questionInfo,editQuestion:this.editQuestion})),b.default.createElement(o.default,{onCancel:function(){return e.close("import")},visible:this.state.importVisible,footer:null,title:"导入"},b.default.createElement(S.default,{isPreview:!1,getUrl:this.importQuestions})))}return b.default.createElement("div",null,b.default.createElement("h3",null,"基本信息"),b.default.createElement(y.default,{layout:"horizontal",style:{marginTop:15}},b.default.createElement(Q,(0,r.default)({label:"题库名称"},this.state.formItemLayout),t("questionBankName",{rules:[{required:!0,validator:function(e,t,a){(0,T.default)(e,t,a,"请输小于100字的题库名称",100)}}]})(b.default.createElement(v.default,{placeholder:"请输小于100字的题库名称",onChange:this.getQuestionBankName}))),b.default.createElement(Q,(0,r.default)({label:"自定义关键词"},this.state.formItemLayout),t("questionBankTags",{rules:[]})(b.default.createElement(w.default,{init:this.initTags,defaultTags:this.state.questionBankTags,getTags:this.getQuestionBankTags,questionbank:"questionbank"}))),b.default.createElement(Q,(0,r.default)({label:"备注说明"},this.state.formItemLayout),t("questionBankRemark",{rules:[]})(b.default.createElement(A,{maxLength:500,onChange:this.getQuestionBankDescr})))),b.default.createElement("h3",null,"试题详情"),b.default.createElement("div",null,b.default.createElement(l.default,{type:"primary",style:{marginRight:10},onClick:function(){return e.open("addQuestion")}},"新建试题")),b.default.createElement("div",{style:{marginTop:10}},b.default.createElement(v.default,{addonBefore:"关键字",maxLength:20,placeholder:"请输入题干名称",style:{width:280,marginRight:10},onChange:this.getQuestionKeyword}),"试题类型："," ",b.default.createElement(E.default,{placeholder:"试题类型",style:{width:120,marginRight:10},defaultValue:"0",onChange:this.getQuestionType},b.default.createElement(O,{value:"0"},"全部"),b.default.createElement(O,{value:"1"},"单选"),b.default.createElement(O,{value:"2"},"多选"),b.default.createElement(O,{value:"3"},"判断"),b.default.createElement(O,{value:"4"},"问答")),b.default.createElement(l.default,{type:"primary",onClick:this.search,style:{marginRight:10}},"查询")),b.default.createElement(s.default,{style:{marginTop:10},scroll:{y:300},rowSelection:I,loading:i,columns:this.state.questionColumns,dataSource:m,pagination:h}),b.default.createElement("div",{style:{textAlign:"center",marginTop:10}},b.default.createElement(l.default,{onClick:this.props.close,style:{marginRight:10}},"取消"),b.default.createElement(l.default,{type:"primary",onClick:this.createQuestionBank,style:{marginRight:10}},"保存")),this.state.addQuestion&&b.default.createElement(o.default,{width:1200,title:"新建试题",visible:this.state.addQuestion,onCancel:function(){return e.close("addQuestion")},destroyOnClose:1,footer:null},b.default.createElement(x.default,{close:function(){return e.close("addQuestion")},id:this.props.id,createQuestion:this.createQuestion})),this.state.editQuestion&&b.default.createElement(o.default,{width:1200,title:"编辑试题",visible:this.state.editQuestion,onCancel:function(){return e.close("editQuestion")},footer:null,destroyOnClose:1},b.default.createElement(k.default,{close:function(){return e.close("editQuestion")},editQuestionComponent:this.editQuestionComponent,id:this.props.id,info:this.props.questionInfo,editQuestion:this.editQuestion})),b.default.createElement(o.default,{onCancel:function(){return e.close("import")},visible:this.state.importVisible,footer:null,title:"导入"},b.default.createElement(S.default,{isPreview:!1,getUrl:this.importQuestions})))}}]),n}(b.Component),P=y.default.create()(M),B=(0,L.connect)((function(e,t){return{questionList:e.questionBank.questionList,questionTotal:e.questionBank.questionTotal,questionFetching:e.questionBank.questionFetching,questionInfo:e.questionBank.questionInfo}}),(function(e){return{getQuestionList:function(t){return e((0,R.getQuestionList)(t))},createQuestionBank:function(t,a){return e((0,R.createQuestionBank)(t,a))},editQuestionBank:function(t,a){return e((0,R.editQuestionBank)(t,a))},createQuestion:function(t,a){return e((0,R.createQuestion)(t,a))},deleteQuestions:function(t,a){return e((0,R.deleteQuestions)(t,a))},importQuestions:function(t,a){return e((0,R.importQuestions)(t,a))},editQuestion:function(t,a){return e((0,R.editQuestion)(t,a))},getQuestionBankInfo:function(t,a){return e((0,R.getQuestionBankInfo)(t,a))},getQuestionInfo:function(t,a){return e((0,R.getQuestionInfo)(t,a))}}}))(P);t.default=B},1365:function(e,t,a){"use strict";var n=a(4),i=a(0);a(7),a(44),a(3),a(5),a(101),a(227),a(43),a(143),a(51),a(633),a(9),a(10),a(8),a(20),a(34),a(23),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(574);var r=i(a(565));a(578);var o=i(a(570));a(140);var s=i(a(535)),l=i(a(98));a(224);var u=i(a(225));a(598);var c=i(a(768)),d=i(a(110));a(61);var f=i(a(62)),p=i(a(29)),h=i(a(30)),m=i(a(59)),g=i(a(32)),y=i(a(33)),v=i(a(31)),E=i(a(2));a(537);var b=i(a(536));a(540);var S=i(a(539));a(556);var w=i(a(553)),x=n(a(1)),k=i(a(1013)),T=i(a(771)),C=i(a(1366)),I=i(a(1295));a(1308);var L=a(52),R=a(561);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A=w.default.Button,Q=w.default.Group,M=S.default.Item,P=b.default.TextArea,B=function(e){(0,g.default)(n,e);var t,a=(t=n,function(){var e,a=(0,v.default)(t);if(O()){var n=(0,v.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,y.default)(this,e)});function n(){var e;(0,p.default)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=a.call.apply(a,[this].concat(i)),(0,E.default)((0,m.default)(e),"closeUploadProgress",(function(){e.setState({fileList:[],uploadProgress:!1})})),(0,E.default)((0,m.default)(e),"handleChange",(function(t){t.event&&e.setState({uploadPercent:t.event.percent.toFixed(0)-0});var a=t.fileList;a=a.slice(-1),"done"===t.file.status&&(f.default.success("上传成功"),e.setState({fileLists:a,uploadPercent:100,uploadProgress:!1,playLoading:!1})),"error"===t.file.status&&(f.default.error("上传失败，请重新尝试"),e.setState({fileLists:[],uploadProgress:!1}))})),(0,E.default)((0,m.default)(e),"beforeUpload",(function(t,a){if(!/(mp4|png|jpg|gif|jpeg|mp3)$/gi.test(t.name))return f.default.error("文件类型不对"),!1;if(-1!==t.type.indexOf("image")){if(t.size>3145728)return f.default.info("请上传小于3M的图片"),!1}else if(t.size>209715200)return f.default.info("请上传小于200M的文件"),!1;if(a.length>1)return f.default.error("一次只能导入一个文件"),e.setState({fileList:[]}),!1;var n=e.props.param;e.setState({uploadParams:{Filename:n.dir+"/"+t.name,key:n.dir+"/"+t.name,policy:n.policy,OSSAccessKeyId:n.accessid,success_action_status:"200",signature:n.signature},uploadAction:n.host,originalFile:t.name,originalFileUrl:n.host+"/"+n.dir+"/"+t.name,uploadProgress:!0,fileLists:a})})),(0,E.default)((0,m.default)(e),"normFile",(function(t){return Array.isArray(t)?t:t&&e.state.fileLists})),e.tagsComponent="",e.optionsComponent="",e.state={formItemLayout:{labelCol:{span:4},wrapperCol:{span:20}},formButtonLayout:{labelCol:{span:0},wrapperCol:{span:24}},fileNames:[],fileList:[],questionType:1,importVisible:!1,tags:[],id:"",topic:"",analysis:"",options:[{content:"",isAnswer:1},{content:"",isAnswer:0}],uploadAction:"",uploadParams:{},typeRight:!1,fileLists:[],uploadPercent:0,uploadProgress:!1,playLoading:!1,originalFileUrl:null,originalFile:null,randoms:Math.random()},e.props.gupfetch(),e.addQuestionSubmit=e.addQuestionSubmit.bind((0,m.default)(e)),e.onTypeChange=e.onTypeChange.bind((0,m.default)(e)),e.getTags=e.getTags.bind((0,m.default)(e)),e.getOptions=e.getOptions.bind((0,m.default)(e)),e.getTopic=e.getTopic.bind((0,m.default)(e)),e.getAnalysis=e.getAnalysis.bind((0,m.default)(e)),e.addNext=e.addNext.bind((0,m.default)(e)),e.clearQuestion=e.clearQuestion.bind((0,m.default)(e)),e.importFiles=e.importFiles.bind((0,m.default)(e)),e.getFileList=e.getFileList.bind((0,m.default)(e)),e.initOptions=e.initOptions.bind((0,m.default)(e)),e.initTags=e.initTags.bind((0,m.default)(e)),e.closeImportFiles=e.closeImportFiles.bind((0,m.default)(e)),e}return(0,h.default)(n,[{key:"componentDidMount",value:function(){this.state.id!=this.props.id&&this.setState({id:this.props.id}),this.props.gupfetch()}},{key:"onTypeChange",value:function(e){this.setState({questionType:e.target.value,tags:[],randoms:Math.random()})}},{key:"getTopic",value:function(e){e.target.value.length<500?this.setState({topic:e.target.value}):f.default.warning("题干长度不能超过500个字！")}},{key:"getTags",value:function(e){this.setState({tags:e})}},{key:"getOptions",value:function(e){var t=[];e.length>0&&(t=e.map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,E.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{sort:t+1})}))),this.setState({options:t})}},{key:"getAnalysis",value:function(e){e.target.value.length<500?this.setState({analysis:e.target.value}):f.default.warning("题目解析长度不能超过500个字！")}},{key:"getFileList",value:function(e){var t=this.state,a=t.fileList,n=t.fileNames;a.push(e.url),n.push(e.name),this.setState({fileList:a,fileNames:n}),this.closeImportFiles()}},{key:"addQuestionSubmit",value:function(e){var t=this,a=(this.renderRight(),this.props),n=a.createQuestion,i=(a.info,this.state),r=i.id,o=i.questionType,s=i.topic,l=i.tags,u=i.analysis,c=i.originalFileUrl;if(2==o&&this.state.options.filter((function(e){return 1==e.isAnswer})).length<=1)return f.default.error("多选题必须选择两个");var d={libraryId:r,type:o,stem:s,questionLabel:l.join(","),analysis:u,stemAppendixUrl:c};this.props.form.validateFields((function(a,i){if(!a){if(4!=t.state.questionType){for(var r=0;r<t.state.options.length;r++)if(""==t.state.options[r].content)return f.default.warning("请补全选项内容或刪除不必要选项！");d.trQuestionSubjectOptionVOList=t.state.options}n(d,(function(){e&&e()}))}}))}},{key:"addNext",value:function(){this.clearQuestion()}},{key:"clearQuestion",value:function(){this.props.form.resetFields(),this.tagsComponent.initTags([]),this.optionsComponent.initOptions([0,1]),this.setState({fileList:[],fileNames:[]})}},{key:"formatOptions",value:function(e){var t=[];if("object"==(0,d.default)(e.right))for(var a=0;a<e.items.length;a++)-1==e.right.indexOf(a)?t.push({content:e.items[a],isAnswer:0}):t.push({content:e.items[a],isAnswer:1});else for(var n=0;n<e.items.length;n++)e.right==n?t.push({content:e.items[n],isAnswer:1}):t.push({content:e.items[n],isAnswer:0});return t}},{key:"initOptions",value:function(e){this.optionsComponent=e}},{key:"initTags",value:function(e){this.tagsComponent=e}},{key:"importFiles",value:function(){this.setState({importVisible:!0})}},{key:"closeImportFiles",value:function(){this.setState({importVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=(a.uploadParams,a.uploadAction,a.originalFileUrl,{labelCol:{span:6},wrapperCol:{span:18}}),i={uploadUtilName:"上传图片/音/视频",getUrl:function(t,a){e.setState({originalFileUrl:t,fileName:a})},defaultUrl:this.state.originalFileUrl?[{uid:1,status:"done",url:this.state.originalFileUrl,name:this.state.originalFileUrl}]:[]};return 4==this.state.questionType?x.default.createElement("div",null,x.default.createElement(u.default,{title:"上传进度",visible:this.state.uploadProgress,footer:null,onCancel:this.closeUploadProgress},x.default.createElement(c.default,{percent:this.state.uploadPercent})),x.default.createElement(r.default,null,x.default.createElement(o.default,{span:24},x.default.createElement(S.default,{layout:"horizontal",style:{marginTop:15},onSubmit:this.addQuestionSubmit},x.default.createElement(M,(0,l.default)({label:"题型"},this.state.formItemLayout),t("questionType",{initialValue:this.state.questionType,rules:[]})(x.default.createElement(Q,{onChange:this.onTypeChange},x.default.createElement(A,{value:1},"单选题"),x.default.createElement(A,{value:2},"多选题"),x.default.createElement(A,{value:3},"判断题"),x.default.createElement(A,{value:4},"问答题")))),x.default.createElement(M,(0,l.default)({label:"标签"},this.state.formItemLayout),t("tags",{rules:[]})(x.default.createElement(T.default,{init:this.initTags,defaultTags:[this.state.tags],questionbank:"questionbank",getTags:this.getTags}))),x.default.createElement(M,(0,l.default)({label:"题干"},this.state.formItemLayout),t("topic",{rules:[{required:!0,message:"请输入题干"}],initialValue:""})(x.default.createElement(P,{placeholder:"请输入题干",maxLength:500,onChange:this.getTopic})),x.default.createElement("br",null)),x.default.createElement(M,(0,l.default)({},n,{style:{marginLeft:155,marginTop:-15}}),t("contentAppendixUrl",{})(x.default.createElement(I.default,i))),x.default.createElement(M,(0,l.default)({label:"题目解析"},this.state.formItemLayout),t("analysis",{rules:[]})(x.default.createElement(P,{maxLength:500,onChange:this.getAnalysis}))),x.default.createElement(M,(0,l.default)({label:""},this.state.formButtonLayout),t("button",{rules:[]})(x.default.createElement("div",{style:{textAlign:"center"}},x.default.createElement(s.default,{type:"primary",style:{marginRight:10},onClick:this.addQuestionSubmit},"保存"),x.default.createElement(s.default,{onClick:this.props.close},"取消"))))))),x.default.createElement(u.default,{onCancel:this.closeImportFiles,visible:this.state.importVisible,footer:null,title:"导入"},x.default.createElement(k.default,{isPreview:"on",getUrl:this.getFileList}))):x.default.createElement("div",null,x.default.createElement(u.default,{title:"上传进度",visible:this.state.uploadProgress,footer:null,onCancel:this.closeUploadProgress},x.default.createElement(c.default,{percent:this.state.uploadPercent})),x.default.createElement(r.default,null,x.default.createElement(o.default,{span:24},x.default.createElement(S.default,{layout:"horizontal",style:{marginTop:15},onSubmit:this.addQuestionSubmit},x.default.createElement(M,(0,l.default)({label:"题型"},this.state.formItemLayout),t("questionType",{initialValue:this.state.questionType,rules:[{required:!0,message:"请选择题型"}]})(x.default.createElement(Q,{onChange:this.onTypeChange},x.default.createElement(A,{value:1},"单选题"),x.default.createElement(A,{value:2},"多选题"),x.default.createElement(A,{value:3},"判断题"),x.default.createElement(A,{value:4},"问答题")))),x.default.createElement(M,(0,l.default)({label:"标签"},this.state.formItemLayout),t("tags",{rules:[]})(x.default.createElement(T.default,{init:this.initTags,defaultTags:this.state.tags,questionbank:"questionbank",getTags:this.getTags}))),x.default.createElement(M,(0,l.default)({label:"题干"},this.state.formItemLayout),t("topic",{rules:[{required:!0,message:"请输入题干"}],initialValue:""})(x.default.createElement(P,{placeholder:"请输入题干",maxLength:500,onChange:this.getTopic})),x.default.createElement("br",null)),x.default.createElement(M,(0,l.default)({},n,{style:{marginLeft:155,marginTop:-15}}),t("contentAppendixUrl",{})(x.default.createElement(I.default,i))),x.default.createElement(M,(0,l.default)({label:"选项"},this.state.formItemLayout),t("options",{rules:[{required:!0,message:"请输入选项"}]})(x.default.createElement("div",null,x.default.createElement(C.default,{key:this.state.randoms,init:this.initOptions,type:this.state.questionType,getData:this.getOptions})))),x.default.createElement(M,(0,l.default)({label:"题目解析"},this.state.formItemLayout),t("analysis",{rules:[]})(x.default.createElement(P,{placeholder:"请输入题目解析,限制字数500字以内",maxLength:500,onChange:this.getAnalysis}))),x.default.createElement(M,(0,l.default)({label:""},this.state.formButtonLayout),t("button",{rules:[]})(x.default.createElement("div",{style:{textAlign:"center"}},x.default.createElement(s.default,{type:"primary",style:{marginRight:10},onClick:this.addQuestionSubmit},"保存"),x.default.createElement(s.default,{onClick:this.props.close},"取消"))))))),x.default.createElement(u.default,{onCancel:this.closeImportFiles,visible:this.state.importVisible,footer:null,title:"导入"},x.default.createElement(k.default,{isPreview:"on",getUrl:this.getFileList})))}}]),n}(x.Component);var q=S.default.create()(B),N=S.default.create()((0,L.connect)((function(e,t){return{param:e.uploadParam.param}}),(function(e){return{gupfetch:function(){return e((0,R.gupfetch)())}}}))(q));t.default=N},1366:function(e,t,a){"use strict";var n=a(4),i=a(0);a(3),a(227),a(43),a(20),a(34),a(23),a(140);var r=i(a(535));a(564);var o=i(a(563));a(537);var s=i(a(536));a(648);var l=i(a(619));a(61);var u=i(a(62)),c=i(a(29)),d=i(a(30)),f=i(a(59)),p=i(a(32)),h=i(a(33)),m=i(a(31)),g=i(a(2));a(712);var y=i(a(643));a(556);var v=i(a(553));a(540);var E=i(a(539)),b=n(a(1));function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=E.default.Item,x=v.default.Group,k=y.default.Group,T=function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,m.default)(t);if(S()){var n=(0,m.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,h.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,g.default)((0,f.default)(t),"change",(function(e,a){var n=t.state.options;n[a].content=e.target.value,t.setState({options:n}),t.props.getData(n)})),(0,g.default)((0,f.default)(t),"trueFalsechange",(function(e,a){var n=t.state.TrueOrFalse;n[a].content=e.target.value,t.setState({options:n}),t.props.getData(n)})),(0,g.default)((0,f.default)(t),"up",(function(e){if(0!=e){var a=t.state.options,n=a[e-1];a[e-1]=a[e],a[e]=n;var i=(0,f.default)(t);t.setState({options:[]}),setTimeout((function(){i.setState({options:a})}),2),t.props.getData(a)}else u.default.info("第一个选项不可上移")})),(0,g.default)((0,f.default)(t),"down",(function(e){if(e!=t.state.options.length-1){var a=t.state.options,n=a[e+1];a[e+1]=a[e],a[e]=n;var i=(0,f.default)(t);t.setState({options:[]}),setTimeout((function(){i.setState({options:a})}),2),t.props.getData(a)}else u.default.info("最后一个选项不可下移")})),(0,g.default)((0,f.default)(t),"delete",(function(e){var a=t.state.options,n=0;if(a.length<=2)u.default.info("选项不能少于两个");else{1===a[e].isAnswer&&(0===e?(a[e+1].isAnswer=1,n=e):e===a.length-1?(a[e-1].isAnswer=1,n=e-1):(a[e+1].isAnswer=1,n=e));var i=a.filter((function(t,a){return a!=e}));t.setState({options:[],right:n}),setTimeout((function(){t.setState({options:i,right:n})}),2),t.props.getData(i)}})),(0,g.default)((0,f.default)(t),"add",(function(){var e=t.state.options;e.push({isAnswer:0,content:""}),t.setState({options:e})})),(0,g.default)((0,f.default)(t),"select",(function(e){if(2==t.props.type){var a=t.state.options.map((function(e){return{isAnswer:0,content:e.content}}));e.map((function(e){a[e].isAnswer=1})),t.setState({options:a,rightGroup:e}),t.props.getData(a)}else if(1==t.props.type){var n=parseInt(e.target.value);(a=t.state.options.map((function(e,t){return{isAnswer:0,content:e.content}})))[n].isAnswer=1,t.setState({options:a,right:n}),t.props.getData(a)}else if(3==t.props.type){n=parseInt(e.target.value);(a=t.state.TrueOrFalse.map((function(e,t){return{isAnswer:0,content:e.content}})))[n].isAnswer=1,t.setState({options:a,right:n,TrueOrFalse:a}),t.props.getData(a)}})),(0,g.default)((0,f.default)(t),"renderRight",(function(){return t.state.options.map((function(e,t){if(1==e.isAnswer)return b.default.createElement(l.default,{key:t,color:"green"},t+1)}))})),(0,g.default)((0,f.default)(t),"renderOptions",(function(e){var a=t.props.form.getFieldDecorator;return 2==t.props.type?"look"==t.props.pattern?t.state.options.map((function(e,n){return b.default.createElement(E.default,{layout:"inline",key:n+t.state.update,onSubmit:t.optionSubmit},b.default.createElement(w,null,a("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:e.content})(b.default.createElement(s.default,{disabled:!0,style:{width:250},maxLength:500,onChange:function(e){return t.change(e,n)}}))))})):(console.log("num:"+e),t.state.options.map((function(e,n){return b.default.createElement(E.default,{layout:"inline",key:n+t.state.update,onSubmit:t.optionSubmit},b.default.createElement(w,null,b.default.createElement(y.default,{value:n},n+1)),b.default.createElement(w,null,a("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:e.content})(b.default.createElement(s.default,{style:{width:250},maxLength:500,onChange:function(e){return t.change(e,n)}}))),b.default.createElement(w,null,b.default.createElement(o.default,{title:"删除选项可能造成已设置的正确选项错误，确认删除?",onConfirm:function(){return t.delete(n)},okText:"确定",cancelText:"取消"},b.default.createElement("a",null,"删除"))))}))):1==t.props.type?"look"==t.props.pattern?t.state.options.map((function(e,n){return b.default.createElement(E.default,{layout:"inline",key:n+t.state.update,onSubmit:t.optionSubmit},b.default.createElement(w,null,b.default.createElement(v.default,{value:n},n+1)),b.default.createElement(w,null,a("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:e.content})(b.default.createElement(s.default,{disabled:!0,style:{width:250},maxLength:500,onChange:function(e){return t.change(e,n)}}))))})):t.state.options.map((function(e,n){return b.default.createElement(E.default,{layout:"inline",key:n+t.state.update,onSubmit:t.optionSubmit},b.default.createElement(w,null,b.default.createElement(v.default,{value:n},n+1)),b.default.createElement(w,null,a("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:e.content})(b.default.createElement(s.default,{style:{width:250},maxLength:500,onChange:function(e){return t.change(e,n)}}))),b.default.createElement(w,null,b.default.createElement(o.default,{title:"删除选项可能造成已设置的正确选项错误，确认删除?",onConfirm:function(){return t.delete(n)},okText:"确定",cancelText:"取消"},b.default.createElement("a",null,"删除"))))})):3==t.props.type?"look"==t.props.pattern?t.state.options.map((function(e,n){return b.default.createElement(E.default,{layout:"inline",key:n+t.state.update,onSubmit:t.optionSubmit},b.default.createElement(w,null,b.default.createElement(v.default,{value:n},n+1)),b.default.createElement(w,null,a("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:e.content})(b.default.createElement(s.default,{disabled:!0,style:{width:250},maxLength:500,onChange:function(e){return t.change(e,n)}}))))})):t.state.TrueOrFalse.map((function(e,n){return b.default.createElement(E.default,{layout:"inline",key:n+t.state.update,onSubmit:t.optionSubmit},b.default.createElement(w,null,b.default.createElement(v.default,{value:n},n+1)),b.default.createElement(w,null,a("content-"+n,{rules:[{required:!1,message:"请输入内容!"}],initialValue:e.content})(b.default.createElement(s.default,{style:{width:250},maxLength:500,onChange:function(e){return t.trueFalsechange(e,n)}}))))})):void 0})),t.state={options:[{isAnswer:1,content:""},{isAnswer:0,content:""},{isAnswer:2,content:""},{isAnswer:3,content:""}],TrueOrFalse:[{isAnswer:1,content:""},{isAnswer:0,content:""}],right:0,rightGroup:[0],update:""},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.state.options;var e=this.props.defaultOptions;if(e&&e.length>0){var t,a,n=e.map((function(e){return{content:e.content,isAnswer:e.isAnswer}}));2==this.props.type?t=e.map((function(e){if(1==e.isAnswer)return index})):a=(a=e.map((function(e,t){if(1==e.isAnswer)return t}))).join(""),console.log(a),this.setState({options:n,rightGroup:t,right:a})}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.right;return console.log("right:"+t),2==this.props.type?b.default.createElement("div",null,b.default.createElement(E.default,{layout:"horizontal",key:this.state.update},b.default.createElement(w,null,"正确选项：",this.renderRight()),b.default.createElement(w,null,e("select",{rules:[{required:!0,message:"请输入内容!"}],initialValue:this.state.rightGroup})(b.default.createElement(k,{onChange:this.select},this.renderOptions()))),"look"==this.props.pattern?"":b.default.createElement(w,null,b.default.createElement(r.default,{onClick:this.add},"增加选项")))):1==this.props.type?b.default.createElement("div",null,b.default.createElement(E.default,{layout:"horizontal",key:this.state.update},b.default.createElement(w,null,"正确选项：",this.renderRight()),b.default.createElement(w,null,e("select",{rules:[{required:!0,message:"请输入内容!"}],initialValue:this.state.right})(b.default.createElement(x,{onChange:this.select},this.renderOptions(t)))),"look"==this.props.pattern?"":b.default.createElement(w,null,b.default.createElement(r.default,{onClick:this.add},"增加选项")))):3==this.props.type?b.default.createElement("div",null,b.default.createElement(E.default,{layout:"horizontal",key:this.state.update},b.default.createElement(w,null,"正确选项：",this.renderRight()),b.default.createElement(w,null,e("select",{rules:[{required:!1,message:"请输入内容!"}],initialValue:this.state.right})(b.default.createElement(x,{onChange:this.select},this.renderOptions()))))):void 0}}]),n}(b.Component),C=E.default.create()(T);e.exports=C},1367:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(101),a(227),a(143),a(51),a(633),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var r=i(a(535));a(574);var o=i(a(565));a(578);var s=i(a(570)),l=i(a(98)),u=i(a(110));a(61);var c=i(a(62)),d=i(a(29)),f=i(a(30)),p=i(a(59)),h=i(a(32)),m=i(a(33)),g=i(a(31)),y=i(a(2));a(537);var v=i(a(536));a(540);var E=i(a(539));a(556);var b=i(a(553)),S=n(a(1)),w=i(a(141)),x=a(52),k=a(561),T=i(a(1295)),C=i(a(771)),I=i(a(1368));function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}a(1308);b.default.Button,b.default.Group;var R=E.default.Item,D=v.default.TextArea,O=function(e){(0,h.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(L()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(){var e;(0,d.default)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=a.call.apply(a,[this].concat(i)),(0,y.default)((0,p.default)(e),"handleChange",(function(t){t.event&&e.setState({uploadPercent:t.event.percent.toFixed(0)-0});var a=t.fileList;a=a.slice(-1),"done"===t.file.status&&(c.default.success("上传成功"),e.setState({fileLists:a,uploadPercent:100,uploadProgress:!1,playLoading:!1})),"error"===t.file.status&&(c.default.error("上传失败，请重新尝试"),e.setState({fileLists:[],uploadProgress:!1}))})),(0,y.default)((0,p.default)(e),"beforeUpload",(function(t,a){if(!/(mp4|png|jpg|gif|jpeg|mp3)$/gi.test(t.name))return c.default.error("文件类型不对"),!1;if(-1!==t.type.indexOf("image")){if(t.size>3145728)return c.default.info("请上传小于3M的图片"),!1}else if(t.size>209715200)return c.default.info("请上传小于200M的文件"),!1;if(a.length>1)return c.default.error("一次只能导入一个文件"),e.setState({fileList:[]}),!1;var n=e.props.param;e.setState({uploadParams:{Filename:n.dir+"/"+t.name,key:n.dir+"/"+t.name,policy:n.policy,OSSAccessKeyId:n.accessid,success_action_status:"200",signature:n.signature},uploadAction:n.host,originalFile:t.name,originalFileUrl:n.host+"/"+n.dir+"/"+t.name,uploadProgress:!0,fileLists:a})})),(0,y.default)((0,p.default)(e),"normFile",(function(t){return Array.isArray(t)?t:t&&e.state.fileLists})),e.tagsComponent="",e.optionsComponent="",e.props.editQuestionComponent((0,p.default)(e)),e.state={formItemLayout:{},formButtonLayout:{labelCol:{span:0},wrapperCol:{span:24}},tags:[],id:"",topic:"",analysis:"",options:"",uploadAction:"",uploadParams:{},originalFileUrl:null,questionType:e.props.info.questionType},e.addQuestionSubmit=e.addQuestionSubmit.bind((0,p.default)(e)),e.onTypeChange=e.onTypeChange.bind((0,p.default)(e)),e.getTags=e.getTags.bind((0,p.default)(e)),e.onTypeChange=e.onTypeChange.bind((0,p.default)(e)),e.getOptions=e.getOptions.bind((0,p.default)(e)),e.getTopic=e.getTopic.bind((0,p.default)(e)),e.getAnalysis=e.getAnalysis.bind((0,p.default)(e)),e.setInfo=e.setInfo.bind((0,p.default)(e)),e.initTags=e.initTags.bind((0,p.default)(e)),e.initOptions=e.initOptions.bind((0,p.default)(e)),e.editQuestionSubmit=e.editQuestionSubmit.bind((0,p.default)(e)),e}return(0,f.default)(n,[{key:"componentDidMount",value:function(){this.props.gupfetch()}},{key:"onTypeChange",value:function(e){this.setState({questionType:e.target.value,tags:[]})}},{key:"setInfo",value:function(){var e=this.props.info;this.setState({topic:e.topic,tags:e.tags,options:e.options,analysis:e.analysis,id:this.props.id}),this.tagsComponent.initTags(),this.optionsComponent.initOptions()}},{key:"getTopic",value:function(e){this.setState({topic:e.target.value})}},{key:"getTags",value:function(e){this.setState({tags:e})}},{key:"getOptions",value:function(e){this.setState({options:e})}},{key:"getAnalysis",value:function(e){this.setState({analysis:e.target.value})}},{key:"addQuestionSubmit",value:function(){var e=this.props.createQuestion;this.props.form.validateFields();var t={libraryId:this.state.id,type:this.state.questionType,stem:this.state.topic,questionLabel:this.state.tags.join(","),analysis:this.state.analysis};4!=this.state.questionType&&(t.trQuestionSubjectOptionVOList=this.formatOptions(this.state.options)),e(t)}},{key:"editQuestionSubmit",value:function(){var e=this.props,t=e.editQuestion,a=e.close,n=e.info;this.props.form.validateFields();var i={libraryId:n.libraryId,id:n.id,type:this.state.questionType?this.state.questionType:n.type,stem:this.state.topic?this.state.topic:n.topic,questionLabel:0!==this.state.tags.length?this.state.tags.join(","):n.tags.join(","),analysis:this.state.analysis?this.state.analysis:n.analysis,stemAppendixUrl:null!=this.state.originalFileUrl?this.state.originalFileUrl:n.stemAppendixUrl};4!=this.props.info.type&&(!this.state.options&&n.options?i.trQuestionSubjectOptionVOList=this.formatOptions(n.options):i.trQuestionSubjectOptionVOList=this.formatOptions(this.state.options)),t(i,(function(){a()}))}},{key:"formatOptions",value:function(e){var t=[];if("object"==(0,u.default)(e.right))for(var a=0;a<e.items.length;a++)-1==e.right.indexOf(a)?t.push({content:e.items[a],isAnswer:0}):t.push({content:e.items[a],isAnswer:1});else for(var n=0;n<e.length;n++)t.push({content:e[n].content,isAnswer:e[n].isAnswer,subjectId:e[n].subjectId,sort:n});return t}},{key:"initOptions",value:function(e){this.optionsComponent=e}},{key:"initTags",value:function(e){this.tagsComponent=e}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.info,i=a.type;console.log("1111111111111111111检测打印变量=info ",n);var u=this.state,c=(u.uploadParams,u.uploadAction,u.originalFileUrl,{uploadUtilName:"上传图片/音/视频",getUrl:function(t,a){e.setState({originalFileUrl:t,fileName:a})},defaultUrl:this.state.originalFileUrl?[{uid:1,status:"done",url:this.state.originalFileUrl,name:this.state.originalFileUrl}]:[]}),d={uploadUtilName:"上传图片/音/视频",getUrl:function(t,a){e.setState({originalFileUrl:t,fileName:a})},defaultUrl:this.props.info.stemAppendixUrl?[{uid:1,status:"done",url:this.props.info.stemAppendixUrl,name:this.props.info.stemAppendixUrl}]:[]};return 4==n.type?"look"==i?(console.log(1),S.default.createElement("div",null,S.default.createElement(o.default,null,S.default.createElement(s.default,{span:24},S.default.createElement(E.default,{layout:"horizontal",style:{marginTop:15},onSubmit:this.addQuestionSubmit},S.default.createElement(R,this.state.formItemLayout,S.default.createElement("span",null,"题型："+w.default.questionType(n.type))),S.default.createElement(R,(0,l.default)({label:"标签"},this.state.formItemLayout),t("tags",{rules:[]})(S.default.createElement(C.default,{init:this.initTags,type:"look",defaultTags:n.tags,getTags:this.getTags}))),S.default.createElement(R,this.state.formItemLayout,S.default.createElement("span",null,"题干："+n.topic)),S.default.createElement(R,this.state.formItemLayout,S.default.createElement("span",{style:{whiteSpace:"pre-wrap"}},"题目解析："+n.analysis))))))):S.default.createElement("div",null,S.default.createElement(o.default,null,S.default.createElement(s.default,{span:24},S.default.createElement(E.default,{style:{marginTop:15},onSubmit:this.addQuestionSubmit},S.default.createElement(R,this.state.formItemLayout,S.default.createElement("span",null,"题型："+w.default.questionType(n.type))),S.default.createElement(R,(0,l.default)({label:"标签"},this.state.formItemLayout),t("tags",{rules:[]})(S.default.createElement(C.default,{init:this.initTags,defaultTags:n.tags,getTags:this.getTags}))),S.default.createElement(R,this.state.formItemLayout,S.default.createElement("span",null,"题干："),t("topic",{rules:[{required:!0,message:"请输入题干"}],initialValue:n.topic})(S.default.createElement(D,{placeholder:"请输入题干",onChange:this.getTopic})),S.default.createElement("br",null)),S.default.createElement(R,(0,l.default)({},this.state.formItemLayout,{style:{marginTop:-15}}),t("contentAppendixUrl",{})(this.props.info.stemAppendixUrl?S.default.createElement(T.default,d):S.default.createElement(T.default,c))),S.default.createElement(R,this.state.formItemLayout,S.default.createElement("span",null,"题目解析："),t("analysis",{rules:[],initialValue:n.analysis})(S.default.createElement(D,{onChange:this.getAnalysis}))),S.default.createElement(R,(0,l.default)({label:""},this.state.formButtonLayout),t("button",{rules:[]})(S.default.createElement("div",{style:{textAlign:"center"}},S.default.createElement(r.default,{type:"primary",style:{marginRight:10},onClick:this.editQuestionSubmit},"保存"),S.default.createElement(r.default,{onClick:this.props.close},"取消")))))))):"look"==i?(console.log(3),S.default.createElement("div",null,S.default.createElement(o.default,null,S.default.createElement(s.default,{span:24},S.default.createElement(E.default,{layout:"horizontal",style:{marginTop:15},onSubmit:this.addQuestionSubmit},S.default.createElement(R,this.state.formItemLayout,S.default.createElement("span",null,"题型："+w.default.questionType(n.type))),S.default.createElement(R,(0,l.default)({label:"标签"},this.state.formItemLayout),t("tags",{rules:[]})(S.default.createElement(C.default,{init:this.initTags,type:"look",defaultTags:n.tags,getTags:this.getTags}))),S.default.createElement(R,this.state.formItemLayout,S.default.createElement("span",null,"题干："+n.topic)),S.default.createElement(R,(0,l.default)({label:"选项"},this.state.formItemLayout),t("options",{rules:[{required:!0,message:"请输入选项"}],initialValue:n.options})(S.default.createElement("div",null,S.default.createElement(I.default,{key:(new Date).getTime(),pattern:"look",type:n.type,defaultOptions:n.options,btnText:"添加选项",itemName:"选项",submitText:"保存",onChange:this.getOptions})))),S.default.createElement(R,(0,l.default)({label:"题目解析"},this.state.formItemLayout),S.default.createElement("span",{style:{whiteSpace:"pre-wrap"}},n.analysis))))))):(console.log(4),S.default.createElement("div",null,S.default.createElement(o.default,null,S.default.createElement(s.default,{span:24},S.default.createElement(E.default,{layout:"horizontal",style:{marginTop:15},onSubmit:this.addQuestionSubmit},S.default.createElement(R,this.state.formItemLayout,S.default.createElement("span",null,"题型："+w.default.questionType(n.type))),S.default.createElement(R,(0,l.default)({label:"标签"},this.state.formItemLayout),t("tags",{rules:[]})(S.default.createElement(C.default,{init:this.initTags,defaultTags:n.tags,getTags:this.getTags}))),S.default.createElement(R,(0,l.default)({label:"题干"},this.state.formItemLayout),t("topic",{rules:[{required:!0,message:"请输入题干"}],initialValue:n.topic})(S.default.createElement(D,{placeholder:"请输入题干",onChange:this.getTopic})),S.default.createElement("br",null)),S.default.createElement(R,(0,l.default)({},this.state.formItemLayout,{style:{marginTop:-15}}),t("contentAppendixUrl",{})(this.props.info.stemAppendixUrl?S.default.createElement(T.default,d):S.default.createElement(T.default,c))),S.default.createElement(R,(0,l.default)({label:"选项"},this.state.formItemLayout),t("options",{rules:[{required:!0,message:"请输入选项"}],initialValue:n.options})(S.default.createElement("div",null,S.default.createElement(I.default,{init:this.initOptions,type:n.type,defaultOptions:n.options,btnText:"添加选项",itemName:"选项",submitText:"保存",getData:this.getOptions,onChange:this.getOptions})))),S.default.createElement(R,(0,l.default)({label:"题目解析"},this.state.formItemLayout),t("analysis",{rules:[],initialValue:n.analysis})(S.default.createElement(D,{placeholder:"请输入题目解析",onChange:this.getAnalysis}))),S.default.createElement(R,(0,l.default)({label:""},this.state.formButtonLayout),t("button",{rules:[]})(S.default.createElement("div",{style:{textAlign:"center"}},S.default.createElement(r.default,{type:"primary",style:{marginRight:10},onClick:this.editQuestionSubmit},"保存"),S.default.createElement(r.default,{onClick:this.props.close},"取消")))))))))}}]),n}(S.Component);var A=E.default.create()(O),Q=E.default.create()((0,x.connect)((function(e,t){return{param:e.uploadParam.param}}),(function(e){return{gupfetch:function(){return e((0,k.gupfetch)())}}}))(A));t.default=Q},1368:function(e,t,a){"use strict";var n=a(4),i=a(0);a(7),a(3),a(5),a(227),a(43),a(9),a(10),a(8),a(20),a(34),a(23),a(6),a(140);var r=i(a(535));a(564);var o=i(a(563));a(537);var s=i(a(536));a(648);var l=i(a(619)),u=i(a(79));a(61);var c=i(a(62)),d=i(a(2)),f=i(a(29)),p=i(a(30)),h=i(a(59)),m=i(a(32)),g=i(a(33)),y=i(a(31));a(712);var v=i(a(643));a(556);var E=i(a(553));a(540);var b=i(a(539)),S=n(a(1));function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){return function(){var t,a=(0,y.default)(e);if(k()){var n=(0,y.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,g.default)(this,t)}}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var T=b.default.Item,C=E.default.Group,I=(v.default.Group,function(e){(0,m.default)(a,e);var t=x(a);function a(e){var n;return(0,f.default)(this,a),(n=t.call(this,e)).state={options:[{isAnswer:1,content:""},{isAnswer:0,content:""}],right:0,rightGroup:[0],update:""},n.up=n.up.bind((0,h.default)(n)),n.down=n.down.bind((0,h.default)(n)),n.delete=n.delete.bind((0,h.default)(n)),n.add=n.add.bind((0,h.default)(n)),n.change=n.change.bind((0,h.default)(n)),n.select=n.select.bind((0,h.default)(n)),n.renderOptions=n.renderOptions.bind((0,h.default)(n)),n.renderRight=n.renderRight.bind((0,h.default)(n)),n}return(0,p.default)(a,[{key:"componentDidMount",value:function(){this.state.options;var e=this.props.defaultOptions;if(e&&e.length>0){var t,a,n=e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,d.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)}));2==this.props.type?t=e.map((function(e,t){if(1==e.isAnswer)return t})):a=(a=e.map((function(e,t){if(1==e.isAnswer)return t}))).join(""),console.log(a),this.setState({options:n,rightGroup:t,right:+a})}}},{key:"change",value:function(e,t){var a=this.state.options;a[t].content=e.target.value,this.setState({options:a}),this.props.getData(a)}},{key:"up",value:function(e){if(0!=e){var t=this.state.options,a=t[e-1];t[e-1]=t[e],t[e]=a;var n=this;this.setState({options:[]});var i=0;t.map((function(e,t){1==e.isAnswer&&(i=t)})),setTimeout((function(){n.setState({options:t,right:i})}),2),this.props.getData(t)}else c.default.info("第一个选项不可上移")}},{key:"down",value:function(e){if(e!=this.state.options.length-1){var t=this.state.options,a=t[e+1];t[e+1]=t[e],t[e]=a;var n=this;this.setState({options:[]});var i=0;t.map((function(e,t){1==e.isAnswer&&(i=t)})),setTimeout((function(){n.setState({options:t,right:i})}),2),this.props.getData(t)}else c.default.info("最后一个选项不可下移")}},{key:"delete",value:function(e){var t=this,a=this.state.options;if(a.length<=2)c.default.info("选项不能少于两个");else{var n=a.filter((function(t,a){return a!=e}));this.setState({options:[]}),setTimeout((function(){t.setState({options:n})}),2),this.props.getData(n)}}},{key:"add",value:function(){var e=this.state.options;e.push({isAnswer:0,content:"",subjectId:this.state.options[0].subjectId}),this.setState({options:e})}},{key:"select",value:function(e){if(console.log(this.props),2==this.props.type){var t=(0,u.default)(this.state.options),a=t.filter((function(t){return t.id==e.target.value.id}))[0];a.isAnswer=0===a.isAnswer?1:0,this.setState({options:t}),this.props.getData(t)}else{var n=parseInt(e.target.value),i=this.state.options.map((function(e,t){return{isAnswer:0,content:e.content,subjectId:e.subjectId}}));i[n].isAnswer=1,this.setState({options:i,right:n}),this.props.getData(i)}}},{key:"renderRight",value:function(){return this.state.options.map((function(e,t){if(1==e.isAnswer)return S.default.createElement(l.default,{key:t,color:"green"},t+1)}))}},{key:"renderOptions",value:function(){var e=this,t=this.props.form.getFieldDecorator;return 2==this.props.type?"look"==this.props.pattern?this.state.options.map((function(a,n){return S.default.createElement(b.default,{layout:"inline",key:n+e.state.update,onSubmit:e.optionSubmit},S.default.createElement(T,null,t("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:a.content})(S.default.createElement(s.default,{disabled:!0,style:{width:250},onChange:function(t){return e.change(t,n)}}))))})):this.state.options.map((function(a,n){return S.default.createElement(b.default,{layout:"inline",key:n+e.state.update,onSubmit:e.optionSubmit},S.default.createElement(T,null,S.default.createElement(v.default,{value:a,checked:1===a.isAnswer,onChange:e.select},n+1)),S.default.createElement(T,null,t("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:a.content})(S.default.createElement(s.default,{style:{width:250},onChange:function(t){return e.change(t,n)}}))),S.default.createElement(T,null,S.default.createElement("a",{style:{marginRight:"10px"},onClick:function(){return e.up(n)}},"上移"),S.default.createElement("a",{style:{marginRight:"10px"},onClick:function(){return e.down(n)}},"下移"),S.default.createElement(o.default,{title:"删除选项可能造成已设置的正确选项错误，确认删除?",onConfirm:function(){return e.delete(n)},okText:"确定",cancelText:"取消"},S.default.createElement("a",null,"删除"))))})):1==this.props.type?"look"==this.props.pattern?this.state.options.map((function(a,n){return S.default.createElement(b.default,{layout:"inline",key:n+e.state.update,onSubmit:e.optionSubmit},S.default.createElement(T,null,S.default.createElement(E.default,{value:n},n+1)),S.default.createElement(T,null,t("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:a.content})(S.default.createElement(s.default,{disabled:!0,style:{width:250},onChange:function(t){return e.change(t,n)}}))))})):this.state.options.map((function(a,n){return S.default.createElement(b.default,{layout:"inline",key:n+e.state.update,onSubmit:e.optionSubmit},S.default.createElement(T,null,S.default.createElement(E.default,{value:n},n+1)),S.default.createElement(T,null,t("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:a.content})(S.default.createElement(s.default,{style:{width:250},onChange:function(t){return e.change(t,n)}}))),S.default.createElement(T,null,S.default.createElement("a",{style:{marginRight:"10px"},onClick:function(){return e.up(n)}},"上移"),S.default.createElement("a",{style:{marginRight:"10px"},onClick:function(){return e.down(n)}},"下移"),S.default.createElement(o.default,{title:"删除选项可能造成已设置的正确选项错误，确认删除?",onConfirm:function(){return e.delete(n)},okText:"确定",cancelText:"取消"},S.default.createElement("a",null,"删除"))))})):3==this.props.type?"look"==this.props.pattern?this.state.options.map((function(a,n){return S.default.createElement(b.default,{layout:"inline",key:n+e.state.update,onSubmit:e.optionSubmit},S.default.createElement(T,null,S.default.createElement(E.default,{value:n},n+1)),S.default.createElement(T,null,t("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:a.content})(S.default.createElement(s.default,{disabled:!0,style:{width:250},onChange:function(t){return e.change(t,n)}}))))})):this.state.options.map((function(a,n){return S.default.createElement(b.default,{layout:"inline",key:n+e.state.update,onSubmit:e.optionSubmit},S.default.createElement(T,null,S.default.createElement(E.default,{value:n},n+1)),S.default.createElement(T,null,t("content-"+n,{rules:[{required:!0,message:"请输入内容!"}],initialValue:a.content})(S.default.createElement(s.default,{style:{width:250},onChange:function(t){return e.change(t,n)}}))))})):void 0}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return 2==this.props.type?S.default.createElement("div",null,S.default.createElement(b.default,{layout:"horizontal",key:this.state.update},S.default.createElement(T,null,"正确选项：",this.renderRight()),S.default.createElement(T,null,e("select",{rules:[{required:!0,message:"请输入内容!"}]})(S.default.createElement("div",null,this.renderOptions()))),"look"==this.props.pattern?"":S.default.createElement(T,null,S.default.createElement(r.default,{onClick:this.add},"增加选项")))):1==this.props.type?S.default.createElement("div",null,S.default.createElement(b.default,{layout:"horizontal",key:this.state.update},S.default.createElement(T,null,"正确选项：",this.renderRight()),S.default.createElement(T,null,e("select",{rules:[{required:!0,message:"请输入内容!"}],initialValue:this.state.right})(S.default.createElement(C,{onChange:this.select},this.renderOptions()))),"look"==this.props.pattern?"":S.default.createElement(T,null,S.default.createElement(r.default,{onClick:this.add},"增加选项")))):3==this.props.type?S.default.createElement("div",null,S.default.createElement(b.default,{layout:"horizontal",key:this.state.update},S.default.createElement(T,null,"正确选项：",this.renderRight()),S.default.createElement(T,null,e("select",{rules:[{required:!0,message:"请输入内容!"}],initialValue:this.state.right})(S.default.createElement(C,{onChange:this.select},this.renderOptions()))))):void 0}}]),a}(S.Component)),L=b.default.create()(I);S.Component;e.exports=L},1369:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),r={questionUrl:"GET ".concat(i.default.webManage,"/question/list"),getQuestionById:"GET ".concat(i.default.webManage,"/question/get/id"),importSubject:"POST ".concat(i.default.webManage,"/exam/question/subject/import"),insertQuestionBank:"POST ".concat(i.default.webManage,"/question/insert"),updateQuestionBank:"POST ".concat(i.default.webManage,"/question/update"),questionLibrary:"GET ".concat(i.default.webManage,"/question/get/questionLibrary"),deletesQuestionBank:"GET ".concat(i.default.webManage,"/question/deletes"),deleteQuestionBank:"GET ".concat(i.default.webManage,"/question/delete"),getQuestionList:"GET ".concat(i.default.webManage,"/question/exam/list"),getQuestionInfo:"GET ".concat(i.default.webManage,"/question/exam/get/question"),createQuestion:"POST ".concat(i.default.webManage,"/question/exam/insert"),editQuestion:"POST ".concat(i.default.webManage,"/question/exam/update"),deleteQuestions:"POST ".concat(i.default.webManage,"/question/exam/deletes"),importQuestions:"POST ".concat(i.default.webManage,"/question/exam/import"),exportXMLSubject:"GET ".concat(i.default.webManage,"/exam/question/subject/exportXml"),exportSubject:"GET ".concat(i.default.webManage,"/exam/question/subject/export"),examUrl:"POST ".concat(i.default.webManage),examCheckUrl:"POST ".concat(i.default.webManage)};t.default=r},1419:function(e,t,a){"use strict";var n=a(4),i=a(0);a(7),a(154),a(44),a(227),a(51),a(20),a(34),a(35),a(23),a(229),a(53),a(228),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(140);var r=i(a(535));a(144);var o=i(a(230));a(99);var s=i(a(100)),l=i(a(98));a(616);var u=i(a(617));a(592);var c=i(a(566));a(61);var d=i(a(62)),f=i(a(29)),p=i(a(30)),h=i(a(59)),m=i(a(32)),g=i(a(33)),y=i(a(31)),v=i(a(2));a(556);var E=i(a(553));a(537);var b=i(a(536));a(540);var S=i(a(539)),w=n(a(1)),x=a(65),k=i(a(653)),T=i(a(223)),C=i(a(1285)),I=i(a(141)),L=a(52),R=a(1014),D=i(a(628)),O=i(a(1003)),A=i(a(91));function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var M=S.default.Item,P=b.default.TextArea,B=E.default.Group;var q=function(e){(0,m.default)(n,e);var t,a=(t=n,function(){var e,a=(0,y.default)(t);if(Q()){var n=(0,y.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,g.default)(this,e)});function n(){var e;(0,f.default)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=a.call.apply(a,[this].concat(i)),(0,v.default)((0,h.default)(e),"getTags",(function(t){e.setState({keywords:t.join()}),console.log(t.join(),"任务938")})),e.props.init&&e.props.init((0,h.default)(e)),e.state={examInfo:{name:"",beginTime:"",endTime:"",timeLen:0,cishu:0,qualified:60,description:"",strategy:1,examImageUrl:null,keywords:[]},timeLenInput:!0,timeLenMinutes:0,cishuInput:!0,cishu:0,keywords:null},e.examInfoSubmit=e.examInfoSubmit.bind((0,h.default)(e)),e.getExamTimeLen=e.getExamTimeLen.bind((0,h.default)(e)),e.getExamCishu=e.getExamCishu.bind((0,h.default)(e)),e.selectExamCishu=e.selectExamCishu.bind((0,h.default)(e)),e.selectExamTimeLen=e.selectExamTimeLen.bind((0,h.default)(e)),e.next=e.next.bind((0,h.default)(e)),e.initState=e.initState.bind((0,h.default)(e)),e.getImgUrl=e.getImgUrl.bind((0,h.default)(e)),e}return(0,p.default)(n,[{key:"componentWillMount",value:function(){var e=this.state.examInfo;e.beginTime="",e.endTime="",this.setState({examInfo:e}),this.id=I.default.getUrlParam(location.search,"id");var t=this;this.id&&this.props.getExamInfo(this.id,(function(){t.initState(t.props.examInfo)}))}},{key:"componentDidMount",value:function(){console.log(this.props.examID)}},{key:"getExamTimeLen",value:function(e){console.log(111,e),this.setState({timeLenMinutes:e||0})}},{key:"getExamCishu",value:function(e){this.setState({cishu:e||0})}},{key:"initState",value:function(e){var t=this.state,a=t.examInfo;t.timeLenMinutes,t.cishu;a.name=e.name,a.beginTime=e.startTime,a.endTime=e.endTime,a.timeLen=0==e.duration?0:1,a.cishu=0==e.answerNum?0:1,a.qualified=e.qualifiedScore,a.description=e.description,a.strategy=e.makeStrategy,a.examImageUrl=e.image,a.keywords=e.keywords,this.setState({examInfo:a,timeLenMinutes:e.duration,cishu:e.answerNum})}},{key:"selectExamTimeLen",value:function(e){var t=this.state.examInfo;t.timeLen=e.target.value,1===t.timeLen?this.setState({timeLenMinutes:0==this.state.timeLenMinutes?"30":this.state.timeLenMinutes}):this.setState({timeLenMinutes:""}),this.setState({examInfo:t})}},{key:"selectExamCishu",value:function(e){var t=this.state.examInfo;t.cishu=e.target.value,1===t.cishu?this.setState({cishu:0===this.state.cishu?"3":this.state.cishu}):this.setState({cishu:""}),this.setState({examInfo:t})}},{key:"examInfoSubmit",value:function(e){e.preventDefault();var t=this.props.examBasicInfo,a=this;this.props.form.validateFields((function(e,n){if(!e){var i={name:n.examName,description:n.description,image:n.examImageUrl,startTime:(0,T.default)(n.examTime[0]).format("YYYY-MM-DD HH:mm:ss"),endTime:(0,T.default)(n.examTime[1]).format("YYYY-MM-DD HH:mm:ss"),makeStrategy:n.strategy};if(""==n.examImageUrl&&delete i.image,0==n.examTimeLen)i.duration=0;else{if(a.state.timeLenMinutes<=0)return void d.default.error("请输入正确的答卷时长");i.duration=a.state.timeLenMinutes}if(0==n.examCishu)i.answerNum=0;else{if(a.state.cishu<=0)return void d.default.error("请输入正确的答卷次数");i.answerNum=a.state.cishu}"edit"==a.props.type&&(i.id=a.props.examID),t(a.props.type,i,(function(){d.default.success("保存成功")}))}}))}},{key:"getImgUrl",value:function(e){var t=this.state.examInfo;t.examImageUrl=e;var a=this;this.setState({examInfo:t},(function(){a.props.form.setFields({examImageUrl:{value:e}})}))}},{key:"next",value:function(){var e=this,t=this.props,a=t.examBasicInfo,n=t.getQuestionLists,i=(t.examID,t.getSeeQuestionSelect),r=t.step,o=t.getExamPreview,s=t.editKey,l=t.examInfo,u=this;this.props.form.validateFields((function(t,c){if(!t){e.setState({nextBtnLoading:!0}),c.examName=c.examName.trim();var f={name:c.examName,description:c.description,image:c.examImageUrl,startTime:(0,T.default)(c.examTime[0]).format("YYYY-MM-DD HH:mm:ss"),endTime:(0,T.default)(c.examTime[1]).format("YYYY-MM-DD HH:mm:ss"),makeStrategy:c.strategy};if(null!==u.state.keywords?f.keywords=u.state.keywords:f.keywords=l.keywords,u.props.getQuestionWay(c.strategy),0==c.examTimeLen)f.duration=0;else{if(u.state.timeLenMinutes<=0)return d.default.error("请输入正确的答卷时长"),void e.setState({nextBtnLoading:!1});f.duration=u.state.timeLenMinutes}if(0==c.examCishu)f.answerNum=0;else{if(u.state.cishu<=0)return d.default.error("请输入正确的答卷次数"),void e.setState({nextBtnLoading:!1});f.answerNum=u.state.cishu}"edit"==u.props.type&&(f.id=u.props.examID),a(u.props.type,f,(function(){d.default.success("保存成功"),u.setState({nextBtnLoading:!1}),n({pageindex:1,pagesize:20,id:u.props.examID},(function(){o(u.props.examID,(function(){i(u.props.examID,(function(){r(1),s()}))}))}))}))}}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.examInfo,a={labelCol:{span:4},wrapperCol:{span:20}},n=[];"create"!=this.props.type&&t.keywords.length&&(n=t.keywords.split(","));var i={defaultTags:n,getTags:this.getTags};return"look"==this.props.type?w.default.createElement("div",{className:C.default.info,style:{display:this.props.show?"block":"none"}},w.default.createElement("h3",null,"考试信息"),w.default.createElement(S.default,null,w.default.createElement(M,a,w.default.createElement("span",null,"考试名称："),e("examName",{rules:[{required:!0,validator:function(e,t,a){(0,D.default)(e,t,a,"请输小于100字的考试名称",100)}}],initialValue:t.name})(w.default.createElement(b.default,{placeholder:"请输小于100字的考试名称",style:{width:300},disabled:!0}))),w.default.createElement(M,a,w.default.createElement("span",null,"考试时间："),e("examTime",{rules:[{type:"array",required:!0,message:"请输入考试时间！"}],initialValue:[(0,T.default)(t.beginTime),(0,T.default)(t.endTime)]})(w.default.createElement(c.default.RangePicker,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",disabled:!0}))),w.default.createElement(M,a,w.default.createElement("span",null,"考试logo："),w.default.createElement("img",{src:t.examImageUrl,style:{width:90,height:54}})),w.default.createElement(M,a,w.default.createElement("span",null,"答卷时长："),e("examTimeLen",{rules:[],initialValue:t.timeLen})(w.default.createElement(B,{onChange:this.selectExamTimeLen,disabled:!0},w.default.createElement(E.default,{value:0},"无限制"),w.default.createElement(E.default,{value:1},"有限制"))),w.default.createElement(u.default,{type:"number",style:{width:200},min:0,value:this.state.timeLenMinutes,disabled:!0,addonAfter:"分钟",onChange:this.getExamTimeLen})),w.default.createElement(M,a,w.default.createElement("span",null,"答卷次数："),e("examCishu",{rules:[],initialValue:t.cishu})(w.default.createElement(B,{onChange:this.selectExamCishu,disabled:!0},w.default.createElement(E.default,{value:0},"无限次"),w.default.createElement(E.default,{value:1},"有限次"))),w.default.createElement(u.default,{style:{width:200},value:this.state.cishu,type:"number",disabled:!0,min:0,addonAfter:"次",onChange:this.getExamCishu})),w.default.createElement(M,a,w.default.createElement("span",null,"考试说明："),e("description",{rules:[],initialValue:t.description})(w.default.createElement(P,{disabled:!0}))),w.default.createElement(M,a,w.default.createElement("span",null,"出题策略："),e("strategy",{rules:[],initialValue:t.strategy})(w.default.createElement(B,{disabled:!0},w.default.createElement(E.default,{value:1},"手动出题"),w.default.createElement(E.default,{value:2},"系统出题")))),w.default.createElement(M,a,w.default.createElement("span",{style:{display:"block",float:"left"}},"自定义关键词："),e("keywords")(w.default.createElement(O.default,(0,l.default)({},i,{disable:"none"})))))):w.default.createElement("div",{className:C.default.info,style:{display:this.props.show?"block":"none"}},w.default.createElement("h3",null,"考试信息"),w.default.createElement(S.default,{onSubmit:this.examInfoSubmit},w.default.createElement(M,(0,l.default)({},a,{label:"考试名称"}),e("examName",{rules:[{required:!0,validator:function(e,t,a){(0,D.default)(e,t,a,"请输小于100字的考试名称",100)}}],initialValue:t.name})(w.default.createElement(b.default,{style:{width:300}}))),w.default.createElement(M,(0,l.default)({},a,{label:"考试时间"}),e("examTime",{rules:[{type:"array",required:!0,message:"请输入考试时间！"}],initialValue:t.beginTime?[(0,T.default)(t.beginTime),(0,T.default)(t.endTime)]:""})(w.default.createElement(c.default.RangePicker,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",locale:A.default}))),w.default.createElement(M,(0,l.default)({},a,{label:w.default.createElement("span",null,w.default.createElement(o.default,{placement:"left",title:"用于首页智能推荐模块展示"},w.default.createElement(s.default,{type:"question-circle",style:{fontSize:12,color:"#999"}})),"考试logo")}),e("examImageUrl",{rules:[{required:!1,message:"请上传考试logo！"}],initialValue:this.state.examInfo.examImageUrl})(w.default.createElement(k.default,{details:this.state.examInfo.examImageUrl,getImgUrl:this.getImgUrl,preRatio:["5/3"],maxSize:500,extra:"图片最佳尺寸：1125*675，比例为5：3，支持jpg、png、jpeg"}))),w.default.createElement(M,(0,l.default)({},a,{label:"答卷时长"}),e("examTimeLen",{rules:[],initialValue:t.timeLen})(w.default.createElement(B,{onChange:this.selectExamTimeLen},w.default.createElement(E.default,{value:0},"无限制"),w.default.createElement(E.default,{value:1},"有限制"))),w.default.createElement(u.default,{type:"number",style:{width:200},min:0,value:this.state.timeLenMinutes,disabled:0==t.timeLen,addonAfter:"分钟",onChange:this.getExamTimeLen})),w.default.createElement(M,(0,l.default)({},a,{label:"答卷次数"}),e("examCishu",{rules:[],initialValue:t.cishu})(w.default.createElement(B,{onChange:this.selectExamCishu},w.default.createElement(E.default,{value:0},"无限次"),w.default.createElement(E.default,{value:1},"有限次"))),w.default.createElement(u.default,{style:{width:200},type:"number",value:this.state.cishu,min:0,disabled:0==t.cishu,addonAfter:"次",onChange:this.getExamCishu})),w.default.createElement(M,(0,l.default)({},a,{label:"考试说明"}),e("description",{rules:[{max:500,message:"考试说明不得超过500个字"}],initialValue:t.description})(w.default.createElement(P,null))),w.default.createElement(M,(0,l.default)({},a,{label:"出题策略"}),e("strategy",{rules:[],initialValue:t.strategy})(w.default.createElement(B,null,w.default.createElement(E.default,{value:1},"手动出题"),w.default.createElement(E.default,{value:2},"系统出题")))),w.default.createElement(M,(0,l.default)({label:"自定义关键词"},a),e("keywords")(w.default.createElement(O.default,i))),w.default.createElement(M,a,w.default.createElement("div",{className:C.default.btnGroup,style:{textAlign:"center"}},w.default.createElement(x.Link,{to:"/"+I.default.companyCode+"/"+I.default.siteCode+"/index/tool/test/test-management"},w.default.createElement(r.default,{style:{marginRight:16}},"取消")),w.default.createElement(r.default,{type:"primary",onClick:this.next,loading:this.state.nextBtnLoading},"下一步")))))}}]),n}(w.Component),N=S.default.create()(q),U=(0,L.connect)((function(e,t){return{examInfo:e.exam.examInfo}}),(function(e){return{getExamInfo:function(t,a){return e((0,R.getExamInfo)(t,a))},examBasicInfo:function(t,a,n){return e((0,R.examBasicInfo)(t,a,n))},getQuestionLists:function(t,a){return e((0,R.getQuestionLists)(t,a))},getSeeQuestionSelect:function(t,a){return e((0,R.getSeeQuestionSelect)(t,a))},getExamPreview:function(t,a,n){return e((0,R.getExamPreview)(t,a,n))}}}))(N);t.default=U},1420:function(e,t,a){"use strict";var n=a(0),i=a(4);a(44),a(3),a(43),a(51),a(620),a(20),a(34),a(35),a(23),a(234),a(229),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(98));a(554);var o=n(a(550));a(549);var s=n(a(544));a(224);var l=n(a(225));a(616);var u=n(a(617));a(61);var c=n(a(62));a(140);var d=n(a(535));a(537);var f=n(a(536)),p=n(a(29)),h=n(a(30)),m=n(a(59)),g=n(a(32)),y=n(a(33)),v=n(a(31)),E=n(a(2));a(556);var b=n(a(553));a(540);var S=n(a(539)),w=i(a(1)),x=n(a(141)),k=n(a(1013)),T=n(a(1421)),C=n(a(1422)),I=n(a(1364));a(1285);var L=n(a(223)),R=a(65),D=a(52),O=a(1014),A=a(1298);function Q(e){return function(){var t,a=(0,v.default)(e);if(M()){var n=(0,v.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,y.default)(this,t)}}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var P=S.default.Item,B=b.default.Group;var q={labelCol:{span:4},wrapperCol:{span:20}},N={labelCol:{span:0},wrapperCol:{span:24}},U=S.default.create()(function(e){(0,g.default)(a,e);var t=Q(a);function a(){var e;(0,p.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),(0,E.default)((0,m.default)(e),"handleSubmit",(function(t){t.preventDefault(),e.props.form.validateFields((function(t,a){t||e.props.questionQuery(a)}))})),e}return(0,h.default)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return w.default.createElement(S.default,{layout:"inline",onSubmit:this.handleSubmit},w.default.createElement(P,{label:"题库关键字"},e("name")(w.default.createElement(f.default,null))),w.default.createElement(P,null,w.default.createElement(d.default,{type:"primary",htmlType:"submit"},"查询")))}}]),a}(w.default.Component)),V=function(e){var t=/^(\-)*(\d+)\.(\d).*$/;return"string"==typeof e?isNaN(Number(e))?"":e.replace(t,"$1$2.$3"):"number"==typeof e?isNaN(e)?"":String(e).replace(t,"$1$2.$3"):""},_=function(e){(0,g.default)(a,e);var t=Q(a);function a(){var e;(0,p.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e=t.call.apply(t,[this].concat(i)),(0,E.default)((0,m.default)(e),"onQuestionBank",(function(){e.setState({visible:!0}),e.props.getQuestionBankList()})),(0,E.default)((0,m.default)(e),"onLookQuestionBank",(function(){var t=e.state.selectedRowId,a=e.props.getQuestionBankInfo,n=(0,m.default)(e);a(t[0],(function(){n.setState({lookQuestionBank:!0}),n.questionBankComponent.initQuestionBank()}))})),(0,E.default)((0,m.default)(e),"initQuestionBank",(function(t){e.questionBankComponent=t})),(0,E.default)((0,m.default)(e),"closeQuestionBank",(function(){e.setState({lookQuestionBank:!1})})),(0,E.default)((0,m.default)(e),"onSelectBank",(function(t,a){e.setState({selectedRowrecord:a[0],selectedRowId:t,selectedrecord:{id:t[0].id,name:t[0].name}})})),(0,E.default)((0,m.default)(e),"questionQuery",(function(t){e.props.getQuestionBankList({questionBankKeyword:t.name,pageindex:1,pagesize:20})})),(0,E.default)((0,m.default)(e),"handleCancelBank",(function(){e.setState({visible:!1,selectedrecord:null,selectedRowKeys2:[]})})),(0,E.default)((0,m.default)(e),"handleOkBank",(function(){var t=e.state,a=t.selectedRowrecord,n=t.selectedrecord,i=e.props,r=i.examID,o=i.getLibraryCount,s=i.getQuestionLists,l=i.getSeeQuestionSelect,u=i.getExamPreview,d=i.questionWay,f=(0,m.default)(e);a&&a.id?o({examId:r,libraryId:a.id},(function(){f.setState({redioTopic:0,redioScore:0,checkTopic:0,checkScore:0,judgeTopic:0,judgeScore:0,questionTopic:0,questionScore:0}),s({pageindex:1,pagesize:20,id:e.props.examID},(function(){l(e.props.examID),u(r,(function(){var e=f.props.examPreview;1!=d&&n&&n.id&&o({examId:r,libraryId:n.id});for(var t=0;t<e.showExamQuestionVO.length;t++)1==e.showExamQuestionVO[t].type?f.setState({redioTopic:e.showExamQuestionVO[t].numSum,redioScore:e.showExamQuestionVO[t].score}):2==e.showExamQuestionVO[t].type?f.setState({checkTopic:e.showExamQuestionVO[t].numSum,checkScore:e.showExamQuestionVO[t].score}):3==e.showExamQuestionVO[t].type?f.setState({judgeTopic:e.showExamQuestionVO[t].numSum,judgeScore:e.showExamQuestionVO[t].score}):f.setState({questionTopic:e.showExamQuestionVO[t].numSum,questionScore:e.showExamQuestionVO[t].score});f.setState({sumQuestion:e.sumQuestion,sumScore:e.sumScore,visible:!1,reminder:Math.random(),randoming:Math.random(),selectedrecord:a})}))}))})):c.default.info("请选择题库！")})),(0,E.default)((0,m.default)(e),"upMove",(function(t,a){var n=(0,m.default)(e),i=e.props,r=i.getQuestionLists,o=i.questionLists,s=(i.questionTotal,e.state),l=s.pagesize,u=s.pageindex;a.key>0?e.props.postQuestionMove([{id:t.id,type:1},{id:o[a.key-1].id,type:2}],(function(){r({pageindex:1,pagesize:e.state.pagesize,id:e.props.examID},(function(){return n.setState({randoming:Math.random()})}))})):1===u?c.default.warning("已到最上面，不能上移！"):r({pageindex:u-1,pagesize:e.state.pagesize,id:e.props.examID},(function(a){var i=a.data[l-1].id;n.setState({randoming:Math.random()}),e.props.postQuestionMove([{id:t.id,type:2},{id:i,type:2}],(function(){r({pageindex:u,pagesize:e.state.pagesize,id:e.props.examID},(function(){return n.setState({randoming:Math.random()})}))}))}))})),(0,E.default)((0,m.default)(e),"downMove",(function(t,a){var n=(0,m.default)(e),i=e.props,r=i.getQuestionLists,o=i.questionLists,s=i.questionTotal,l=e.state,u=l.pagesize,d=l.pageindex;a.key<o.length-1?e.props.postQuestionMove([{id:t.id,type:2},{id:o[a.key+1].id,type:2}],(function(){r({pageindex:1,pagesize:e.state.pagesize,id:e.props.examID},(function(){return n.setState({randoming:Math.random()})}))})):parseInt(s/u+1)===d||-1===o[o.length-1].nextId?c.default.warning("已到最下面，不能下移！"):r({pageindex:d+1,pagesize:e.state.pagesize,id:e.props.examID},(function(a){var i=a.data[0].id;n.setState({randoming:Math.random()}),e.props.postQuestionMove([{id:t.id,type:2},{id:i,type:2}],(function(){r({pageindex:d,pagesize:e.state.pagesize,id:e.props.examID},(function(){return n.setState({randoming:Math.random()})}))}))}))})),(0,E.default)((0,m.default)(e),"batchSetScore",(function(){if(0==e.state.linkedQuestions.length)return c.default.warning("请勾选需要设置分数的题目");e.setState({setScoreVisible:!0})})),(0,E.default)((0,m.default)(e),"setScoreChange",(function(t){e.setState({setScoreNum:t})})),(0,E.default)((0,m.default)(e),"setScoreCreate",(function(){var t=e.state,a=t.linkedQuestions,n=t.setScoreNum,i=e.props,r=i.setQuestionScore,o=i.examID,s=i.getExamPreview,l=i.getQuestionLists,u=(0,m.default)(e);r({questionLibrarySubjectVOS:a.map((function(e){return{id:e,score:n}}))},(function(){l({pageindex:e.state.pageindex,pagesize:e.state.pagesize,id:e.props.examID},(function(){u.setState({randoming:Math.random(),pageindex:e.state.pageindex,selectedRowKeys:[]})})),s(o,(function(){for(var e=u.props.examPreview,t=0;t<e.showExamQuestionVO.length;t++)1==e.showExamQuestionVO[t].type?u.setState({redioTopic:e.showExamQuestionVO[t].numSum,redioScore:e.showExamQuestionVO[t].score}):2==e.showExamQuestionVO[t].type?u.setState({checkTopic:e.showExamQuestionVO[t].numSum,checkScore:e.showExamQuestionVO[t].score}):3==e.showExamQuestionVO[t].type?u.setState({judgeTopic:e.showExamQuestionVO[t].numSum,judgeScore:e.showExamQuestionVO[t].score}):u.setState({questionTopic:e.showExamQuestionVO[t].numSum,questionScore:e.showExamQuestionVO[t].score});u.setState({sumQuestion:e.sumQuestion,sumScore:e.sumScore})})),c.default.success("设置成功")})),e.setState({setScoreVisible:!1,setScoreNum:""})})),(0,E.default)((0,m.default)(e),"setScoreCancel",(function(){e.setState({setScoreVisible:!1,setScoreNum:""})})),(0,E.default)((0,m.default)(e),"dataQuestionBank",(function(t){var a=(0,m.default)(e),n=e.state.selectedrecord,i=e.props,r=i.examID,o=i.postQuestionRule,s=i.getExamPreview;n?o({examId:r,libraryId:n.id,examSystemQuestionVOSList:t},(function(){s(r,(function(){for(var e=a.props.examPreview,t=0;t<e.showExamQuestionVO.length;t++)1==e.showExamQuestionVO[t].type?a.setState({redioTopic:e.showExamQuestionVO[t].numSum,redioScore:e.showExamQuestionVO[t].score}):2==e.showExamQuestionVO[t].type?a.setState({checkTopic:e.showExamQuestionVO[t].numSum,checkScore:e.showExamQuestionVO[t].score}):3==e.showExamQuestionVO[t].type?a.setState({judgeTopic:e.showExamQuestionVO[t].numSum,judgeScore:e.showExamQuestionVO[t].score}):a.setState({questionTopic:e.showExamQuestionVO[t].numSum,questionScore:e.showExamQuestionVO[t].score});a.setState({sumQuestion:e.sumQuestion,sumScore:e.sumScore})}))})):c.default.info("请选择题库！")})),(0,E.default)((0,m.default)(e),"radioChange",(function(t){e.setState({strategy:t.target.value})})),e.props.init&&e.props.init((0,m.default)(e));var o=(0,m.default)(e);return e.questionBankComponent="",e.state={currentScore:0,addQuestionVisible:!1,importVisible:!1,selectedRowKeys:[],selectedRowKeys2:[],selectedQuestions:[],linkedQuestions:[],examID:"",pagesize:20,pageindex:1,selectPage:1,selectPagesize:20,libraryKey:"",stemKey:"",typeKey:0,topicRank:1,typeSort:1,optionRank:1,random:"",randoms:"",randomTable:Math.random(),strategy:1,visible:!1,setScoreVisible:!1,setScoreNum:"",reminder:Math.random(),questionTypeRank:[{type:1},{type:2},{type:3},{type:4}],redioTopic:0,redioScore:0,checkTopic:0,checkScore:0,judgeTopic:0,judgeScore:0,questionTopic:0,questionScore:0,sumQuestion:0,sumScore:0,trExamQuestionSortVOS:[],selectedRowrecord:null,selectedRowId:"",selectedrecord:null,questionWay:e.props.questionWay,questionData:[],randoming:Math.random(),lookQuestionBank:!1},e.onSelectChange=e.onSelectChange.bind((0,m.default)(e)),e.deleteQuestion=e.deleteQuestion.bind((0,m.default)(e)),e.initState=e.initState.bind((0,m.default)(e)),e.selectQuestion=e.selectQuestion.bind((0,m.default)(e)),e.closeAddQuestion=e.closeAddQuestion.bind((0,m.default)(e)),e.rankSubmit=e.rankSubmit.bind((0,m.default)(e)),e.onSelectQuestionChange=e.onSelectQuestionChange.bind((0,m.default)(e)),e.getKeyword=e.getKeyword.bind((0,m.default)(e)),e.searchQuestion=e.searchQuestion.bind((0,m.default)(e)),e.insertQuestions=e.insertQuestions.bind((0,m.default)(e)),e.refreshQuestionList=e.refreshQuestionList.bind((0,m.default)(e)),e.openImport=e.openImport.bind((0,m.default)(e)),e.closeImport=e.closeImport.bind((0,m.default)(e)),e.importQuestions=e.importQuestions.bind((0,m.default)(e)),e.pageChange=e.pageChange.bind((0,m.default)(e)),e.selectPageChange=e.selectPageChange.bind((0,m.default)(e)),e.changeScore=e.changeScore.bind((0,m.default)(e)),e.initSort=e.initSort.bind((0,m.default)(e)),e.next=e.next.bind((0,m.default)(e)),e.getQuestionSort=e.getQuestionSort.bind((0,m.default)(e)),e.getQuestionSortData=e.getQuestionSortData.bind((0,m.default)(e)),e.questionColumons=[{title:"序号",dataIndex:"code",key:"code",width:"16.5%"},{title:"题干",dataIndex:"topic",key:"topic",width:"16.5%"},{title:"分数",dataIndex:"score",key:"score",width:"16.5%",render:function(t,a,n){return w.default.createElement(u.default,{key:e.state.randoming+n,min:0,step:.1,formatter:V,parser:V,style:{width:60,margin:0},defaultValue:t.score?t.score:0,onBlur:function(a){return e.changeScore(a,t.id)}})}},{title:"类型",dataIndex:"type",key:"type",width:"16.5%"},{title:"排序",dataIndex:"rank",key:"rank",width:"16.5%",render:function(e,t){return w.default.createElement("div",{className:"operation"},w.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return o.upMove(e,t)}},"上移"),w.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return o.downMove(e,t)}},"下移"))}},{title:"操作",key:"action",dataIndex:"action",width:"16.5%",render:function(e,t,a){return w.default.createElement("div",{className:"operation"},w.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return o.deleteQuestion(e.id,a)}},"删除"))}}],e.lookQuestionColumons=[{title:"序号",dataIndex:"code",key:"code",width:"25%"},{title:"题干",dataIndex:"topic",key:"topic",width:"25%"},{title:"分数",dataIndex:"score",key:"score",width:"25%"},{title:"类型",dataIndex:"type",key:"type",width:"25%"}],e.onChooseQuestionColumns=[{title:"序号",dataIndex:"code",key:"code",width:"10%"},{title:"题型",dataIndex:"type",key:"type",width:"20%"},{title:"题库",dataIndex:"questionBank",key:"questionBank",width:"20%"},{title:"题干",dataIndex:"topic",key:"topic"}],e}return(0,h.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getQuestionLists,a=e.examID,n=e.getSeeQuestionSelect,i=e.examPreview,r=this;if("look"===this.props.type&&(t({pageindex:1,pagesize:this.state.pagesize,id:this.props.examID},(function(){return r.setState({randoming:Math.random()})})),n(this.props.examID)),i&&0==i.showExamQuestionVO.length&&this.setState({redioTopic:0,redioScore:0,checkTopic:0,checkScore:0,judgeTopic:0,judgeScore:0,questionTopic:0,questionScore:0}),"edit"===this.props.type||"look"===this.props.type){this.id=x.default.getUrlParam(location.search,"id");var o=this;this.id&&(this.props.getExamInfo(this.id,(function(){o.initState(o.props.examInfo),2===o.props.examInfo.makeStrategy&&o.props.examInfo.libraryId&&"0"!=o.props.examInfo.libraryId&&o.props.getLibraryCount({examId:a,libraryId:o.props.examInfo.libraryId},(function(e){o.setState({libraryCount:e.data})})),o.setState({currentScore:0,addQuestionVisible:!1,importVisible:!1,selectedRowKeys:[],selectedRowKeys2:[],selectedQuestions:[],linkedQuestions:[],examID:"",pagesize:20,pageindex:1,selectPage:1,selectPagesize:20,libraryKey:"",stemKey:"",typeKey:0,topicRank:o.props.examInfo.stemSort?o.props.examInfo.stemSort:1,typeSort:o.props.examInfo.typeSort?o.props.examInfo.typeSort:1,selectedrecord:o.props.examInfo.libraryName?{name:o.props.examInfo.libraryName,id:o.props.examInfo.libraryId}:null,selectedRowId:o.props.examInfo&&"0"!=o.props.examInfo.libraryId&&[o.props.examInfo.libraryId],optionRank:1,random:"",questionTypeRank:o.props.examInfo.trExamQuestionSortVOS.map((function(e){return{type:e.type}})),trExamQuestionSortVOS:o.props.examInfo.trExamQuestionSortVOS,randoms:(new Date).getTime()})})),this.props.getExamPreview(a,(function(){for(var e=o.props.examPreview,t=0;t<e.showExamQuestionVO.length;t++)1==e.showExamQuestionVO[t].type?o.setState({redioTopic:e.showExamQuestionVO[t].numSum,redioScore:e.showExamQuestionVO[t].score}):2==e.showExamQuestionVO[t].type?o.setState({checkTopic:e.showExamQuestionVO[t].numSum,checkScore:e.showExamQuestionVO[t].score}):3==e.showExamQuestionVO[t].type?o.setState({judgeTopic:e.showExamQuestionVO[t].numSum,judgeScore:e.showExamQuestionVO[t].score}):o.setState({questionTopic:e.showExamQuestionVO[t].numSum,questionScore:e.showExamQuestionVO[t].score});o.setState({sumQuestion:e.sumQuestion,sumScore:e.sumScore})})))}else this.props.cleanUpCach(),this.setState({questionData:[]})}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].id);this.setState({selectedRowKeys:e,linkedQuestions:a})}},{key:"onSelectQuestionChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].id);this.setState({selectedRowKeys2:e,selectedQuestions:t})}},{key:"getQuestionSort",value:function(e){this.setState({typeSort:e.target.value,randoms:(new Date).getTime()})}},{key:"getKeyword",value:function(e,t){if(e.target.value.length>=20)c.default.warning("不能超过20个字");else switch(t){case"library":this.setState({libraryKey:e.target.value});break;case"stem":this.setState({stemKey:e.target.value})}}},{key:"getSelectVal",value:function(e){this.setState({typeKey:e})}},{key:"getQuestionSortData",value:function(e){this.setState({questionTypeRank:e})}},{key:"initSort",value:function(e){}},{key:"initState",value:function(e){this.setState({examID:this.props.examID,pageindex:1})}},{key:"refreshQuestionList",value:function(){var e=this.props,t=e.getQuestionLists,a=e.examID,n=e.getExamInfoSum,i=this;t({pageindex:1,pagesize:this.state.pagesize,id:this.props.examID},(function(){n(a),i.setState({randomTable:Math.random(),randoming:Math.random(),pageindex:1})}))}},{key:"deleteQuestion",value:function(e,t){var a=this,n=this.props,i=n.deleteQuestions,r=n.examID,o=n.getExamPreview,s=n.questionWay,l=n.getLibraryCount,u=this.state.selectedrecord,d=this,f=[];f.push(e),i(f,(function(){c.default.success("删除成功"),1!=s&&l({examId:r,libraryId:u.id}),d.refreshQuestionList(),d.props.setRelease(a.state.selectedQuestions),d.setState({redioTopic:0,redioScore:0,checkTopic:0,checkScore:0,judgeTopic:0,judgeScore:0,questionTopic:0,questionScore:0,sumQuestion:0,sumScore:0,randoming:Math.random()}),o(r,(function(){for(var e=d.props.examPreview,t=0;t<e.showExamQuestionVO.length;t++)1==e.showExamQuestionVO[t].type?d.setState({redioTopic:e.showExamQuestionVO[t].numSum,redioScore:e.showExamQuestionVO[t].score}):2==e.showExamQuestionVO[t].type?d.setState({checkTopic:e.showExamQuestionVO[t].numSum,checkScore:e.showExamQuestionVO[t].score}):3==e.showExamQuestionVO[t].type?d.setState({judgeTopic:e.showExamQuestionVO[t].numSum,judgeScore:e.showExamQuestionVO[t].score}):d.setState({questionTopic:e.showExamQuestionVO[t].numSum,questionScore:e.showExamQuestionVO[t].score});d.setState({sumQuestion:e.sumQuestion,sumScore:e.sumScore})}))}))}},{key:"selectQuestion",value:function(){var e=this.props,t=e.getSelectQuestionList,a=e.examID,n=e.questionWay,i=this.state,r=i.pageindex,o=i.pagesize,s=i.selectedRowId;if(1!=n){if(!s)return c.default.warning("请先选择题库！");t({examId:a,libraryId:s[0],pageindex:r,pagesize:o}),this.setState({addQuestionVisible:!0,libraryKey:"",stemKey:"",typeKey:0,selectedrecord:null,selectedRowKeys2:[]})}else t({examId:a,pageindex:r,pagesize:o}),this.setState({addQuestionVisible:!0,libraryKey:"",stemKey:"",typeKey:0,selectedrecord:null,selectedRowKeys2:[]})}},{key:"searchQuestion",value:function(){var e=this.props,t=e.getSelectQuestionList,a=e.examID,n=e.questionWay,i=this.state,r=i.libraryKey,o=i.stemKey,s=i.typeKey,l=i.pageindex,u=i.pagesize,d=i.selectedRowId,f=/[@#\$%\^&\*{}|\\]+/g.test(this.state.libraryKey),p=/[@#\$%\^&\*{}|\\]+/g.test(this.state.stemKey);if(f||p)return c.default.warning("不能输入特殊字符！");t({libraryKey:r,stemKey:o,type:s,libraryId:1!=n?d[0]:"",pageindex:l,pagesize:u,examId:a})}},{key:"insertQuestions",value:function(){var e=this.props,t=e.insertQuestion,a=(e.questionLists,e.examID),n=e.getExamPreview,i=(e.selectList,e.getLibraryCount),r=e.questionWay,o=e.questionTotal,s=this.state,l=s.selectedrecord,u=(s.libraryKey,s.stemKey,s.typeKey,s.selectedRowKeys2),d=this;if(!u.length>0)return c.default.warning("请添加试题"),!1;var f=this.state.selectedRowKeys2.map((function(e,t){return{subjectId:e.split("-")[0],libraryId:e.split("-")[1],examId:a,sort:o>0?t+o+1:t+1}}));console.log("ids-12-",f),t({examQuestionVOS:f},(function(){d.closeAddQuestion(),d.refreshQuestionList(),d.props.releaseProv(f),d.setState({randoming:Math.random()}),n(a,(function(){var e=d.props.examPreview;1!=r&&l&&l.id&&i({examId:a,libraryId:l.id});for(var t=0;t<e.showExamQuestionVO.length;t++)1==e.showExamQuestionVO[t].type?d.setState({redioTopic:e.showExamQuestionVO[t].numSum,redioScore:e.showExamQuestionVO[t].score}):2==e.showExamQuestionVO[t].type?d.setState({checkTopic:e.showExamQuestionVO[t].numSum,checkScore:e.showExamQuestionVO[t].score}):3==e.showExamQuestionVO[t].type?d.setState({judgeTopic:e.showExamQuestionVO[t].numSum,judgeScore:e.showExamQuestionVO[t].score}):d.setState({questionTopic:e.showExamQuestionVO[t].numSum,questionScore:e.showExamQuestionVO[t].score});d.setState({sumQuestion:e.sumQuestion,sumScore:e.sumScore})}))}))}},{key:"closeAddQuestion",value:function(){this.setState({addQuestionVisible:!1})}},{key:"changeScore",value:function(e,t){var a=this,n=this.props,i=n.setQuestionScore,r=n.examID,o=n.getExamPreview;i({questionLibrarySubjectVOS:[{id:t,score:e.target.value?e.target.value:0}]},(function(){o(r,(function(){for(var e=a.props.examPreview,t=0;t<e.showExamQuestionVO.length;t++)1==e.showExamQuestionVO[t].type?a.setState({redioTopic:e.showExamQuestionVO[t].numSum,redioScore:e.showExamQuestionVO[t].score}):2==e.showExamQuestionVO[t].type?a.setState({checkTopic:e.showExamQuestionVO[t].numSum,checkScore:e.showExamQuestionVO[t].score}):3==e.showExamQuestionVO[t].type?a.setState({judgeTopic:e.showExamQuestionVO[t].numSum,judgeScore:e.showExamQuestionVO[t].score}):a.setState({questionTopic:e.showExamQuestionVO[t].numSum,questionScore:e.showExamQuestionVO[t].score});a.setState({sumQuestion:e.sumQuestion,sumScore:e.sumScore})})),c.default.success("修改成功")}))}},{key:"openImport",value:function(){this.setState({importVisible:!0})}},{key:"closeImport",value:function(){this.setState({importVisible:!1})}},{key:"rankSubmit",value:function(e){e.preventDefault();var t=this.props.setExamSort,a=this;this.props.form.validateFields((function(e,n){e||t({examId:a.props.examID,stemSort:n.topicRank,typeSort:n.typeSort,optionSort:n.optionRank},(function(){c.default.success("保存成功")}))}))}},{key:"next",value:function(){var e=this.props,t=e.setExamSort,a=e.questionWay,n=this;this.props.form.validateFields((function(e,i){if(!e){var r={examId:n.props.examID,stemSort:i.topicRank,typeSort:i.typeSort,optionSort:i.optionRank,sysMakeStrategy:i.sysMakeStrategy,type:1!=a?1:0};2==i.typeSort&&(r.trExamQuestionSorts=n.state.questionTypeRank.map((function(e,t){return{examId:n.props.examID,sort:t+1,type:e.type}}))),t(r,(function(){c.default.success("保存成功"),n.props.step(2)}))}}))}},{key:"importQuestions",value:function(e){var t=this.props.importQuestions;t({fileDir:e.path,fileName:e.name,id:this.props.examID},(function(){c.default.success("导入成功")}))}},{key:"pageChange",value:function(e,t){var a=this.props.getQuestionLists,n=this;a({pageindex:e,pagesize:t,id:this.props.examID},(function(){return n.setState({randoming:Math.random()})})),this.setState({pageindex:e,selectedRowKeys:[],linkedQuestions:[]}),t!=this.state.pagesize&&this.setState({pagesize:t})}},{key:"selectPageChange",value:function(e,t){var a=this.props,n=a.getSelectQuestionList,i=a.examID,r=a.questionWay,o=this.state,s=o.libraryKey,l=o.stemKey,u=o.typeKey,c=o.selectedRowId;n({libraryKey:s,libraryId:1!=r?c[0]:"",stemKey:l,type:u,pageindex:e,pagesize:t,examId:i}),t!=this.state.selectPagesize&&this.setState({selectPagesize:t}),this.setState({selectPage:e})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.redioTopic,i=a.redioScore,c=a.checkTopic,p=a.checkScore,h=a.judgeTopic,m=a.judgeScore,g=a.questionTopic,y=a.questionScore,v=a.selectedrecord,E=a.sumQuestion,D=a.sumScore,O=a.selectPagesize,A=a.selectPage,Q=a.setScoreVisible,M=a.selectedRowId,V=this.props,_=V.selectList,j=V.selectTotal,F=V.questionLists,z=V.questionTotal,K=V.examInfo,G=(V.examPreview,V.questionBankList),Y=V.questionBankPage,H=V.seeQuestionSelect,W=V.getQuestionBankList,X=V.questionBankInfo,$=V.libraryCount,J=x.default.paginationConfig(this.pageChange,this.state.pageindex),Z=x.default.paginationConfig(this.selectPageChange),ee=[],te=[],ae={showQuickJumper:!0,defaultPageSize:20,total:Y?Y.pageTotal:null,PageSize:Y?Y.pageSize:null,showTotal:function(e){return"总共：".concat(e," 条")},onChange:function(e,t){W({pageindex:e,pagesize:20})},size:"small"};if(J.total=z,J.showTotal=function(e){return"总共：".concat(e," ")},F.length>0){var ne=F.length;ne>this.state.pagesize&&(ne=this.state.pagesize);for(var ie=0;ie<ne;ie++)ee.push({key:ie,id:F[ie].id,code:this.state.pagesize*(this.state.pageindex-1)+ie+1,topic:F[ie].stem,score:F[ie],type:x.default.questionType(F[ie].type),rank:F[ie],action:F[ie]}),te.push({key:ie,code:this.state.pagesize*(this.state.pageindex-1)+ie+1,topic:F[ie].stem,score:F[ie].score,type:x.default.questionType(F[ie].type)})}var re=[];Z.total=j,Z.showTotal=function(e){return"总共：".concat(e," ")},_.length>0&&(re=_.map((function(e,t){return{key:e.subjectId+"-"+e.libraryId,subjectId:e.subjectId,libraryId:e.libraryId,code:O*(A-1)+t+1,type:1==e.type?"单选题":2==e.type?"多选题":3==e.type?"判断题":"问答题",topic:e.stem,questionBank:e.name}})));var oe=$&&$.filter((function(e){return 1==e.type}))[0],se=$&&$.filter((function(e){return 2==e.type}))[0],le=$&&$.filter((function(e){return 3==e.type}))[0],ue=$&&$.filter((function(e){return 4==e.type}))[0],ce={name:v?v.name:"题库名称",rowsName:["出题数","总分"],colsLen:5,conclusion:"当前已选中"+E+"道题目，共计"+D+"分",data:[{head:"单选题",data:[n,i],count:oe?oe.count:0},{head:"多选题",data:[c,p],count:se?se.count:0},{head:"判断题",data:[h,m],count:le?le.count:0},{head:"问答题",data:[g,y],count:ue?ue.count:0}]},de={name:v?v.name:"题库名称",rowsName:["抽题数","分数"],colsLen:5,conclusion:"当前已选中"+E+"道题目，共计"+D+"分",data:[{head:"单选题",data:[n,i],count:oe?oe.count:0},{head:"多选题",data:[c,p],count:se?se.count:0},{head:"判断题",data:[h,m],count:le?le.count:0},{head:"问答题",data:[g,y],count:ue?ue.count:0}]},fe=this.state,pe=fe.selectedRowKeys,he=fe.selectedQuestions,me={selectedRowKeys:pe,onChange:this.onSelectChange},ge={selectedQuestions:he,onChange:this.onSelectQuestionChange},ye=[{title:"考试名称",dataIndex:"name",key:"name",width:200,render:function(e){return w.default.createElement("span",{title:e,style:{width:200,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"}},e)}},{title:"更新时间",dataIndex:"createTime",key:"createTime",render:function(e){return w.default.createElement("span",null,(0,L.default)(parseInt(e)).format("YYYY-MM-DD HH:mm"))}}],ve={selectedRowKeys:M,type:"radio",onChange:this.onSelectBank};return"look"==this.props.type?w.default.createElement("div",{className:"addQuestion",style:{display:this.props.show?"block":"none"}},1!=this.props.questionWay&&w.default.createElement("div",{style:{marginTop:"40px"}},w.default.createElement("h3",null,"选择题库"),v&&w.default.createElement("div",null,w.default.createElement("span",{style:{marginRight:"10px",color:"#1890ff"}},"已选中：",v.name),w.default.createElement(d.default,{type:"primary",style:{marginRight:"10px"},onClick:this.onLookQuestionBank},"查看题库"),w.default.createElement(l.default,{width:1200,title:"查看题库",visible:this.state.lookQuestionBank,onCancel:this.closeQuestionBank,footer:null},w.default.createElement(I.default,{id:M[0],examId:this.props.examID,type:"look",close:this.closeQuestionBank,init:this.initQuestionBank,info:X})))),w.default.createElement("h3",null,"试题列表"),w.default.createElement(s.default,{scroll:{y:300},loading:this.props.questionFetching,columns:this.lookQuestionColumons,dataSource:te,pagination:J}),H.length>0&&w.default.createElement(T.default,{title:"试题概览",defaultData:H,type:"look",data:ce}),w.default.createElement("h3",null,"试题排序"),w.default.createElement(S.default,{onSubmit:this.rankSubmit},1!=this.props.questionWay&&w.default.createElement(P,q,w.default.createElement("span",null,"出题策略："),t("sysMakeStrategy",{rules:[],initialValue:K.sysMakeStrategy?K.sysMakeStrategy:this.state.strategy})(w.default.createElement(B,{disabled:!0},w.default.createElement(b.default,{value:1},"抽题组卷"),w.default.createElement(b.default,{value:2},"随机组卷")))),w.default.createElement(P,q,w.default.createElement("span",null,"题型排序："),t("typeSort",{rules:[],initialValue:K.typeSort?K.typeSort:this.state.typeSort})(w.default.createElement(B,{disabled:!0},w.default.createElement(b.default,{value:1},"默认排序"),w.default.createElement(b.default,{value:2},"指定排序"))),w.default.createElement("div",{style:{display:2==this.state.typeSort||2==K.typeSort?"block":"none",width:250}},K.trExamQuestionSortVOS&&K.trExamQuestionSortVOS.length>0&&w.default.createElement(C.default,{type:"look",getData:this.getQuestionSortData,setData:K.trExamQuestionSortVOS}))),w.default.createElement(P,q,w.default.createElement("span",null,"题干排序："),t("topicRank",{rules:[],initialValue:K.stemSort?K.stemSort:this.state.topicRank})(w.default.createElement(B,{disabled:!0},w.default.createElement(b.default,{value:1},"默认排序"),w.default.createElement(b.default,{value:2},"随机排序")))),w.default.createElement(P,q,w.default.createElement("span",null,"选项排序："),t("optionRank",{rules:[],initialValue:K.optionSort?K.optionSort:this.state.optionRank})(w.default.createElement(B,{disabled:!0},w.default.createElement(b.default,{value:1},"默认排序"),w.default.createElement(b.default,{value:2},"随机排序")))))):w.default.createElement("div",null,this.state.addQuestionVisible&&w.default.createElement(l.default,{onCancel:this.closeAddQuestion,width:1200,visible:this.state.addQuestionVisible,footer:null,title:"添加试题",destroyOnClose:!0},1==this.props.questionWay&&w.default.createElement(f.default,{addonBefore:"题库关键词",maxLength:20,onChange:function(t){return e.getKeyword(t,"library")},style:{width:300,marginRight:15},placeholder:"题库关键字",value:this.state.libraryKey}),w.default.createElement(f.default,{addonBefore:"题干关键词",maxLength:20,onChange:function(t){return e.getKeyword(t,"stem")},style:{width:300,marginRight:15},placeholder:"题干关键字",value:this.state.stemKey}),w.default.createElement(o.default,{style:{width:150,marginRight:15},onChange:function(t){return e.getSelectVal(t)},value:this.state.typeKey,placeholder:"题目类型"},w.default.createElement(Option,{value:0},"全部"),w.default.createElement(Option,{value:1},"单选题"),w.default.createElement(Option,{value:2},"多选题"),w.default.createElement(Option,{value:3},"判断题"),w.default.createElement(Option,{value:4},"问答题")),w.default.createElement(d.default,{type:"primary",onClick:this.searchQuestion,style:{marginRight:15}},"查询"),w.default.createElement(d.default,{type:"primary",onClick:this.insertQuestions},"添加"),w.default.createElement(s.default,{style:{marginTop:20},dataSource:re,columns:this.onChooseQuestionColumns,rowSelection:ge,loading:this.props.selectFetching,pagination:Z})),w.default.createElement(l.default,{onCancel:this.closeImport,visible:this.state.importVisible,footer:null,title:"导入"},w.default.createElement(k.default,{isPreview:!1,getUrl:this.importQuestions})),w.default.createElement(l.default,{visible:Q,title:"批量设置分数",onCancel:this.setScoreCancel,onOk:this.setScoreCreate,destroyOnClose:!0},w.default.createElement("div",{style:{textAlign:"center"}},"设置分数",w.default.createElement(u.default,{style:{width:200,marginLeft:20},min:0,step:.1,onChange:this.setScoreChange}))),w.default.createElement("div",{className:"addQuestion",style:{marginTop:"40px",display:this.props.show?"block":"none"}},1!=this.props.questionWay&&w.default.createElement("div",{style:{marginTop:"40px"}},w.default.createElement("h3",null,"选择题库"),w.default.createElement(d.default,{type:"primary",style:{margin:"0 10px 10px 0"},onClick:this.onQuestionBank},"选择题库"),w.default.createElement("br",null),v&&w.default.createElement("div",null,w.default.createElement("span",{style:{marginRight:"10px",color:"#1890ff"}},"已选中：",v.name),w.default.createElement(d.default,{type:"primary",style:{marginRight:"10px"},onClick:this.onLookQuestionBank},"查看题库"),w.default.createElement(l.default,{width:1200,title:"查看题库",visible:this.state.lookQuestionBank,onCancel:this.closeQuestionBank,footer:null},w.default.createElement(I.default,{id:M[0],type:"look",close:this.closeQuestionBank,init:this.initQuestionBank,info:X})),w.default.createElement(d.default,{type:"primary",style:{marginRight:"10px"},onClick:this.onQuestionBank},"重新选择"))),w.default.createElement("h3",null,1==this.props.questionWay?"试题列表":"设置必考题"),w.default.createElement("div",null,w.default.createElement(d.default,{type:"primary",style:{marginRight:15},onClick:this.selectQuestion},1==this.props.questionWay?"添加试题":"添加必考题"),1!=this.props.questionWay&&w.default.createElement("span",{style:{marginRight:"15px",color:"#1890ff"}},"*注：从已选中的题库中选择必考题"),w.default.createElement(d.default,{type:"primary",onClick:this.batchSetScore},"批量设置分数")),w.default.createElement(s.default,{style:{margin:"20px 0"},key:this.state.randomTable,scroll:{y:300},rowSelection:me,loading:this.props.questionFetching,columns:this.questionColumons,dataSource:ee,pagination:J}),1==this.props.questionWay?w.default.createElement(T.default,{type:"display",defaultData:[],title:"试题概览",data:ce}):w.default.createElement("div",null,w.default.createElement("div",{style:{marginTop:"40px",marginBottom:"20px"}},w.default.createElement("h3",null,"抽题规则"),w.default.createElement("div",{style:{marginBottom:"20px",color:"#1890ff"}},"*注：随机抽取的题目不包含已设置的必考题"),w.default.createElement(T.default,{key:this.state.randomer,type:"input",defaultData:H,data:de,getData:function(e){console.log(e)},dataQuestionBank:this.dataQuestionBank}),w.default.createElement("div",{style:{color:"#1890ff"}},"抽题数：请输入抽题整数"),w.default.createElement("div",{style:{color:"#1890ff"}},"分数：请输入每题平均分，可精确至小数点后1位数")),w.default.createElement("h3",{style:{marginTop:"40px"}},"试题概览"),w.default.createElement(T.default,{key:"dadsad",defaultData:H,type:"display",data:ce}),w.default.createElement("div",{style:{color:"#1890ff"}},"出题数：已设置的必考题数+抽题数"),w.default.createElement("div",{style:{color:"#1890ff"}},"总分：当前题型下总分数"),w.default.createElement(l.default,{title:"添加题库",visible:this.state.visible,onOk:this.handleOkBank,onCancel:this.handleCancelBank,destroyOnClose:!0,width:600},w.default.createElement(U,{questionQuery:this.questionQuery}),w.default.createElement(s.default,{rowKey:"id",dataSource:G,columns:ye,rowSelection:ve,pagination:ae}))),w.default.createElement("h3",{style:{marginTop:40}},"试题排序"),w.default.createElement(S.default,{onSubmit:this.rankSubmit},1!=this.props.questionWay&&w.default.createElement(P,(0,r.default)({},q,{label:"出题策略"}),t("sysMakeStrategy",{rules:[],initialValue:K.sysMakeStrategy?K.sysMakeStrategy:this.state.strategy})(w.default.createElement(B,{onChange:this.radioChange},w.default.createElement(b.default,{value:1},"抽题组卷"),w.default.createElement(b.default,{value:2},"随机组卷"))),w.default.createElement("div",{style:{lineHeight:"20px",color:"#1890ff"}},"抽题组卷：在上述试卷设置基础上，生成一套试卷,所有用户参考这套试卷。"),w.default.createElement("div",{style:{lineHeight:"20px",color:"#1890ff"}},"随机组卷：在上述试卷设置基础上，随机生成一套试卷,所有用户参考的试卷题目均为随机。")),w.default.createElement(P,(0,r.default)({},q,{label:"题型排序"}),t("typeSort",{rules:[],initialValue:this.state.typeSort})(w.default.createElement(B,{onChange:this.getQuestionSort},w.default.createElement(b.default,{value:1},"默认排序"),w.default.createElement(b.default,{value:2},"题型排序"))),w.default.createElement("div",{style:{display:2===this.state.typeSort?"block":"none",width:250}},w.default.createElement(C.default,{key:this.state.randoms,getData:this.getQuestionSortData,setData:this.state.trExamQuestionSortVOS}))),w.default.createElement(P,(0,r.default)({},q,{label:"题干排序"}),t("topicRank",{rules:[],initialValue:this.state.topicRank})(w.default.createElement(B,null,w.default.createElement(b.default,{value:1},"默认排序"),w.default.createElement(b.default,{value:2},"随机排序")))),w.default.createElement(P,(0,r.default)({},q,{label:"选项排序"}),t("optionRank",{rules:[],initialValue:K.optionSort?K.optionSort:this.state.optionRank})(w.default.createElement(B,null,w.default.createElement(b.default,{value:1},"默认排序"),w.default.createElement(b.default,{value:2},"随机排序")))),w.default.createElement(P,N,w.default.createElement("div",{style:{textAlign:"center"}},"edit"==this.props.type?w.default.createElement(d.default,{type:"primary",onClick:function(){return e.props.step(0)}},"上一步"):w.default.createElement(R.Link,{to:{pathname:"/"+x.default.companyCode+"/"+x.default.siteCode+"/index/tool/test/test-management/edit",search:"?id=".concat(this.props.examID),state:{id:this.props.examID}}},w.default.createElement(d.default,{type:"primary"},"上一步")),w.default.createElement(d.default,{type:"primary",style:{marginLeft:16},onClick:this.next},"下一步"))))))}}]),a}(w.Component),j=S.default.create()(_),F=(0,D.connect)((function(e,t){var a=e.exam,n=e.questionBank;return{questionBankList:a.questionBankList,questionBankPage:a.questionBankPage,examInfo:a.examInfo,questionLists:a.questionLists,questionTotal:a.questionTotal,questionFetching:a.questionFetching,selectList:a.selectList,selectTotal:a.selectTotal,selectFetching:a.selectFetching,examPreview:a.examPreview,seeQuestionSelect:a.seeQuestionSelect,libraryCount:a.libraryCount,questionBankInfo:n.questionBankInfo}}),(function(e){return{getQuestionLists:function(t,a){return e((0,O.getQuestionLists)(t,a))},getQuestionBankList:function(t){return e((0,O.getQuestionBankList)(t))},getSelectQuestionList:function(t){return e((0,O.getSelectQuestionList)(t))},insertQuestion:function(t,a){return e((0,O.insertQuestion)(t,a))},importQuestions:function(t,a){return e((0,O.importQuestions)(t,a))},deleteQuestions:function(t,a){return e((0,O.deleteQuestions)(t,a))},setQuestionScore:function(t,a){return e((0,O.setQuestionScore)(t,a))},setExamSort:function(t,a){return e((0,O.setExamSort)(t,a))},getExamInfoSum:function(t,a){return e((0,O.getExamInfoSum)(t,a))},getExamInfo:function(t,a){return e((0,O.getExamInfo)(t,a))},getExamPreview:function(t,a,n){return e((0,O.getExamPreview)(t,a,n))},postQuestionMove:function(t,a){return e((0,O.postQuestionMove)(t,a))},postQuestionRule:function(t,a){return e((0,O.postQuestionRule)(t,a))},releaseProv:function(t,a){return e((0,O.releaseProv)(t,a))},setRelease:function(t,a){return e((0,O.setRelease)(t,a))},getSeeQuestionSelect:function(t,a){return e((0,O.getSeeQuestionSelect)(t,a))},cleanUpCach:function(t,a){return e((0,O.cleanUpCach)(t,a))},getQuestionBankInfo:function(t,a){return e((0,A.getQuestionBankInfo)(t,a))},getLibraryCount:function(t,a){return e((0,O.getLibraryCount)(t,a))}}}))(j);t.default=F},1421:function(e,t,a){"use strict";var n=a(4),i=a(0);a(43),a(143),a(51),a(620),a(20),a(34),a(35),a(23),a(234),a(144);var r=i(a(230));a(616);var o=i(a(617));a(140);var s=i(a(535)),l=i(a(29)),u=i(a(30)),c=i(a(59)),d=i(a(32)),f=i(a(33)),p=i(a(31));a(1006);var h=i(a(1007)),m=n(a(1));function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=h.default.Grid,v=function(e){var t=/^(\-)*(\d+)\.(\d).*$/;return"string"==typeof e?isNaN(Number(e))?"":e.replace(t,"$1$2.$3"):"number"==typeof e?isNaN(e)?"":String(e).replace(t,"$1$2.$3"):""},E=function(e){(0,d.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(g()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,f.default)(this,e)});function n(e){var t;return(0,l.default)(this,n),(t=a.call(this,e)).state={data:[{type:1,num:0,score:0},{type:2,num:0,score:0},{type:3,num:0,score:0},{type:4,num:0,score:0}]},t.getInput=t.getInput.bind((0,c.default)(t)),t.saveData=t.saveData.bind((0,c.default)(t)),t}return(0,u.default)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.data,e.defaultData),a=[];a=t.length>0?t[0].showExamQuestionVO.map((function(e){return{num:e.numSum,score:e.score,type:e.type}})):[{num:0,score:0,type:1},{num:0,score:0,type:2},{num:0,score:0,type:3},{num:0,score:0,type:4}],this.setState({data:a})}},{key:"getCardItems",value:function(e){var t=this.props.data,a=0,n=[];n.push(m.default.createElement(y,{key:a,title:t.name,style:e},String(t.name).length>10?String(t.name).slice(0,10)+"...":String(t.name))),a++;for(var i=0;i<t.data.length;i++)n.push(m.default.createElement(y,{key:a,style:e},t.data[i].head)),a++;for(var r=0;r<t.rowsName.length;r++){n.push(m.default.createElement(y,{key:a,style:e},t.rowsName[r])),a++;for(var o=0;o<t.data.length;o++)n.push(m.default.createElement(y,{key:a,style:e},t.data[o].data[r])),a++}return n.push(m.default.createElement(y,{key:a,style:{width:"100%",textAlign:"right",padding:10,color:"#1890ff"}},t.conclusion)),n}},{key:"getInput",value:function(e,t,a){console.log("getInput=number, index, type=",e,t,a);var n=this.state.data;0==t?n[a].num=e:n[a].score=e,this.setState({data:n})}},{key:"getInputCardItems",value:function(e){var t=this,a=this.props,n=a.data,i=(a.defaultData,this.state.data),l=0,u=[];u.push(m.default.createElement(y,{key:l,title:n.name,style:e},String(n.name).length>10?String(n.name).slice(0,10)+"...":String(n.name))),l++;for(var c=0;c<n.data.length;c++)u.push(m.default.createElement(y,{key:l,style:e},n.data[c].head)),l++;for(var d=function(a){u.push(m.default.createElement(y,{key:l,style:{width:"20%",textAlign:"center",padding:15}},n.rowsName[a])),l++;for(var s=function(s){u.push(m.default.createElement(y,{key:l,style:e},m.default.createElement(r.default,{title:0==a&&m.default.createElement("span",null,"可选",n.data[s].count?n.data[s].count:0,"题")},m.default.createElement(o.default,{step:0==a?1:.1,formatter:0==a?function(e){return Math.floor(e)}:v,parser:0==a?function(e){return Math.floor(e)}:v,min:0,max:0==a?n.data[s].count:0==n.data[s].count?0:1e5,width:150,disabled:"look"==t.props.type,value:0==a?i[s].num:i[s].score,onChange:function(e){t.getInput(e,a,s)}})))),l++},c=0;c<n.data.length;c++)s(c)},f=0;f<n.rowsName.length;f++)d(f);return u.push(m.default.createElement(y,{key:l,style:{width:"100%",textAlign:"right",padding:10}},"look"!=this.props.type&&m.default.createElement(s.default,{type:"primary",onClick:this.saveData},"保存"))),u}},{key:"saveData",value:function(){this.props.dataQuestionBank(this.state.data)}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.data;console.log("this.props=QuestionCard=",this.props),console.log("this.state==",this.state);var n={width:100/a.colsLen+"%",textAlign:"center",padding:10},i=[];return i="display"==this.props.type?this.getCardItems(n):this.getInputCardItems(n),console.log("cardItems==",i),m.default.createElement(h.default,{hoverable:!1,title:t},i)}}]),n}(m.Component);e.exports=E},1422:function(e,t,a){"use strict";var n=a(4),i=a(0);a(3),a(43),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(1006);var r=i(a(1007));a(61);var o=i(a(62)),s=i(a(29)),l=i(a(30)),u=i(a(32)),c=i(a(33)),d=i(a(31)),f=n(a(1));function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var h={width:"50%",textAlign:"center",padding:"24px 0"},m=["单选题","多选题","判断题","问答题"],g=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(p()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),(t=a.call(this,e)).state={sort:[{title:"单选题",type:1},{},{title:"多选题",type:2},{},{title:"判断题",type:3},{},{title:"问答题",type:4},{}]},t}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this.state.sort;if(console.log(this.props.setData),this.props.setData&&this.props.setData.length>0){for(var t=this.props.setData.map((function(e){return{type:e.type,title:m[e.type-1]}})),a=0;a<4;a++)e[2*a]=t[a];console.log(e),this.setState({sort:e})}}},{key:"up",value:function(e){var t=this.state.sort;if(1==e)o.default.info("第一个不能上移");else{var a=t[e-3];t[e-3]=t[e-1],t[e-1]=a,this.setState({sort:t}),this.props.getData(t.filter((function(e,t){return t%2==0})))}}},{key:"down",value:function(e){var t=this.state.sort;if(7==e)o.default.info("最后一个不能下移");else{var a=t[e-1];t[e-1]=t[e+1],t[e+1]=a,this.setState({sort:t}),this.props.getData(t.filter((function(e,t){return t%2==0})))}}},{key:"renderTable",value:function(e){var t=this;return e.map((function(e,a){return a%2==0?f.default.createElement(r.default.Grid,{key:a,style:h},e.title):f.default.createElement(r.default.Grid,{key:a,style:h},f.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return"look"!=t.props.type&&t.up(a)}},"上移"),f.default.createElement("a",{href:"javascript:void(0)",style:{marginLeft:10},onClick:function(){return"look"!=t.props.type&&t.down(a)}},"下移"))}))}},{key:"render",value:function(){return f.default.createElement(r.default,{title:"题型排序"},this.renderTable(this.state.sort))}}]),n}(f.Component);t.default=g},1423:function(e,t,a){"use strict";var n=a(4),i=a(0);a(7),a(154),a(44),a(3),a(227),a(43),a(51),a(20),a(34),a(35),a(23),a(229),a(616);var r=i(a(617)),o=i(a(98));a(224);var s=i(a(225));a(140);var l=i(a(535));a(99);var u=i(a(100));a(61);var c=i(a(62));a(592);var d=i(a(566)),f=i(a(29)),p=i(a(30)),h=i(a(59)),m=i(a(32)),g=i(a(33)),y=i(a(31)),v=i(a(2));a(799);var E=i(a(800));a(712);var b=i(a(643));a(556);var S=i(a(553));a(537);var w=i(a(536));a(540);var x=i(a(539));a(575);var k=i(a(568));a(554);var T=i(a(550)),C=n(a(1)),I=a(65),L=i(a(141)),R=i(a(624)),D=i(a(1344)),O=i(a(1320));a(1285);var A=i(a(763)),Q=i(a(223)),M=(i(a(1424)),a(52)),P=a(1014),B=i(a(1425)),q=i(a(1426)),N=i(a(1286)),U=i(a(823));function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){(0,v.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e){return function(){var t,a=(0,y.default)(e);if(F()){var n=(0,y.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,g.default)(this,t)}}function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var z=T.default.Option,K=(k.default.TabPane,x.default.Item),G=(w.default.TextArea,S.default.Group);b.default.Group,E.default.Step;var Y=function(e){(0,m.default)(a,e);var t=j(a);function a(){var e;(0,f.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),(0,v.default)((0,h.default)(e),"handleSelect",(function(t){var a=e.props.data;"3"==t&&(a.triggerTime="",a.customDate=(0,Q.default)(new Date).format("YYYY-MM-DD HH:mm:ss")),a.type=t,e.props.editItem(a)})),(0,v.default)((0,h.default)(e),"handleChange",(function(t,a){var n=e.props.data;switch(a){case"3":n.triggerTime="",n.customDate=(0,Q.default)(t).format("YYYY-MM-DD HH:mm:ss");break;default:n.customDate="",n.triggerTime=t}e.props.fun(n)})),e}return(0,p.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.usable;return C.default.createElement("div",{style:{display:"inline-block"}},C.default.createElement(T.default,{disabled:n||!1,defaultValue:""+a.type,style:{width:120,display:"inline-block",marginRight:20,marginBottom:20},onSelect:this.handleSelect},C.default.createElement(z,{value:"1"},"开始日期"),C.default.createElement(z,{value:"2"},"结束日期"),C.default.createElement(z,{value:"3"},"自定义时间")),""+a.type!="3"&&C.default.createElement(T.default,{disabled:n||!1,defaultValue:""+a.triggerTime,style:{width:200,display:"inline-block",marginRight:20},onChange:function(t){return e.handleChange(t,a.type)}},C.default.createElement(z,{value:"0"},"事件发生时"),C.default.createElement(z,{value:"1"},"5分钟前"),C.default.createElement(z,{value:"2"},"10分钟前"),C.default.createElement(z,{value:"3"},"30分钟前"),C.default.createElement(z,{value:"4"},"1小时前"),C.default.createElement(z,{value:"5"},"2小时前"),C.default.createElement(z,{value:"6"},"1天前"),C.default.createElement(z,{value:"7"},"2天前")),""+a.type=="3"&&C.default.createElement(d.default,{disabled:n||!1,defaultValue:(0,Q.default)(a.customDate),format:"YYYY-MM-DD HH:mm:ss",style:{width:200,display:"inline-block",marginRight:20},showTime:!0,placeholder:"请选择时间",onOk:function(t){return e.handleChange(t,a.type)}}))}}]),a}(C.default.Component),H=2,W=function(e){(0,m.default)(a,e);var t=j(a);function a(){var e;(0,f.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),(0,v.default)((0,h.default)(e),"onRadioRemind",(function(t){e.setState({reminder:t.target.value})})),(0,v.default)((0,h.default)(e),"onSelectRemind",(function(t){var a=e.props.newsList.filter((function(e){return t==e.id}));e.setState({content:a[0].content})})),(0,v.default)((0,h.default)(e),"onRadioChange",(function(t){e.setState({radioValue:t.target.value})})),(0,v.default)((0,h.default)(e),"add",(function(){var t=e.props.form,a=t.getFieldValue("items").concat({no:H,type:"1",triggerTime:"0",customDate:""});H++,t.setFieldsValue({items:a})})),(0,v.default)((0,h.default)(e),"remove",(function(t){var a=e.props.form,n=a.getFieldValue("items");if(1!==n.length){a.setFieldsValue({items:n.filter((function(e){return e.no!==t}))});a.getFieldValue("items")}})),(0,v.default)((0,h.default)(e),"checkIntegral",(function(){var t=(0,h.default)(e),a=!1;if(t.state.isShowIntegral&&t.state.integralGroup.length){for(var n=t.state.integralGroup,i=null,r=0;r<n.length;r++)if((i=n[r]).minScore>i.maxScore){c.default.error("积分区间范围不正确，请重新设置"),a=!0;break}}else t.state.isShowIntegral&&0==t.state.integralGroup.length&&(c.default.error("请输入积分范围"),a=!0);return a})),(0,v.default)((0,h.default)(e),"strategySubmit",(function(t){t.preventDefault();var a,n=e.props,i=n.saveExamStrategy,r=(n.setExamRange,(0,h.default)(e));a=r.checkIntegral();var o={},s=!0;e.messageRemind.props.form.validateFields((function(e,t){e?s=!1:o={messageId:t.messageId,messageType:2,sendType:1,messageContext:t.messageContext,hasDeleted:!1,isChangge:!0,type:t.type,messageTaskRemindVos:t.messageTaskRemindVos,enableTask:t.taskValue}})),s&&e.props.form.validateFields((function(t,n){if(t)e.setState({loading:!1});else{e.setState({loading:!0});var s=n.items.map((function(e,t){return{type:e.type,triggerTime:e.triggerTime,customDate:e.customDate}})),l={id:r.props.examID,visibleRange:n.examRange,pageMode:n.displayStyle,isAnswerPaper:n.showPaper,isScore:n.showGrade,isAnswer:n.showAnswer,isAnalysis:n.showAnalysis,isPaperid:n.showAppraise,isPoint:n.useIntegral,qualifiedScore:n.qualifiedScore,enableTask:n.taskValue,trExamRemindVO:"1"==n.remind?{type:n.type.join(","),templateId:n.templateId,content:n.content,trExamRemindTimeVoList:s}:{},trExamAuthorizeVoList:[],trExamPointVoList:r.state.integralGroup,trExamScoreEvaluateVoList:r.state.commentGroup};o.visibleRange=n.examRange,o.type?o.hasDeleted=!1:o.hasDeleted=!0,l.messageRemindVo=o,l.remind=o.type,a?e.setState({loading:!1}):i(l,(function(){c.default.success("保存成功"),e.props.history.push("/"+L.default.companyCode+"/"+L.default.siteCode+"/index/tool/test/test-management")}))}}))})),(0,v.default)((0,h.default)(e),"publishExam",(function(){e.setState({loading:!0});var t,a=(0,h.default)(e);t=a.checkIntegral(),e.props.form.validateFields((function(n,i){if(console.log(n,"-------------------"),n)e.setState({loading:!1});else{e.setState({loading:!0});var r=i.items.map((function(e,t){return{type:e.type,triggerTime:e.triggerTime,customDate:e.customDate}})),o={id:a.props.examID,visibleRange:i.examRange,pageMode:i.displayStyle,isAnswerPaper:i.showPaper,isScore:i.showGrade,isAnswer:i.showAnswer,isAnalysis:i.showAnalysis,isPaperid:i.showAppraise,isPoint:i.useIntegral,qualifiedScore:i.qualifiedScore,remind:i.remind,enableTask:i.taskValue,trExamRemindVO:"1"==i.remind?{type:i.type.join(","),templateId:i.templateId,content:i.content,trExamRemindTimeVoList:r}:{},trExamAuthorizeVoList:[],trExamPointVoList:a.state.integralGroup,trExamScoreEvaluateVoList:a.state.commentGroup},s={},l=!0;if(e.messageRemind.props.form.validateFields((function(t,a){if(t)return l=!1,void e.setState({loading:!1});s={messageId:a.messageId,messageType:2,sendType:1,messageContext:a.messageContext,hasDeleted:!1,isChangge:!0,type:a.type,messageTaskRemindVos:a.messageTaskRemindVos}})),!l)return;s.visibleRange=i.examRange,s.type?s.hasDeleted=!1:s.hasDeleted=!0,o.messageRemindVo=s,o.remind=s.type,t?e.setState({loading:!1}):e.props.getExamPreview(a.props.examID,(function(){e.props.examPreview.sumQuestion>0?a.props.release(o,(function(e){"1000"==e.code?(c.default.success("发布成功"),a.props.step(3)):(a.setState({loading:!1}),e.subMsg&&c.default.error(e.subMsg))}),(function(e,t){console.log(e,t),"1000"==e.code?(c.default.success("发布成功"),a.props.step(3)):a.setState({loading:!1})})):(c.default.error("请添加考试试题！"),a.setState({loading:!1}))}))}}))})),(0,v.default)((0,h.default)(e),"changeTask",(function(t){e.setState({enableTask:t})})),e.state={previewVisible:!1,selectStudentVisible:!1,isShowComment:!1,isShowIntegral:!1,id:"",qualifiedScore:0,arrTion:[],arrPoin:[],randoms:"",randomer:"",reminder:"0",radioValue:"1",viewRangeData:[],randomNum:"",enableTask:0,strategyInfo:{examRange:1,displayStyle:1,showPaper:0,showGrade:0,showAnswer:0,showAnalysis:0,showComment:0,integral:0,remind:0},examRange:[],integralGroup:[],commentGroup:[],content:e.props.newsList.length>0&&e.props.newsList[0].content,loading:!1},e.preview=e.preview.bind((0,h.default)(e)),e.closePreview=e.closePreview.bind((0,h.default)(e)),e.strategySubmit=e.strategySubmit.bind((0,h.default)(e)),e.selectStudent=e.selectStudent.bind((0,h.default)(e)),e.closeSelectStudent=e.closeSelectStudent.bind((0,h.default)(e)),e.onSelectComment=e.onSelectComment.bind((0,h.default)(e)),e.onSelectIntegral=e.onSelectIntegral.bind((0,h.default)(e)),e.getUser=e.getUser.bind((0,h.default)(e)),e.getDescription=e.getDescription.bind((0,h.default)(e)),e.getPoint=e.getPoint.bind((0,h.default)(e)),e.publishExam=e.publishExam.bind((0,h.default)(e)),e.getViewData=e.getViewData.bind((0,h.default)(e)),e.saveExamViewRange=e.saveExamViewRange.bind((0,h.default)(e)),e}return(0,p.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=(t.arrPoin,t.arrTion,this.props),n=a.examID;a.examInfo,a.postNewsList;if("edit"===this.props.type||"look"===this.props.type){this.id=L.default.getUrlParam(location.search,"id");var i=this;if(this.id){var r=[],o=[];this.props.getExamInfo(this.id,(function(){r=i.props.examInfo.trExamPointVOS.map((function(e){return{minScore:e.minScore,maxScore:e.maxScore,point:e.point}})),o=i.props.examInfo.trExamScoreEvaluateVOS.map((function(e){return{minScore:e.minScore,maxScore:e.maxScore,description:e.description}})),e.setState({id:n,arrTion:o,arrPoin:r,commentGroup:o,randoms:(new Date).getTime(),randomer:(new Date).getTime(),reminder:i.props.examInfo.remind,radioValue:i.props.examInfo.visibleRange,isShowComment:i.props.examInfo.isPaperid,isShowIntegral:i.props.examInfo.isPoint,integralGroup:r,enableTask:i.props.examInfo.enableTask})}))}this.props.getExamRange(this.props.examID,(function(){e.setState({viewRangeData:i.props.examViewRangeInfo&&i.props.examViewRangeInfo.map((function(e){return{id:e.id,relationId:e.relationId,name:e.name,type:e.type}}))})}))}}},{key:"onSelectComment",value:function(e){0==e?this.setState({isShowComment:!1}):this.setState({isShowComment:!0})}},{key:"onSelectIntegral",value:function(e){1==e.target.value?this.setState({isShowIntegral:!0}):this.setState({isShowIntegral:!1})}},{key:"getData",value:function(e){for(var t=this.props.form,a=t.getFieldValue("items"),n=0;n<a.length;n++)a.no===e.no&&e.time&&(a[n].time=e.time),a.no===e.no&&e.seconds&&(a[n].seconds=e.seconds);t.setFieldsValue({items:a})}},{key:"getDescription",value:function(e){var t=[];e.length>0&&(t=e.filter((function(e){return""!==e.minScore&&""!==e.maxScore&&""!==e.description}))),this.setState({commentGroup:t,arrTion:e})}},{key:"getUser",value:function(e){var t=this,a=e.map((function(e){return{type:parseInt(e.type),id:e.id,examId:t.props.examID}}));this.setState({examRange:a})}},{key:"getPoint",value:function(e){var t=[];e.length>0&&(t=e.filter((function(e){return""!==e.minScore&&""!==e.maxScore&&""!==e.point}))),this.setState({integralGroup:t})}},{key:"getViewData",value:function(e){var t=e.map((function(e){return{relationId:e.id,type:e.type,name:e.name}}));this.setState({viewRangeData:t})}},{key:"editItem",value:function(e){for(var t=this.props.form,a=t.getFieldValue("items"),n=0;n<a.length;n++)e.no===a.no&&(a[n].no=e.no);t.setFieldsValue({items:a})}},{key:"saveExamViewRange",value:function(){var e=this,t=this,a=this.state.viewRangeData.map((function(e){return{examId:t.props.examID,relationId:e.relationId,name:e.name,type:e.type}}));a.length?this.props.setExamViewRange(a,(function(){c.default.success("添加成功"),e.setState({selectStudentVisible:!1})})):c.default.error("请选择指定用户")}},{key:"selectStudent",value:function(){var e=this;2!=this.state.radioValue?c.default.info("请选择指定用户可见"):"edit"===this.props.type||"look"===this.props.type?this.props.getExamRange(this.props.examID,(function(t){e.setState({viewRangeDatalist:t.data&&t.data.map((function(e){return{id:e.relationId,name:e.name,type:e.type,fullName:e.fullName,workNum:e.workNum}})),selectStudentVisible:!0,randomNum:(new Date).getTime()})})):this.setState({selectStudentVisible:!0,randomNum:(new Date).getTime()})}},{key:"closeSelectStudent",value:function(){this.setState({selectStudentVisible:!1,viewRangeData:[]})}},{key:"preview",value:function(){this.setState({previewVisible:!0})}},{key:"closePreview",value:function(){this.setState({previewVisible:!1})}},{key:"componentWillUnmount",value:function(){this.props.form.resetFields(),this.props=null,this.state=null}},{key:"render",value:function(){var e=this,t=this.props,a=t.examInfo,n=t.form,i=t.newsList,c=t.examPreview,d=(t.examID,this.state),f=(d.arrPoin,d.arrTion,d.content,d.strategyInfo,d.viewRangeData,n.getFieldDecorator),p=n.getFieldValue;console.log(i,"newsListcwj");var h={labelCol:{span:4},wrapperCol:{span:20}},m={labelCol:{span:0},wrapperCol:{span:24}},g=(B.default,q.default,[]);if(a&&a.messageVO&&a.messageVO.trExamRemindTimeVoList.length>0)for(var y=0;y<a.messageVO.trExamRemindTimeVoList.length;y++)g.push(_({no:y},a.messageVO.trExamRemindTimeVoList[y]));f("items",{initialValue:a&&a.messageVO&&a.messageVO.trExamRemindTimeVoList.length>0?g:[{no:0,type:"1",triggerTime:"0",customDate:""},{no:1,type:"1",triggerTime:"0",customDate:""}]});var v=p("items");v.map((function(t,a){return C.default.createElement("div",{key:a},C.default.createElement(Y,{fun:function(t){return e.getData(t)},editItem:function(t){return e.editItem(t)},data:t,usable:"look"==e.props.type}),v.length>1?C.default.createElement(u.default,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===v.length,onClick:function(){return e.remove(t.no)}}):null)}));if("look"==this.props.type){var E={labelCol:{span:6},wrapperCol:{span:18}},b={labelCol:{span:2},wrapperCol:{span:18}};return C.default.createElement("div",{className:"strategy",style:{display:this.props.show?"block":"none"}},C.default.createElement("h3",null,"考试设置"),C.default.createElement(x.default,null,C.default.createElement(K,E,C.default.createElement("span",null,"考试范围："),f("examRange",{rules:[{required:!0,message:"请选择考试范围"}],initialValue:a.visibleRange?a.visibleRange:this.state.strategyInfo.examRange})(C.default.createElement(G,{disabled:!0},C.default.createElement(S.default,{value:1},"平台用户可见"),C.default.createElement(S.default,{value:2},"指定用户可见"))),C.default.createElement(l.default,{type:"primary",disabled:2!=this.state.radioValue,onClick:this.selectStudent},"指定用户")),C.default.createElement(K,E,C.default.createElement("span",null,"呈现样式："),f("displayStyle",{rules:[{required:!0,message:"请选择呈现样式"}],initialValue:a.pageMode?a.pageMode:this.state.strategyInfo.displayStyle})(C.default.createElement(G,{disabled:!0},C.default.createElement(S.default,{value:1},"整页呈现"),C.default.createElement(S.default,{value:2},"逐题呈现")))),C.default.createElement(K,E,C.default.createElement("span",null,"合格分："),f("qualifiedScore",{rules:[{required:!0,message:"请设置合格分"}],initialValue:a.qualifiedScore})(C.default.createElement(w.default,{style:{width:100},type:"number",addonAfter:"分",disabled:!0}))),C.default.createElement(K,E,C.default.createElement("span",null,"显示答卷："),f("showPaper",{rules:[],initialValue:a.isAnswerPaper?a.isAnswerPaper:this.state.strategyInfo.showPaper})(C.default.createElement(T.default,{disabled:!0},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示")))),C.default.createElement(K,E,C.default.createElement("span",null,"显示成绩："),f("showGrade",{rules:[],initialValue:a.isScore?a.isScore:this.state.strategyInfo.showGrade})(C.default.createElement(T.default,{disabled:!0},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示")))),C.default.createElement(K,E,C.default.createElement("span",null,"显示答案："),f("showAnswer",{rules:[],initialValue:a?a.isAnswer:this.state.strategyInfo.showAnswer})(C.default.createElement(T.default,{disabled:!0},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示")))),C.default.createElement(K,E,C.default.createElement("span",null,"显示解析："),f("showAnalysis",{rules:[],initialValue:a.isAnalysis?a.isAnalysis:this.state.strategyInfo.showAnalysis})(C.default.createElement(T.default,{disabled:!0},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示")))),C.default.createElement(K,E,C.default.createElement("span",null,"显示通用评价："),f("showAppraise",{rules:[],initialValue:a.isPaperid?a.isPaperid:this.state.strategyInfo.showComment})(C.default.createElement(T.default,{onChange:this.onSelectComment,disabled:!0},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示"))),C.default.createElement("div",{style:{display:this.state.isShowComment?"block":"none"}},C.default.createElement(D.default,{key:this.state.randoms,type:"look",getDescription:this.getDescription,arrTion:this.state.arrTion})))),C.default.createElement("h3",null,"积分设置"),C.default.createElement(x.default,{onSubmit:this.strategySubmit},C.default.createElement(K,b,C.default.createElement("span",null,"是否使用积分："),f("useIntegral",{rules:[],initialValue:a.isPoint?a.isPoint:this.state.strategyInfo.integral})(C.default.createElement(G,{disabled:!0,onChange:this.onSelectIntegral},C.default.createElement(S.default,{value:0},"否"),C.default.createElement(S.default,{value:1},"是"))),C.default.createElement(O.default,{key:this.state.randomer,type:"look",getPoint:this.getPoint,style:{display:this.state.isShowIntegral?"block":"none"},arrPoin:this.state.arrPoin}))),C.default.createElement("h3",null,"提醒设置"),C.default.createElement(x.default,{onSubmit:this.strategySubmit},1===a.remind&&C.default.createElement(N.default,{formItemLayout:b,labelAlign:"left",relationId:this.props.examID,remind:a.remind,relationType:2,wrappedComponentRef:function(t){return e.messageRemind=t},usable:!0}),(void 0===a.remind||0===a.remind)&&C.default.createElement(N.default,{formItemLayout:b,relationType:2,labelAlign:"left",wrappedComponentRef:function(t){return e.messageRemind=t},usable:!0})),C.default.createElement("h3",null,"任务设置"),C.default.createElement(x.default,{onSubmit:this.strategySubmit},C.default.createElement(U.default,{formItemLayout:{labelCol:{span:3},wrapperCol:{span:18}},taskValue:a.enableTask,type:0,disabled:!0,getFieldDecorator:f,changeTask:this.changeTask})),C.default.createElement(s.default,{width:1160,visible:this.state.selectStudentVisible,onCancel:this.closeSelectStudent,footer:null},C.default.createElement(R.default,{key:this.state.randomNum,invisible:!1,getData:this.getViewData,initData:this.state.viewRangeDatalist,types:"exam",groupTypes:"exam",type:"look"})))}return console.log(this.props.examID,"考试805"),C.default.createElement("div",{className:"strategy",style:{display:this.props.show?"block":"none",marginTop:16}},C.default.createElement("h3",null,"考试设置"),C.default.createElement(x.default,{onSubmit:this.strategySubmit,autocomplete:"off"},C.default.createElement(K,(0,o.default)({},h,{label:"考试范围"}),f("examRange",{rules:[{required:!0,message:"请选择考试范围"}],initialValue:a.visibleRange?a.visibleRange:this.state.strategyInfo.examRange})(C.default.createElement(G,{onChange:this.onRadioChange},C.default.createElement(S.default,{value:1},"平台用户可见"),C.default.createElement(S.default,{value:2},"指定用户可见"))),C.default.createElement(l.default,{type:"primary",disabled:1==this.state.radioValue,onClick:this.selectStudent},"指定用户")),C.default.createElement(K,(0,o.default)({},h,{label:"呈现样式"}),f("displayStyle",{rules:[{required:!0,message:"请选择呈现样式"}],initialValue:a.pageMode?a.pageMode:this.state.strategyInfo.displayStyle})(C.default.createElement(G,null,C.default.createElement(S.default,{value:1},"整页呈现"),C.default.createElement(S.default,{value:2},"逐题呈现")))),this.props.show&&C.default.createElement(K,(0,o.default)({},h,{label:"合格分"}),f("qualifiedScore",{rules:[{required:!0,message:"请设置合格分"}],initialValue:a.qualifiedScore?a.qualifiedScore:this.state.qualifiedScore})(C.default.createElement(r.default,{placeholder:"合格分不能大于试题总分",style:{width:200,marginRight:10},min:0,max:c?c.sumScore:0})),C.default.createElement("span",null,"分")),C.default.createElement(K,(0,o.default)({},h,{label:"显示答卷"}),f("showPaper",{rules:[],initialValue:a.isAnswerPaper?a.isAnswerPaper:this.state.strategyInfo.showPaper})(C.default.createElement(T.default,{style:{width:200}},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示")))),C.default.createElement(K,(0,o.default)({},h,{label:"显示成绩"}),f("showGrade",{rules:[],initialValue:a.isScore?a.isScore:this.state.strategyInfo.showGrade})(C.default.createElement(T.default,{style:{width:200}},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示")))),C.default.createElement(K,(0,o.default)({},h,{label:"显示答案"}),f("showAnswer",{rules:[],initialValue:a.isAnswer?a.isAnswer:this.state.strategyInfo.showAnswer})(C.default.createElement(T.default,{style:{width:200}},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示")))),C.default.createElement(K,(0,o.default)({},h,{label:"显示解析"}),f("showAnalysis",{rules:[],initialValue:a.isAnalysis?a.isAnalysis:this.state.strategyInfo.showAnalysis})(C.default.createElement(T.default,{style:{width:200}},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示")))),C.default.createElement(K,(0,o.default)({},h,{label:"显示通用评价"}),f("showAppraise",{rules:[],initialValue:a.isPaperid?a.isPaperid:this.state.strategyInfo.showComment})(C.default.createElement(T.default,{style:{width:200,marginRight:10},onChange:this.onSelectComment},C.default.createElement(z,{value:0},"不显示"),C.default.createElement(z,{value:1},"交卷后显示"),C.default.createElement(z,{value:2},"考试结束后显示"))),C.default.createElement("div",{style:{display:this.state.isShowComment?"block":"none"}},C.default.createElement(D.default,{key:this.state.randoms,getDescription:this.getDescription,arrTion:this.state.arrTion})))),C.default.createElement("h3",null,"积分设置"),C.default.createElement(x.default,{onSubmit:this.strategySubmit},C.default.createElement(K,(0,o.default)({},h,{label:"是否使用积分："}),f("useIntegral",{rules:[],initialValue:a.isPoint?a.isPoint:this.state.strategyInfo.integral})(C.default.createElement(G,{onChange:this.onSelectIntegral},C.default.createElement(S.default,{value:0},"否"),C.default.createElement(S.default,{value:1},"是"))),C.default.createElement("div",{style:{display:this.state.isShowIntegral?"block":"none"}},C.default.createElement(O.default,{key:this.state.randomer,getPoint:this.getPoint,arrPoin:this.state.arrPoin})))),C.default.createElement("h3",null,"任务设置"),C.default.createElement(x.default,{onSubmit:this.strategySubmit},C.default.createElement(U.default,{taskValue:a.enableTask,type:0,getFieldDecorator:f,changeTask:this.changeTask})),C.default.createElement("h3",null,"提醒设置"),C.default.createElement(x.default,{onSubmit:this.strategySubmit},1===a.remind&&C.default.createElement(N.default,{formItemLayout:h,relationId:this.props.examID,remind:a.remind,relationType:2,wrappedComponentRef:function(t){return e.messageRemind=t}}),(void 0===a.remind||0===a.remind)&&C.default.createElement(N.default,{formItemLayout:h,relationType:2,wrappedComponentRef:function(t){return e.messageRemind=t}}),C.default.createElement(K,m,C.default.createElement("div",{className:"btnGroup"},C.default.createElement(I.Link,{to:"/"+L.default.companyCode+"/"+L.default.siteCode+"/index/tool/test/test-management"},C.default.createElement(l.default,null,"取消")),C.default.createElement(l.default,{type:"primary",style:{marginLeft:16},onClick:function(){return e.props.step(1)}},"上一步"),C.default.createElement(l.default,{style:{marginLeft:16},type:"primary",loading:this.state.loading,htmlType:"submit"},"保存"),C.default.createElement(l.default,{style:{marginLeft:16},type:"primary",loading:this.state.loading,onClick:this.publishExam},"发布")))),C.default.createElement(s.default,{width:800,destroyOnClose:!0,visible:this.state.previewVisible,onCancel:this.closePreview,footer:null},C.default.createElement("div",{className:"publishBlock"},C.default.createElement("h3",null," 恭喜您，考试发布成功！"),C.default.createElement("h5",null,"考试二维码："),C.default.createElement(A.default,{value:JSON.stringify({type:"exam",id:this.props.examID}),size:200}))),C.default.createElement(s.default,{width:1160,visible:this.state.selectStudentVisible,onCancel:this.closeSelectStudent,onOk:this.saveExamViewRange},C.default.createElement(R.default,{types:"exam",groupTypes:"exam",key:this.state.randomNum,invisible:!1,getData:this.getViewData,initData:this.state.viewRangeDatalist})))}}]),a}(C.Component),X=x.default.create()(W);e.exports=(0,M.connect)((function(e,t){var a=e.exam;return{examInfo:a.examInfo,examViewRangeInfo:a.examViewRangeInfo,releaseProv:a.releaseProv,newsList:a.newsList,examPreview:a.examPreview}}),(function(e){return{getExamInfo:function(t,a){return e((0,P.getExamInfo)(t,a))},saveExamStrategy:function(t,a){return e((0,P.saveExamStrategy)(t,a))},setExamRange:function(t,a){return e((0,P.setExamRange)(t,a))},getExamRange:function(t,a){return e((0,P.getExamRange)(t,a))},postNewsList:function(t,a){return e((0,P.postNewsList)(t,a))},getExamPreview:function(t,a,n){return e((0,P.getExamPreview)(t,a,n))}}}))((0,I.withRouter)(X))},1424:function(e,t,a){"use strict";var n=a(4),i=a(0);a(3),a(101),a(43),a(20),a(34),a(23),a(140);var r=i(a(535));a(99);var o=i(a(100));a(592);var s=i(a(566)),l=i(a(98)),u=i(a(29)),c=i(a(30)),d=i(a(59)),f=i(a(32)),p=i(a(33)),h=i(a(31));a(554);var m=i(a(550));a(537);var g=i(a(536));a(712);var y=i(a(643));a(540);var v=i(a(539)),E=n(a(1)),b=i(a(223));function S(e){return function(){var t,a=(0,h.default)(e);if(w()){var n=(0,h.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,p.default)(this,t)}}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var x=v.default.Item,k=y.default.Group,T=g.default.TextArea,C=m.default.Option,I={labelCol:{span:4},wrapperCol:{span:20}},L=function(e){(0,f.default)(a,e);var t=S(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).state={remindTime:[],data:{email:0,msg:0,template:1,content:"考试开始前模板"}},n.getRemindTime=n.getRemindTime.bind((0,d.default)(n)),n.remindWay=n.remindWay.bind((0,d.default)(n)),n.selectTemplate=n.selectTemplate.bind((0,d.default)(n)),n.getContent=n.getContent.bind((0,d.default)(n)),n}return(0,c.default)(a,[{key:"getContent",value:function(e){var t=this.state.data;t.content=e.target.value,this.setState({data:t})}},{key:"getRemindTime",value:function(e){this.setState({remindTime:e})}},{key:"remindWay",value:function(e){var t=this.state.data;-1!=e.indexOf(1)&&(t.email=1,this.setState({data:t})),-1!=e.indexOf(2)&&(t.msg=1,this.setState({data:t}))}},{key:"selectTemplate",value:function(e){var t=this.state.data;t.template=e,t.content=1==e?"考试开始前模板":"考试开始后模板",this.setState({data:t})}},{key:"render",value:function(){return E.default.createElement(v.default,null,E.default.createElement(x,(0,l.default)({label:"提醒方式"},I),E.default.createElement(k,{onChange:this.remindWay},E.default.createElement(y.default,{value:1},"邮件"),E.default.createElement(y.default,{value:2},"站内消息")),E.default.createElement("span",null,"选择模板："),E.default.createElement(m.default,{style:{width:250},defaultValue:1,onSelect:this.selectTemplate},E.default.createElement(C,{value:1},"考试开始前提醒"),E.default.createElement(C,{value:2},"考试结束前提醒"))),E.default.createElement(x,(0,l.default)({label:"提醒内容"},I),E.default.createElement(T,{value:this.state.data.content,onChange:this.getContent})),E.default.createElement(x,(0,l.default)({label:"提醒时间"},I),E.default.createElement(R,{data:this.state.remindTime,getData:this.getRemindTime})))}}]),a}(E.Component),R=function(e){(0,f.default)(a,e);var t=S(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).selectChange1=n.selectChange1.bind((0,d.default)(n)),n.selectChange2=n.selectChange2.bind((0,d.default)(n)),n.add=n.add.bind((0,d.default)(n)),n.delete=n.delete.bind((0,d.default)(n)),n.getTime=n.getTime.bind((0,d.default)(n)),n}return(0,c.default)(a,[{key:"getTime",value:function(e,t){var a=this.props,n=a.data,i=a.getData,r=(0,b.default)(n).format("YYYY-MM-DD HH:mm:ss");n[t].time=r,i(n)}},{key:"add",value:function(){var e=this.props,t=e.data,a=e.getData;t.push({type:1,time:1}),a(t)}},{key:"delete",value:function(e){var t=this.props,a=t.data;(0,t.getData)(a=a.filter((function(t,a){return a!=e})))}},{key:"selectChange1",value:function(e,t){var a=this.props,n=a.data,i=a.getData;n[t].type=e,3==e&&(n[t].time=new Date),i(n)}},{key:"selectChange2",value:function(e,t){var a=this.props,n=a.data,i=a.getData;n[t].time=e,i(n)}},{key:"render",value:function(){var e=this,t=this.props.data.map((function(t,a){return E.default.createElement("div",{key:a},E.default.createElement(m.default,{style:{width:250,marginRight:15},defaultValue:t.type,onSelect:function(t){return e.selectChange1(t,a)}},E.default.createElement(C,{value:1},"开始日期"),E.default.createElement(C,{value:2},"截止日期"),E.default.createElement(C,{value:3},"自定义时间")),3==t.type?E.default.createElement(s.default,{defaultValue:t.time?(0,b.default)(t.time):"",showTime:!0,format:"YYYY-MM-DD HH:mm:ss",style:{marginRight:15},onChange:e.getTime}):E.default.createElement(m.default,{style:{width:250,marginRight:15},defaultValue:t.time,onSelect:function(t){return e.selectChange2(t,a)}},E.default.createElement(C,{value:1},"事件发生时"),E.default.createElement(C,{value:2},"5分钟前"),E.default.createElement(C,{value:3},"10分钟前"),E.default.createElement(C,{value:4},"30分钟前"),E.default.createElement(C,{value:5},"1小时前"),E.default.createElement(C,{value:6},"2小时前"),E.default.createElement(C,{value:7},"1天前"),E.default.createElement(C,{value:8},"2天前")),E.default.createElement(o.default,{type:"minus-circle-o",style:{fontSize:23},onClick:function(){return e.delete(a)}}))}));return E.default.createElement("div",null,t,E.default.createElement(r.default,{onClick:this.add},E.default.createElement(o.default,{type:"plus"}),"添加"))}}]),a}(E.Component);e.exports=L},1425:function(e,t,a){e.exports=a.p+"images/evaluate.b88afa25a17f411f8a5134b5e0669669.png"},1426:function(e,t,a){e.exports=a.p+"images/integral.78181dfb0d5844741846f4e7b8e748c7.png"},1427:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(20),a(34),a(23),a(140);var r=i(a(535)),o=i(a(29)),s=i(a(30)),l=i(a(32)),u=i(a(33)),c=i(a(31)),d=n(a(1)),f=a(65),p=i(a(763)),h=i(a(1285)),m=i(a(141));function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,l.default)(n,e);var t,a=(t=n,function(){var e,a=(0,c.default)(t);if(g()){var n=(0,c.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,u.default)(this,e)});function n(){var e;(0,o.default)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=a.call.apply(a,[this].concat(i))).state={},e}return(0,s.default)(n,[{key:"render",value:function(){return"look"==this.props.type?d.default.createElement("div",{className:h.default.publish,style:{display:this.props.show?"block":"none",textAlign:"center"}},d.default.createElement("div",{className:"publishBlock",style:{marginBottom:16}},d.default.createElement("h5",null,"考试二维码："),d.default.createElement(p.default,{value:JSON.stringify({type:"exam",id:this.props.examID}),size:200})),d.default.createElement("div",{className:h.default.publishBtn},d.default.createElement(f.Link,{to:"/"+m.default.companyCode+"/"+m.default.siteCode+"/index/tool/test/test-management"},d.default.createElement(r.default,{type:"primary"},"返回")))):d.default.createElement("div",{className:h.default.publish,style:{display:this.props.show?"block":"none"}},d.default.createElement("div",{className:h.default.publishBlock},d.default.createElement("h3",null,"恭喜您，考试发布成功！"),d.default.createElement("h5",null,"考试二维码："),d.default.createElement(p.default,{value:JSON.stringify({type:"exam",id:this.props.examID}),size:200})),d.default.createElement("div",{className:h.default.publishBtn},d.default.createElement(f.Link,{to:"/"+m.default.companyCode+"/"+m.default.siteCode+"/index/tool/test/test-management"},d.default.createElement(r.default,{type:"primary"},"完成"))))}}]),n}(d.Component);e.exports=y},2027:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(29)),o=i(a(30)),s=i(a(59)),l=i(a(32)),u=i(a(33)),c=i(a(31));a(799);var d=i(a(800));a(556);var f=i(a(553));a(537);var p=i(a(536));a(540);var h=i(a(539));a(575);var m=i(a(568));a(554);var g=i(a(550)),y=n(a(1)),v=(i(a(141)),i(a(1419))),E=i(a(1420)),b=i(a(1423)),S=i(a(1427));a(1285);var w=i(a(226)),x=a(52),k=a(1014);function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}g.default.Option,m.default.TabPane,h.default.Item,p.default.TextArea,f.default.Group;var C=d.default.Step;var I=function(e){(0,l.default)(n,e);var t,a=(t=n,function(){var e,a=(0,c.default)(t);if(T()){var n=(0,c.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,u.default)(this,e)});function n(){var e;(0,r.default)(this,n);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=a.call.apply(a,[this].concat(i))).addQuestionRef="",e.state={currentStep:0,questionWay:1,editKey:Math.random()},e.stepTo=e.stepTo.bind((0,s.default)(e)),e.getAddQuestionRef=e.getAddQuestionRef.bind((0,s.default)(e)),e.getQuestionWay=e.getQuestionWay.bind((0,s.default)(e)),e}return(0,o.default)(n,[{key:"getAddQuestionRef",value:function(e){this.addQuestionRef=e}},{key:"getQuestionWay",value:function(e){this.setState({questionWay:e})}},{key:"stepTo",value:function(e){1==e&&this.addQuestionRef.initState(),this.setState({currentStep:e})}},{key:"render",value:function(){var e=this;return y.default.createElement("div",{style:{padding:20}},y.default.createElement(w.default,{title:"新建考试"}),y.default.createElement(d.default,{current:this.state.currentStep},y.default.createElement(C,{title:"基本信息"}),y.default.createElement(C,{title:"添加试题"}),y.default.createElement(C,{title:"考试策略"}),y.default.createElement(C,{title:"发布"})),y.default.createElement(v.default,{show:0==this.state.currentStep,examID:this.props.examID,currentStep:this.state.currentStep,type:"create",examBasicInfo:this.props.examBasicInfo,getQuestionWay:this.getQuestionWay,close:this.props.close,step:this.stepTo,editKey:function(){e.setState({editKey:Math.random()})}}),y.default.createElement(E.default,{key:this.state.editKey,init:this.getAddQuestionRef,show:1==this.state.currentStep,currentStep:this.state.currentStep,examID:this.props.examID,close:this.props.close,type:"create",questionWay:this.state.questionWay,step:this.stepTo}),y.default.createElement(b.default,{show:2==this.state.currentStep,currentStep:this.state.currentStep,examID:this.props.examID,key:Math.random()+"com",type:"create",saveExamStrategy:this.props.saveExamStrategy,setExamRange:this.setExamRange,release:this.props.publishExam,setExamViewRange:this.props.setExamViewRange,close:this.props.close,step:this.stepTo}),y.default.createElement(S.default,{show:3==this.state.currentStep,currentStep:this.state.currentStep,close:this.props.close,type:"create",examID:this.props.examID}))}}]),n}(y.Component),L=h.default.create()(I),R=(0,x.connect)((function(e,t){var a=e.exam;return{examID:a.examID,examRange:a.examViewRangeInfo}}),(function(e){return{examBasicInfo:function(t,a,n){return e((0,k.examBasicInfo)(t,a,n))},saveExamStrategy:function(t,a){return e((0,k.saveExamStrategy)(t,a))},setExamRange:function(t,a){return e((0,k.setExamRange)(t,a))},publishExam:function(t,a,n){return e((0,k.publishExam)(t,a,n))},setExamViewRange:function(t,a){return e((0,k.setExamViewRange)(t,a))}}}))(L);t.default=R},534:function(e,t,a){"use strict";var n,i=a(613),r=a(19),o=a(16),s=a(17),l=a(21),u=a(147),c=a(37),d=a(36),f=a(22).f,p=a(152),h=a(145),m=a(15),g=a(88),y=o.Int8Array,v=y&&y.prototype,E=o.Uint8ClampedArray,b=E&&E.prototype,S=y&&p(y),w=v&&p(v),x=Object.prototype,k=x.isPrototypeOf,T=m("toStringTag"),C=g("TYPED_ARRAY_TAG"),I=i&&!!h&&"Opera"!==u(o.opera),L=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D=function(e){return s(e)&&l(R,u(e))};for(n in R)o[n]||(I=!1);if((!I||"function"!=typeof S||S===Function.prototype)&&(S=function(){throw TypeError("Incorrect invocation")},I))for(n in R)o[n]&&h(o[n],S);if((!I||!w||w===x)&&(w=S.prototype,I))for(n in R)o[n]&&h(o[n].prototype,w);if(I&&p(b)!==w&&h(b,w),r&&!l(w,T))for(n in L=!0,f(w,T,{get:function(){return s(this)?this[C]:void 0}}),R)o[n]&&c(o[n],C,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:L&&C,aTypedArray:function(e){if(D(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(h){if(k.call(S,e))return e}else for(var t in R)if(l(R,n)){var a=o[t];if(a&&(e===a||k.call(a,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,a){if(r){if(a)for(var n in R){var i=o[n];i&&l(i.prototype,e)&&delete i.prototype[e]}w[e]&&!a||d(w,e,a?t:I&&v[e]||t)}},exportTypedArrayStaticMethod:function(e,t,a){var n,i;if(r){if(h){if(a)for(n in R)(i=o[n])&&l(i,e)&&delete i[e];if(S[e]&&!a)return;try{return d(S,e,a?t:I&&y[e]||t)}catch(e){}}for(n in R)!(i=o[n])||i[e]&&!a||d(i,e,t)}},isView:function(e){var t=u(e);return"DataView"===t||l(R,t)},isTypedArray:D,TypedArray:S,TypedArrayPrototype:w}},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},539:function(e,t,a){e.exports=a(11)(821)},540:function(e,t,a){"use strict";a.r(t);a(26),a(577),a(584)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},553:function(e,t,a){e.exports=a(11)(206)},558:function(e,t,a){e.exports=a(11)(251)},561:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.gupList=function(e){return function(t){t({type:s.GET_UPLOAD_LIST,data:e})}},t.gupfetch=function(e,t){var a,n=!1,i=!1;e?(n=e.needTranscode,i=e.type,a="".concat(u,"/upload/policy?needTranscode=").concat(n,"&type=").concat(i,"&date=").concat(new Date)):a="".concat(u,"/upload/policy?date=").concat(new Date);return function(e){return(0,r.default)({url:a}).then((function(a){if("1000"===a.code){var n=JSON.parse(a.data);e({type:s.GET_UPLOAD_PARAM,data:n}),t&&t()}return a}))}},t.upvideo=function(e,t,a){return function(a){return(0,r.default)({videoUpload:c,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:s.UP_INFO,data:JSON.parse(e.data)}),t&&t())}))}},t.videoInfo=function(e,t){return function(a){return(0,r.default)({videoPlay:d,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:s.VIDEO_INFO,data:e.data}),t&&t())}))}},t.UploadUtilFile=function(e){return{type:s.GET_FILE_NAME_ADDRESS,fileAddress:e}},t.clearUpload=function(){return function(e){e({type:s.CLEARUPLOAD})}};var r=i(a(76)),o=i(a(587)),s=n(a(231)),l=o.default.common,u=l.ossUrl,c=l.videoUpload,d=l.videoPlay},563:function(e,t,a){e.exports=a(11)(837)},564:function(e,t,a){"use strict";a.r(t);a(26),a(581),a(140)},565:function(e,t,a){e.exports=a(11)(170)},566:function(e,t,a){e.exports=a(11)(817)},568:function(e,t,a){e.exports=a(11)(333)},570:function(e,t,a){e.exports=a(11)(99)},571:function(e,t,a){e.exports=a(11)(912)},577:function(e,t,a){},580:function(e,t,a){"use strict";a.r(t);a(26),a(625),a(598),a(144)},581:function(e,t,a){"use strict";a.r(t);a(26),a(585)},585:function(e,t,a){},587:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),r={common:{ossUrl:"GET ".concat(i.default.ossUrl),videoUpload:"POST ".concat(i.default.ossUrl,"/video/upload"),videoPlay:"GET ".concat(i.default.ossUrl,"/video/play"),ossPolicy:"GET ".concat(i.default.ossUrl,"/upload/policy")}};t.default=r},590:function(e,t,a){"use strict";a.r(t);a(26),a(597)},591:function(e,t,a){e.exports=a(11)(819)},596:function(e,t,a){e.exports=a(11)(827)},597:function(e,t,a){},598:function(e,t,a){"use strict";a.r(t);a(26),a(626)},605:function(e,t,a){"use strict";var n=a(40),i=a(104),r=a(27);e.exports=function(e){for(var t=n(this),a=r(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,a),l=o>2?arguments[2]:void 0,u=void 0===l?a:i(l,a);u>s;)t[s++]=e;return t}},611:function(e,t,a){var n=a(55),i=a(40),r=a(87),o=a(27),s=function(e){return function(t,a,s,l){n(a);var u=i(t),c=r(u),d=o(u.length),f=e?d-1:0,p=e?-1:1;if(s<2)for(;;){if(f in c){l=c[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in c&&(l=a(l,c[f],f,u));return l}};e.exports={left:s(!1),right:s(!0)}},612:function(e,t,a){"use strict";var n=a(16),i=a(19),r=a(613),o=a(37),s=a(155),l=a(14),u=a(105),c=a(64),d=a(27),f=a(614),p=a(673),h=a(152),m=a(145),g=a(78).f,y=a(22).f,v=a(605),E=a(67),b=a(48),S=b.get,w=b.set,x=n.ArrayBuffer,k=x,T=n.DataView,C=T&&T.prototype,I=Object.prototype,L=n.RangeError,R=p.pack,D=p.unpack,O=function(e){return[255&e]},A=function(e){return[255&e,e>>8&255]},Q=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},M=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},P=function(e){return R(e,23,4)},B=function(e){return R(e,52,8)},q=function(e,t){y(e.prototype,t,{get:function(){return S(this)[t]}})},N=function(e,t,a,n){var i=f(a),r=S(e);if(i+t>r.byteLength)throw L("Wrong index");var o=S(r.buffer).bytes,s=i+r.byteOffset,l=o.slice(s,s+t);return n?l:l.reverse()},U=function(e,t,a,n,i,r){var o=f(a),s=S(e);if(o+t>s.byteLength)throw L("Wrong index");for(var l=S(s.buffer).bytes,u=o+s.byteOffset,c=n(+i),d=0;d<t;d++)l[u+d]=c[r?d:t-d-1]};if(r){if(!l((function(){x(1)}))||!l((function(){new x(-1)}))||l((function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name}))){for(var V,_=(k=function(e){return u(this,k),new x(f(e))}).prototype=x.prototype,j=g(x),F=0;j.length>F;)(V=j[F++])in k||o(k,V,x[V]);_.constructor=k}m&&h(C)!==I&&m(C,I);var z=new T(new k(2)),K=C.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(C,{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else k=function(e){u(this,k,"ArrayBuffer");var t=f(e);w(this,{bytes:v.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},T=function(e,t,a){u(this,T,"DataView"),u(e,k,"DataView");var n=S(e).byteLength,r=c(t);if(r<0||r>n)throw L("Wrong offset");if(r+(a=void 0===a?n-r:d(a))>n)throw L("Wrong length");w(this,{buffer:e,byteLength:a,byteOffset:r}),i||(this.buffer=e,this.byteLength=a,this.byteOffset=r)},i&&(q(k,"byteLength"),q(T,"buffer"),q(T,"byteLength"),q(T,"byteOffset")),s(T.prototype,{getInt8:function(e){return N(this,1,e)[0]<<24>>24},getUint8:function(e){return N(this,1,e)[0]},getInt16:function(e){var t=N(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=N(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return M(N(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return M(N(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return D(N(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return D(N(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){U(this,1,e,O,t)},setUint8:function(e,t){U(this,1,e,O,t)},setInt16:function(e,t){U(this,2,e,A,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){U(this,2,e,A,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){U(this,4,e,Q,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){U(this,4,e,Q,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){U(this,4,e,P,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){U(this,8,e,B,t,arguments.length>2?arguments[2]:void 0)}});E(k,"ArrayBuffer"),E(T,"DataView"),e.exports={ArrayBuffer:k,DataView:T}},613:function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},614:function(e,t,a){var n=a(64),i=a(27);e.exports=function(e){if(void 0===e)return 0;var t=n(e),a=i(t);if(t!==a)throw RangeError("Wrong length or index");return a}},615:function(e,t,a){var n=a(677);e.exports=function(e,t){var a=n(e);if(a%t)throw RangeError("Wrong offset");return a}},616:function(e,t,a){"use strict";a.r(t);a(26),a(652)},617:function(e,t,a){e.exports=a(11)(824)},618:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.exportUsers=t.importUsers=t.getAuditorList=t.getUserList=t.getGroupList=t.getOrgList=void 0;var r=i(a(76)),o=i(a(635)),s=n(a(235)),l=o.default.linkUser,u=l.orgList,c=l.userList,d=l.auditorList,f=l.importUserUrl,p=l.exportUserUrl;t.getOrgList=function(e,t){return function(a){return(0,r.default)({url:u,data:{type:e}}).then((function(e){a({type:s.ORGLIST,data:e.data}),t&&t(e.data)}))}};t.getGroupList=function(e,t,a){return function(t){return(0,r.default)({url:c,data:{type:e,typ:"system"}}).then((function(e){a&&a(e.data)}))}};t.getUserList=function(e,t,a){return function(n){return(0,r.default)({url:c,data:{seachVal:e,type:t}}).then((function(e){1e3==e.code&&a&&a(e.data)}))}};t.getAuditorList=function(e,t){return function(a){return(0,r.default)({url:d,data:e}).then((function(e){t&&t(e.data)}))}};t.importUsers=function(e,t,a){return function(n){return(0,r.default)({url:"".concat(f,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}};t.exportUsers=function(e,t,a){return function(n){return(0,r.default)({url:"".concat(p,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}}},619:function(e,t,a){e.exports=a(11)(415)},620:function(e,t,a){"use strict";var n=a(19),i=a(16),r=a(85),o=a(36),s=a(21),l=a(45),u=a(153),c=a(81),d=a(14),f=a(66),p=a(78).f,h=a(49).f,m=a(22).f,g=a(236).trim,y=i.Number,v=y.prototype,E="Number"==l(f(v)),b=function(e){var t,a,n,i,r,o,s,l,u=c(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=g(u)).charCodeAt(0))||45===t){if(88===(a=u.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+u}for(o=(r=u.slice(2)).length,s=0;s<o;s++)if((l=r.charCodeAt(s))<48||l>i)return NaN;return parseInt(r,n)}return+u};if(r("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,w=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof w&&(E?d((function(){v.valueOf.call(a)})):"Number"!=l(a))?u(new y(b(t)),a,w):b(t)},x=n?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;x.length>k;k++)s(y,S=x[k])&&!s(w,S)&&m(w,S,h(y,S));w.prototype=v,v.constructor=w,o(i,"Number",w)}},622:function(e,t,a){e.exports=a(11)(854)},624:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(3),a(5),a(51),a(20),a(34),a(35),a(23),a(229),a(6),a(569);var r=i(a(558));a(549);var o=i(a(544));a(146);var s=i(a(150));a(574);var l=i(a(565));a(578);var u=i(a(570));a(634);var c=i(a(596));a(99);var d=i(a(100));a(61);var f=i(a(62)),p=i(a(29)),h=i(a(30)),m=i(a(59)),g=i(a(32)),y=i(a(33)),v=i(a(31)),E=i(a(2));a(575);var b=i(a(568));a(537);var S=i(a(536)),w=n(a(1)),x=a(52),k=i(a(649)),T=i(a(141)),C=a(618);function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var L=S.default.Search;var R=b.default.TabPane,D=function(e){(0,g.default)(n,e);var t,a=(t=n,function(){var e,a=(0,v.default)(t);if(I()){var n=(0,v.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,y.default)(this,e)});function n(){var e;(0,p.default)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=a.call.apply(a,[this].concat(i)),(0,E.default)((0,m.default)(e),"search",(function(t,a){var n=e.state.tabKey,i=e.props,r=i.getGroupList,o=i.getUserList,s=i.getAuditorList,l=t.target?t.target.value:t;if(e.setState({value:l}),l){var u=(0,m.default)(e);switch(n){case"3":e.setState({groupLoading:!0}),r(l,(function(e){u.setState({searchGroup:e,groupLoading:!1})}));break;case"2":e.setState({userLoading:!0}),"on"==e.props.onlyUser?s({name:l,pageNo:1,pageSize:10},(function(e){console.log(e,"3444"),u.setState({searchUser:e.records,userLoading:!1,searchData:e})})):o(l,a,(function(e){u.setState({searchUser:e,userLoading:!1})}))}}else f.default.info("请输入关键词")})),(0,E.default)((0,m.default)(e),"closeMode",(function(){e.setState({vsb:!1})})),e.state={selectedItems:[],invisible:!0,departmentFlag:!0,show:!0,orgData:"",searchGroup:[],searchUser:[],tabKey:"2",orgLoading:!1,groupLoading:!1,userLoading:!1,userKeyword:"",groupKeyword:"",value:"",searchData:{records:[],pageRecords:""}},e.tabChange=e.tabChange.bind((0,m.default)(e)),e.removeSelected=e.removeSelected.bind((0,m.default)(e)),e.getSelected=e.getSelected.bind((0,m.default)(e)),e.isExist=e.isExist.bind((0,m.default)(e)),e.search=e.search.bind((0,m.default)(e)),e.onSearchChange=e.onSearchChange.bind((0,m.default)(e)),e}return(0,h.default)(n,[{key:"componentWillMount",value:function(){var e=this,t=this.props.groupTypes;this.props.getOrgList(t,(function(){e.setState({orgData:e.props.orgList})}))}},{key:"componentDidMount",value:function(){console.log("检测打印变量=this.props.initData ",this.props.initData),"research"===this.props.groupTypes&&this.props.initData&&this.props.initData.forEach((function(e){e.relationId&&(e.id=e.relationId)})),this.setState({selectedItems:this.props.initData?this.props.initData:[],invisible:void 0===this.props.invisible,departmentFlag:void 0===this.props.departmentFlag})}},{key:"onSearchChange",value:function(e,t){var a=e.target.value;a.length>50?f.default.info("输入长度不可超过50"):("user"==t?this.setState({userKeyword:a}):this.setState({groupKeyword:a}),"1"==this.state.tabKey&&(a.length>0?this.setState({show:!1}):this.setState({show:!0})))}},{key:"getSelected",value:function(e){var t=this;if(this.isExist(e.id)){var a=this;T.default.confirm(e.name+"已存在，是否删除？",(function(){a.removeSelected(e.id)}))}else{var n={name:e.name,type:this.state.tabKey,id:e.id,fullName:e.fullName,workNum:e.workNum},i=this.state.selectedItems;i.push(n),this.setState({selectedItems:i},(function(){t.props.getData(i),f.default.success("选择成功")}))}}},{key:"listSelect",value:function(e){var t=this;if(console.log("检测打印变量=item ",e),this.isExist(e.id)){var a=this;T.default.confirm(e.name+"已存在，是否删除？",(function(){a.removeSelected(e.id)}))}else{console.log("检测打印变量=this.state.tabKey ",this.state.tabKey);var n={name:e.name,type:this.state.tabKey,id:e.id,fullName:e.fullName,workNum:e.workNum},i=this.state.selectedItems;i.push(n),this.setState({selectedItems:i},(function(){t.props.getData(i),f.default.success("选择成功")}))}}},{key:"tabChange",value:function(e){console.log("key",e),this.setState({tabKey:e})}},{key:"isExist",value:function(e){return this.state.selectedItems.filter((function(t){return t.id==e})).length>0}},{key:"removeSelected",value:function(e){if(!this.props.disabled){var t=this.state.selectedItems.filter((function(t){return t.id!=e}));this.setState({selectedItems:t}),this.props.getData(t)}}},{key:"render",value:function(){var e=this,t=[{title:w.default.createElement("p",{style:{minWidth:"60px",marginTop:"0",marginBottom:"0"}},"用户名"),dataIndex:"name",key:"name",render:function(t,a){return w.default.createElement("a",{onClick:function(){return e.listSelect(a)},style:{whiteSpace:"nowrap"}},w.default.createElement(d.default,{type:"contacts"})," ",t)}},{title:w.default.createElement("p",{style:{minWidth:"50px",marginTop:"0",marginBottom:"0"}},"姓名"),dataIndex:"fullName",key:"fullName"},{title:w.default.createElement("p",{style:{minWidth:"50px",marginTop:"0",marginBottom:"0"}},"工号"),dataIndex:"workNum",key:"workNum"}],a=this.props.types;return"look"==this.props.type?w.default.createElement("div",null,w.default.createElement(l.default,null,w.default.createElement(u.default,{span:24,style:{paddingLeft:15,paddingRight:15}},w.default.createElement("h3",null,"已选择的部门、成员",this.state.departmentFlag?"或用户组":""),w.default.createElement("div",{style:{maxHeight:650,overflowY:"scroll"}},w.default.createElement(c.default,{itemLayout:"horizontal",split:!1,dataSource:this.state.selectedItems,renderItem:function(e){return w.default.createElement(c.default.Item,null,w.default.createElement(c.default.Item.Meta,{title:w.default.createElement("a",null,w.default.createElement(d.default,{type:"contacts"}),e.name)}))}}))))):w.default.createElement("div",null,w.default.createElement(l.default,null,w.default.createElement(u.default,{span:12,style:{paddingLeft:15,paddingRight:15}},w.default.createElement(b.default,{defaultActiveKey:this.state.tabKey,onChange:this.tabChange},w.default.createElement(R,{tab:"用户",key:"2"},w.default.createElement(L,{placeholder:"用户名/姓名/工号",style:{marginBottom:"15px"},max:50,onSearch:function(t){return e.search(t,a)},onPressEnter:function(t){return e.search(t,a)},value:this.state.userKeyword,onChange:function(t){return e.onSearchChange(t,"user")}}),w.default.createElement("div",{style:{height:500,overflowY:"auto"}},w.default.createElement(s.default,{spinning:this.state.userLoading}),w.default.createElement(o.default,{columns:t,dataSource:this.state.searchUser,rowKey:function(e){return e.id},pagination:!1}),"on"==this.props.onlyUser?w.default.createElement(r.default,{style:{textAlign:"right",marginRight:"15px",marginTop:"15px"},onChange:function(t){var a={name:e.state.value,pageNo:t,pageSize:10};e.props.getAuditorList(a,(function(t){console.log(t,"3444"),e.setState({searchUser:t.records,searchData:t,userLoading:!1})}))},showTotal:function(e){return"共计 ".concat(e," 条")},total:this.state.searchData.pageRecords}):"")),this.state.departmentFlag?w.default.createElement(R,{tab:"部门",key:"1",disabled:"on"==this.props.onlyUser},w.default.createElement(k.default,{data:this.state.orgData,getSelect:this.getSelected})):null,this.state.invisible?w.default.createElement(R,{tab:"用户组",key:"3",disabled:"on"==this.props.onlyUser},w.default.createElement(L,{placeholder:"搜索",max:50,onPressEnter:this.search,value:this.state.groupKeyword,onChange:function(t){return e.onSearchChange(t,"group")}}),w.default.createElement("div",{style:{height:500,overflowY:"auto"}},w.default.createElement(s.default,{spinning:this.state.groupLoading}),w.default.createElement(c.default,{itemLayout:"horizontal",split:!1,"data-locale":{emptyText:""},dataSource:this.state.searchGroup,renderItem:function(t){return w.default.createElement(c.default.Item,null,w.default.createElement(c.default.Item.Meta,{title:w.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.listSelect(t)}},w.default.createElement(d.default,{type:"contacts"}),t.name)}))}}))):null)),w.default.createElement(u.default,{span:12,style:{paddingLeft:15,paddingRight:15}},this.props.tabTitle?w.default.createElement("div",null,this.props.tabTitle):w.default.createElement("h3",null,"已选择的部门、成员",this.state.invisible?"或用户组":""),w.default.createElement("div",{style:{maxHeight:650,overflowY:"scroll"}},w.default.createElement(c.default,{itemLayout:"horizontal",split:!1,"data-locale":{emptyText:""},dataSource:this.state.selectedItems,renderItem:function(t){return w.default.createElement(c.default.Item,{actions:[w.default.createElement("a",{onClick:function(){return e.removeSelected(t.id)}},w.default.createElement(d.default,{type:"close"}))]},w.default.createElement(c.default.Item.Meta,{title:1==t.type?w.default.createElement("a",null,w.default.createElement(d.default,{type:"team"})," ",t.name):w.default.createElement("a",null,w.default.createElement("div",null,console.log(t,"item")),w.default.createElement(d.default,{type:"contacts"})," ",t.name," ",t.fullName," ",t.workNum)}))}})))))}}]),n}(w.Component);e.exports=(0,x.connect)((function(e,t){var a=e.linkUserReducer;return{fetching:a.fetching,orgList:a.orgList}}),(function(e){return{getOrgList:function(t,a){return e((0,C.getOrgList)(t,a))},getGroupList:function(t,a){return e((0,C.getGroupList)(t,a))},getUserList:function(t,a,n){return e((0,C.getUserList)(t,a,n))},getAuditorList:function(t,a){return e((0,C.getAuditorList)(t,a))}}}))(D)},625:function(e,t,a){},626:function(e,t,a){},628:function(e,t,a){"use strict";a(156),a(35),a(23),a(228),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,i){var r=[];new RegExp(/^\s+/,"i");t||(t="");""===t.trim()&&t.length>0&&r.push(new Error(n,e.field));0==t.length&&e.required&&r.push(new Error(n,e.field));t.length>i&&r.push(new Error("最多支持输入"+i+"个字符以内",e.field));a(r)}},633:function(e,t,a){"use strict";var n=a(12),i=a(64),r=a(650),o=a(651),s=a(14),l=1..toFixed,u=Math.floor,c=function(e,t,a){return 0===t?a:t%2==1?c(e,t-1,a*e):c(e*e,t/2,a)};n({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}))},{toFixed:function(e){var t,a,n,s,l=r(this),d=i(e),f=[0,0,0,0,0,0],p="",h="0",m=function(e,t){for(var a=-1,n=t;++a<6;)n+=e*f[a],f[a]=n%1e7,n=u(n/1e7)},g=function(e){for(var t=6,a=0;--t>=0;)a+=f[t],f[t]=u(a/e),a=a%e*1e7},y=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==f[e]){var a=String(f[e]);t=""===t?a:t+o.call("0",7-a.length)+a}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(a=(t=function(e){for(var t=0,a=e;a>=4096;)t+=12,a/=4096;for(;a>=2;)t+=1,a/=2;return t}(l*c(2,69,1))-69)<0?l*c(2,-t,1):l/c(2,t,1),a*=4503599627370496,(t=52-t)>0){for(m(0,a),n=d;n>=7;)m(1e7,0),n-=7;for(m(c(10,n,1),0),n=t-1;n>=23;)g(1<<23),n-=23;g(1<<n),m(1,1),g(2),h=y()}else m(0,a),m(1<<-t,0),h=y()+o.call("0",d);return h=d>0?p+((s=h.length)<=d?"0."+o.call("0",d-s)+h:h.slice(0,s-d)+"."+h.slice(s-d)):p+h}})},635:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63)),r={linkUser:{orgList:"GET ".concat(i.default.systemManage,"/org/userGroup/list"),userList:"GET ".concat(i.default.systemManage,"/account/name/search"),auditorList:"GET ".concat(i.default.webManage,"/assignment/get/all/auditor"),importUserUrl:"POST ".concat(i.default.webManage,"/range/import"),exportUserUrl:"GET ".concat(i.default.webManage,"/range/export")}};t.default=r},643:function(e,t,a){e.exports=a(11)(110)},647:function(e,t,a){var n=a(14),i=a(15),r=a(56),o=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,a="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),a+=n+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},649:function(e,t,a){"use strict";var n=a(4),i=a(0);a(101),a(43),a(51),a(20),a(34),a(35),a(23),a(53),a(61);var r=i(a(62)),o=i(a(29)),s=i(a(30)),l=i(a(59)),u=i(a(32)),c=i(a(33)),d=i(a(31)),f=i(a(2));a(537);var p=i(a(536));a(719);var h=i(a(622)),m=n(a(1));function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=h.default.TreeNode,v=p.default.Search,E=function(e){(0,u.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(g()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),t=a.call(this,e),(0,f.default)((0,l.default)(t),"onExpand",(function(e){t.setState({expandedKeys:e,autoExpandParent:!1})})),(0,f.default)((0,l.default)(t),"onChange",(function(e){var a=e.target.value;if(a.length>50)r.default.info("关键词长度最大为50");else{var n=(0,l.default)(t);a?t.setState({searchValue:a,expandedKeys:[]},(function(){for(var e=0;e<t.props.data.trees.length;e++)n.getExpandedKeys(t.props.data.trees[e].children,a,""+e)})):(t.setState({searchValue:a}),t.setDefaultExpandKeys())}})),t.state={expandedKeys:[],searchValue:"",autoExpandParent:!0},t.loop=t.loop.bind((0,l.default)(t)),t.onSelect=t.onSelect.bind((0,l.default)(t)),t.getExpandedKeys=t.getExpandedKeys.bind((0,l.default)(t)),t.renderTree=t.renderTree.bind((0,l.default)(t)),t.setDefaultExpandKeys=t.setDefaultExpandKeys.bind((0,l.default)(t)),t}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.setDefaultExpandKeys()}},{key:"setDefaultExpandKeys",value:function(){var e=this.props.data.trees.map((function(e,t){return""+t}));this.setState({expandedKeys:e})}},{key:"onSelect",value:function(e,t){this.props.getSelect(t.node.props.dataRef)}},{key:"getExpandedKeys",value:function(e,t,a){var n=this,i=this.state.expandedKeys;e.map((function(e){if(e.name.indexOf(t)>=0){for(var r=a.split("&&&"),o=0;o<r.length;o++)-1==i.indexOf(r[o])&&r[o]&&i.push(r[o]);i.push(e.id)}if(e.children.length>0){var s="";s+=a?a+"&&&"+e.id:e.id,n.getExpandedKeys(e.children,t,s)}})),this.setState({expandedKeys:i})}},{key:"loop",value:function(e){var t=this,a=this.state.searchValue,n=[];return e.length>0&&(n=e.map((function(e){var n=e.name.indexOf(a),i=e.name.substr(0,n),r=e.name.substr(n+a.length),o=n>-1?m.default.createElement("span",null,i,m.default.createElement("span",{style:{color:"#f50"}},a),r):m.default.createElement("span",null,e.name);return m.default.createElement(y,{key:e.id,title:o,dataRef:e},t.loop(e.children))}))),n}},{key:"renderTree",value:function(e){var t=this,a=[],n=this.state.expandedKeys;return e&&(a=e.trees.map((function(e,a){return m.default.createElement(h.default,{onSelect:t.onSelect,onExpand:t.onExpand,expandedKeys:n,autoExpandParent:!1,key:a},m.default.createElement(y,{key:a,title:e.name,dataRef:e},t.loop(e.children)))}))),a}},{key:"render",value:function(){return m.default.createElement("div",null,m.default.createElement(v,{placeholder:"部门名称",max:50,style:{marginBottom:8},value:this.state.searchValue,onChange:this.onChange}),m.default.createElement("div",{style:{height:500,overflowY:"auto"}},this.renderTree(this.props.data)))}}]),n}(m.Component);e.exports=E},650:function(e,t,a){var n=a(45);e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},651:function(e,t,a){"use strict";var n=a(64),i=a(28);e.exports="".repeat||function(e){var t=String(i(this)),a="",r=n(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(a+=t);return a}},652:function(e,t,a){},653:function(e,t,a){"use strict";var n=a(4),i=a(0);a(101),a(103),a(43),a(672),a(51),a(633),a(20),a(34),a(35),a(23),a(148),a(80),a(53),a(674),a(679),a(681),a(682),a(683),a(684),a(685),a(686),a(687),a(688),a(689),a(690),a(691),a(692),a(693),a(694),a(695),a(696),a(697),a(698),a(699),a(700),a(701),a(702),a(151),a(710),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var r=i(a(225));a(590);var o=i(a(591));a(556);var s=i(a(553));a(140);var l=i(a(535));a(574);var u=i(a(565));a(580);var c=i(a(571));a(99);var d=i(a(100));a(61);var f=i(a(62)),p=i(a(29)),h=i(a(30)),m=i(a(59)),g=i(a(32)),y=i(a(33)),v=i(a(31)),E=i(a(2)),b=n(a(1)),S=i(a(703));a(705);var w=a(52),x=a(561),k=i(a(157));function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){(0,g.default)(n,e);var t,a=(t=n,function(){var e,a=(0,v.default)(t);if(T()){var n=(0,v.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,y.default)(this,e)});function n(e){var t;return(0,p.default)(this,n),t=a.call(this,e),(0,E.default)((0,m.default)(t),"beforeUpload",(function(e){if(e.size>2097152)return f.default.error("该图片超过2M，不支持上传"),!1;if(t.props.disabled)return!1;var a=e.type.split("/")[1];if(-1===["jpg","jpeg","png"].indexOf(a))return f.default.error("该图片文件格式不支持（支持jpg、jpeg、png）"),!1;var n=window.URL?window.URL.createObjectURL(e):window.webkitURL.createObjectURL(e);return t.setState({srcCropper:n,selectImgName:e.name,selectImgSize:e.size/1024/1024,selectImgSuffix:e.type.split("/")[1],editImageModalVisible:!0,uid:e.uid}),!1})),(0,E.default)((0,m.default)(t),"saveImg",(function(){var e=t.props.param;null!==e&&t.setState({uploadParams:{Filename:e.dir+"/"+t.state.uid+"."+t.state.selectImgName.split(".")[1],key:e.dir+"/"+t.state.uid+"."+t.state.selectImgName.split(".")[1],policy:e.policy,OSSAccessKeyId:e.accessid,success_action_status:"200",signature:e.signature},uploadAction:e.host,hostAndDir:e.host+"/"+e.dir},(function(){var e=new FormData;for(var a in t.state.uploadParams)e.append(a,t.state.uploadParams[a]);var n=function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],i=atob(a[1]),r=i.length,o=new Uint8Array(r);r--;)o[r]=i.charCodeAt(r);return new File([o],t,{type:n})}(t.state.imgbase,"2019009999999999");e.append("file",n),k.default.create({withCredentials:!1}).post(t.state.uploadAction,e).then((function(e){console.log("ok",e),200===e.status&&t.setState({imgDoneSrc:t.state.uploadAction+"/"+t.state.uploadParams.Filename,editImageModalVisible:!1},(function(){t.props.getImgUrl(t.state.imgDoneSrc)}))})).catch((function(e){console.log("err",e.message)}))}))})),(0,E.default)((0,m.default)(t),"crop",(function(e){t.setState({tempW:e.detail.width,tempH:e.detail.height,imgbase:t.cropperRef.getCroppedCanvas().toDataURL()})})),console.log(e,"9000"),t.state={srcCropper:"",previewImage:"",selectImgSize:"0",selectImgName:"",selectImgSuffix:"",submitting:!1,disabledUpload:!0,previewVisible:!1,uploadedImageFile:"",selectedImageFile:"",editImageModalVisible:!1,uploadAction:"",uploadParams:{},UploadState:!1,key:0,imgbase:e.details?e.details:"",disabled:!!t.props.disabled&&t.props.disabled,tempW:0,tempH:0,preRatio:t.props.preRatio?t.props.preRatio:"16/9",myRatio:t.props.preRatio.length?t.props.preRatio[0]:t.props.preRatio},t.props.gupfetch(),t.cancelUploadImage=t.cancelUploadImage.bind((0,m.default)(t)),t.cropperRef=(0,b.createRef)(),t}return(0,h.default)(n,[{key:"componentWillReceiveProps",value:function(e){this.state.imgbase||(e.details&&this.setState({imgbase:e.details}),this.props.details&&this.setState({imgbase:this.props.details}))}},{key:"componentWillUnmount",value:function(){this.setState({imgbase:""})}},{key:"cancelUploadImage",value:function(){this.setState({editImageModalVisible:!1,imgbase:this.props.details})}},{key:"render",value:function(){var e=this,t=this.state,a=t.imgbase,n=t.editImageModalVisible,i=t.srcCropper,f=b.default.createElement("div",null,b.default.createElement(d.default,{type:"plus"}),b.default.createElement("div",{className:"ant-upload-text"},"上传"));return b.default.createElement("div",{className:"common-upload-wrapper"},b.default.createElement(u.default,null,b.default.createElement(c.default,{accept:"image/*",headers:{"X-Requested-With":null},beforeUpload:this.beforeUpload,showUploadList:!1,listType:"picture-card"},a||this.props.details?b.default.createElement("img",{className:"common-upload-img-display",src:a||this.props.details,alt:"avatar",style:{width:"100%"}}):f),b.default.createElement("div",{style:{lineHeight:"20px"}},this.props.extra)),b.default.createElement(r.default,{key:this.state.myRatio,onCancel:function(){e.setState({editImageModalVisible:!1})},visible:n,loading:this.props.loading,destroyOnClose:!0,maskClosable:!1,footer:[b.default.createElement(l.default,{type:"primary",onClick:this.saveImg,loading:this.props.loading},"保存"),b.default.createElement(l.default,{onClick:this.cancelUploadImage,loading:this.props.loading},"取消")],style:{width:800}}," ","图片比例：",b.default.createElement(s.default.Group,{onChange:function(t){e.setState({myRatio:t.target.value})},value:this.state.myRatio},this.state.preRatio.length?this.state.preRatio.map((function(e,t){return b.default.createElement(s.default,{value:e,key:t},e.split("/")[0],":",e.split("/")[1])})):b.default.createElement(s.default,{value:this.state.myRatio,key:this.state.myRatio},this.state.myRatio.split("/")[0],":",this.state.myRatio.split("/")[1])),b.default.createElement("div",{style:{width:"100%",margin:"10px auto"}},"宽：",this.state.tempW.toFixed(2)," 高：",this.state.tempH.toFixed(2)),b.default.createElement(S.default,{src:i,ref:function(t){return e.cropperRef=t},key:this.state.myRatio,style:{height:400,width:"100%"},aspectRatio:parseInt(this.state.myRatio.split("/")[0])/parseInt(this.state.myRatio.split("/")[1]),preview:".cropper-preview",className:"company-logo-cropper",viewMode:1,background:!1,rotatable:!1,crop:function(t){return e.crop(t)}}),b.default.createElement(o.default,null,"图片预览"),b.default.createElement("img",{src:a||"",alt:"",style:{height:"100%",width:"100%"}})))}}]),n}(b.Component),I=(0,w.connect)((function(e){return{param:e.uploadParam.param}}),(function(e){return{gupfetch:function(){return e((0,x.gupfetch)())}}}))(C);t.default=I},663:function(e,t,a){"use strict";var n=a(4),i=a(0);a(101),a(51),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(98));a(580);var o=i(a(571));a(140);var s=i(a(535));a(99);var l=i(a(100));a(61);var u=i(a(62)),c=i(a(29)),d=i(a(30)),f=i(a(59)),p=i(a(32)),h=i(a(33)),m=i(a(31)),g=i(a(2));a(540);var y=i(a(539)),v=n(a(1)),E=a(52),b=a(561),S=i(a(671));function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var x=y.default.Item,k=function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,m.default)(t);if(w()){var n=(0,m.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,h.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,g.default)((0,f.default)(t),"testCourseBeforeUpload",(function(e,a){var n=(new Date).getTime();if(e.size>3145728)return u.default.error("上传图片过大（不能大于3M）"),!1;if(-1===e.type.indexOf("image"))return u.default.info("请上传图片文件"),t.props.defaultUrl?t.props.gupList(t.props.defaultUrl):t.props.gupList([]),!1;var i=e.type.split("/")[1];if(-1===["jpg","jpeg","png"].indexOf(i))return t.setState({fileList:[]}),u.default.error("该图片文件格式不支持（支持jpg、jpeg、png）"),t.props.defaultUrl?t.props.gupList(t.props.defaultUrl):t.props.gupList([]),!1;var r=t.props.param,o=e.name.split(".").length;t.setState({uploadParams:{Filename:r.dir+"/"+n+"."+e.name.split(".")[o-1],key:r.dir+"/"+n+"."+e.name.split(".")[o-1],policy:r.policy,OSSAccessKeyId:r.accessid,success_action_status:"200",signature:r.signature},uploadAction:r.host})})),(0,g.default)((0,f.default)(t),"onRemove",(function(){t.props.resetImgList&&t.props.resetImgList(),t.props.clearUpload()})),(0,g.default)((0,f.default)(t),"onPreview",(function(e){var a=t.state.cacheUrl,n=a||e.url;window.open(n)})),t.state={uploadParams:{},uploadAction:"",cacheUrl:""},console.log(t.props.defaultUrl),t.props.defaultUrl&&t.props.gupList(t.props.defaultUrl),t.props.gupfetch(),t.beforeUpload=t.beforeUpload.bind((0,f.default)(t)),t.handleUploadChange=t.handleUploadChange.bind((0,f.default)(t)),t}return(0,d.default)(n,[{key:"beforeUpload",value:function(e,t){var a=(new Date).getTime();if(e.size>1048576)return u.default.error("上传文件过大（不能大于1M）"),!1;if(-1===e.type.indexOf("image"))return u.default.info("请上传图片文件"),this.props.defaultUrl?this.props.gupList(this.props.defaultUrl):this.props.gupList([]),!1;if("banner"==this.props.bannerType){if(e.size>=1048576)return u.default.error("上传文件过大（不能大于1M）"),this.props.defaultUrl?this.props.gupList(this.props.defaultUrl):this.props.gupList([]),!1}else{if(e.size>=512e3)return u.default.error("上传文件过大（不能大于500KB）"),!1;this.props.defaultUrl?this.props.gupList(this.props.defaultUrl):this.props.gupList([])}var n=e.type.split("/")[1];if(-1===["jpg","jpeg","png"].indexOf(n))return this.setState({fileList:[]}),u.default.error("该图片文件格式不支持（支持jpg、jpeg、png）"),this.props.defaultUrl?this.props.gupList(this.props.defaultUrl):this.props.gupList([]),!1;var i=this.props.param,r=e.name.split(".").length;this.setState({uploadParams:{Filename:i.dir+"/"+a+"."+e.name.split(".")[r-1],key:i.dir+"/"+a+"."+e.name.split(".")[r-1],policy:i.policy,OSSAccessKeyId:i.accessid,success_action_status:"200",signature:i.signature},uploadAction:i.host,cacheUrl:i.host+"/"+i.dir+"/"+a+"."+e.name.split(".")[r-1]})}},{key:"handleUploadChange",value:function(e){var t=e.file,a=e.fileList,n=this.props.param,i=this.state.uploadParams.Filename;t.name.split(".").length;if("uploading"===t.status){var r=[];r.push(a.pop()),this.props.gupList(r)}if("done"===t.status){var o=[];o.push(a.pop()),this.props.gupList(o),this.props.getUrl&&this.props.getUrl(n.host+"/"+i)}}},{key:"componentWillUnmount",value:function(){this.props=null}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.uploadParams,i=a.uploadAction,u=this.props,c=u.required,d=u.fileList,f=(u.listType,this.props.layout?this.props.layout:{labelCol:{span:6},wrapperCol:{span:14}}),p="";p=0===d.length?"newState":"editState";return v.default.createElement(y.default,null,v.default.createElement(x,(0,r.default)({},f,{extra:this.props.extra,label:this.props.name?this.props.name:"播放展示图："})," ",t("logourl",{rules:[{required:!!c,message:"请上传缩略图"}]})(v.default.createElement("div",{className:S.default.credEditLogo,"data-status":p},v.default.createElement(o.default,{headers:{"X-Requested-With":null},accept:"image",listType:"picture-card",fileList:d,action:i,data:n,beforeUpload:this.props.testCourse?this.testCourseBeforeUpload:this.beforeUpload,onChange:this.handleUploadChange,onRemove:this.onRemove,onPreview:this.onPreview},this.props.disabled?null:0===d.length?v.default.createElement("div",null,v.default.createElement(l.default,{type:"plus"}),v.default.createElement("div",{className:"ant-upload-text"},"上传图片")):v.default.createElement("div",{className:"upload-btn"},v.default.createElement(s.default,{disabled:!!e.props.usable&&e.props.usable},"更换图片")))))))}}]),n}(v.Component);var T=y.default.create()((0,E.connect)((function(e,t){return{param:e.uploadParam.param,fileList:e.uploadParam.fileList}}),(function(e){return{gupfetch:function(){return e((0,b.gupfetch)())},gupList:function(t){return e((0,b.gupList)(t))},clearUpload:function(){return e((0,b.clearUpload)())}}}))(k));t.default=T},664:function(e,t,a){"use strict";var n=a(38),i=a(64),r=a(27),o=a(109),s=a(42),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),p=c||!d||!f;e.exports=p?function(e){if(c)return u.apply(this,arguments)||0;var t=n(this),a=r(t.length),o=a-1;for(arguments.length>1&&(o=l(o,i(arguments[1]))),o<0&&(o=a+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:u},671:function(e,t,a){e.exports={credEditLogo:"credEditLogo__1fhCq","ant-upload-list-item-info":"ant-upload-list-item-info__1Pp8a","ant-upload-select-picture-card":"ant-upload-select-picture-card__2cZDS","ant-upload-list-item-actions":"ant-upload-list-item-actions__2odMN","anticon-delete":"anticon-delete__1uwBf","anticon-eye-o":"anticon-eye-o__2631W"}},672:function(e,t,a){"use strict";var n=a(12),i=a(14),r=a(612),o=a(18),s=a(104),l=a(27),u=a(142),c=r.ArrayBuffer,d=r.DataView,f=c.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(o(this),e);for(var a=o(this).byteLength,n=s(e,a),i=s(void 0===t?a:t,a),r=new(u(this,c))(l(i-n)),p=new d(this),h=new d(r),m=0;n<i;)h.setUint8(m++,p.getUint8(n++));return r}})},673:function(e,t){var a=Math.abs,n=Math.pow,i=Math.floor,r=Math.log,o=Math.LN2;e.exports={pack:function(e,t,s){var l,u,c,d=new Array(s),f=8*s-t-1,p=(1<<f)-1,h=p>>1,m=23===t?n(2,-24)-n(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=a(e))!=e||e===1/0?(u=e!=e?1:0,l=p):(l=i(r(e)/o),e*(c=n(2,-l))<1&&(l--,c*=2),(e+=l+h>=1?m/c:m*n(2,1-h))*c>=2&&(l++,c/=2),l+h>=p?(u=0,l=p):l+h>=1?(u=(e*c-1)*n(2,t),l+=h):(u=e*n(2,h-1)*n(2,t),l=0));t>=8;d[y++]=255&u,u/=256,t-=8);for(l=l<<t|u,f+=t;f>0;d[y++]=255&l,l/=256,f-=8);return d[--y]|=128*g,d},unpack:function(e,t){var a,i=e.length,r=8*i-t-1,o=(1<<r)-1,s=o>>1,l=r-7,u=i-1,c=e[u--],d=127&c;for(c>>=7;l>0;d=256*d+e[u],u--,l-=8);for(a=d&(1<<-l)-1,d>>=-l,l+=t;l>0;a=256*a+e[u],u--,l-=8);if(0===d)d=1-s;else{if(d===o)return a?NaN:c?-1/0:1/0;a+=n(2,t),d-=s}return(c?-1:1)*a*n(2,d-t)}}},674:function(e,t,a){a(675)("Uint8",(function(e){return function(t,a,n){return e(this,t,a,n)}}))},675:function(e,t,a){"use strict";var n=a(12),i=a(16),r=a(19),o=a(676),s=a(534),l=a(612),u=a(105),c=a(68),d=a(37),f=a(27),p=a(614),h=a(615),m=a(81),g=a(21),y=a(147),v=a(17),E=a(66),b=a(145),S=a(78).f,w=a(678),x=a(54).forEach,k=a(112),T=a(22),C=a(49),I=a(48),L=a(153),R=I.get,D=I.set,O=T.f,A=C.f,Q=Math.round,M=i.RangeError,P=l.ArrayBuffer,B=l.DataView,q=s.NATIVE_ARRAY_BUFFER_VIEWS,N=s.TYPED_ARRAY_TAG,U=s.TypedArray,V=s.TypedArrayPrototype,_=s.aTypedArrayConstructor,j=s.isTypedArray,F=function(e,t){for(var a=0,n=t.length,i=new(_(e))(n);n>a;)i[a]=t[a++];return i},z=function(e,t){O(e,t,{get:function(){return R(this)[t]}})},K=function(e){var t;return e instanceof P||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},G=function(e,t){return j(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return G(e,t=m(t,!0))?c(2,e[t]):A(e,t)},H=function(e,t,a){return!(G(e,t=m(t,!0))&&v(a)&&g(a,"value"))||g(a,"get")||g(a,"set")||a.configurable||g(a,"writable")&&!a.writable||g(a,"enumerable")&&!a.enumerable?O(e,t,a):(e[t]=a.value,e)};r?(q||(C.f=Y,T.f=H,z(V,"buffer"),z(V,"byteOffset"),z(V,"byteLength"),z(V,"length")),n({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:Y,defineProperty:H}),e.exports=function(e,t,a){var r=e.match(/\d+$/)[0]/8,s=e+(a?"Clamped":"")+"Array",l="get"+e,c="set"+e,m=i[s],g=m,y=g&&g.prototype,T={},C=function(e,t){O(e,t,{get:function(){return function(e,t){var a=R(e);return a.view[l](t*r+a.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=R(e);a&&(n=(n=Q(n))<0?0:n>255?255:255&n),i.view[c](t*r+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};q?o&&(g=t((function(e,t,a,n){return u(e,g,s),L(v(t)?K(t)?void 0!==n?new m(t,h(a,r),n):void 0!==a?new m(t,h(a,r)):new m(t):j(t)?F(g,t):w.call(g,t):new m(p(t)),e,g)})),b&&b(g,U),x(S(m),(function(e){e in g||d(g,e,m[e])})),g.prototype=y):(g=t((function(e,t,a,n){u(e,g,s);var i,o,l,c=0,d=0;if(v(t)){if(!K(t))return j(t)?F(g,t):w.call(g,t);i=t,d=h(a,r);var m=t.byteLength;if(void 0===n){if(m%r)throw M("Wrong length");if((o=m-d)<0)throw M("Wrong length")}else if((o=f(n)*r)+d>m)throw M("Wrong length");l=o/r}else l=p(t),i=new P(o=l*r);for(D(e,{buffer:i,byteOffset:d,byteLength:o,length:l,view:new B(i)});c<l;)C(e,c++)})),b&&b(g,U),y=g.prototype=E(V)),y.constructor!==g&&d(y,"constructor",g),N&&d(y,N,s),T[s]=g,n({global:!0,forced:g!=m,sham:!q},T),"BYTES_PER_ELEMENT"in g||d(g,"BYTES_PER_ELEMENT",r),"BYTES_PER_ELEMENT"in y||d(y,"BYTES_PER_ELEMENT",r),k(s)}):e.exports=function(){}},676:function(e,t,a){var n=a(16),i=a(14),r=a(111),o=a(534).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,l=n.Int8Array;e.exports=!o||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!r((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},677:function(e,t,a){var n=a(64);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},678:function(e,t,a){var n=a(40),i=a(27),r=a(149),o=a(158),s=a(69),l=a(534).aTypedArrayConstructor;e.exports=function(e){var t,a,u,c,d,f,p=n(e),h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,y=r(p);if(null!=y&&!o(y))for(f=(d=y.call(p)).next,p=[];!(c=f.call(d)).done;)p.push(c.value);for(g&&h>2&&(m=s(m,arguments[2],2)),a=i(p.length),u=new(l(this))(a),t=0;a>t;t++)u[t]=g?m(p[t],t):p[t];return u}},679:function(e,t,a){"use strict";var n=a(534),i=a(680),r=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(e,t){return i.call(r(this),e,t,arguments.length>2?arguments[2]:void 0)}))},680:function(e,t,a){"use strict";var n=a(40),i=a(104),r=a(27),o=Math.min;e.exports=[].copyWithin||function(e,t){var a=n(this),s=r(a.length),l=i(e,s),u=i(t,s),c=arguments.length>2?arguments[2]:void 0,d=o((void 0===c?s:i(c,s))-u,s-l),f=1;for(u<l&&l<u+d&&(f=-1,u+=d-1,l+=d-1);d-- >0;)u in a?a[l]=a[u]:delete a[l],l+=f,u+=f;return a}},681:function(e,t,a){"use strict";var n=a(534),i=a(54).every,r=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},682:function(e,t,a){"use strict";var n=a(534),i=a(605),r=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(e){return i.apply(r(this),arguments)}))},683:function(e,t,a){"use strict";var n=a(534),i=a(54).filter,r=a(142),o=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",(function(e){for(var t=i(o(this),e,arguments.length>1?arguments[1]:void 0),a=r(this,this.constructor),n=0,l=t.length,u=new(s(a))(l);l>n;)u[n]=t[n++];return u}))},684:function(e,t,a){"use strict";var n=a(534),i=a(54).find,r=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},685:function(e,t,a){"use strict";var n=a(534),i=a(54).findIndex,r=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},686:function(e,t,a){"use strict";var n=a(534),i=a(54).forEach,r=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},687:function(e,t,a){"use strict";var n=a(534),i=a(108).includes,r=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},688:function(e,t,a){"use strict";var n=a(534),i=a(108).indexOf,r=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},689:function(e,t,a){"use strict";var n=a(16),i=a(534),r=a(103),o=a(15)("iterator"),s=n.Uint8Array,l=r.values,u=r.keys,c=r.entries,d=i.aTypedArray,f=i.exportTypedArrayMethod,p=s&&s.prototype[o],h=!!p&&("values"==p.name||null==p.name),m=function(){return l.call(d(this))};f("entries",(function(){return c.call(d(this))})),f("keys",(function(){return u.call(d(this))})),f("values",m,!h),f(o,m,!h)},690:function(e,t,a){"use strict";var n=a(534),i=n.aTypedArray,r=n.exportTypedArrayMethod,o=[].join;r("join",(function(e){return o.apply(i(this),arguments)}))},691:function(e,t,a){"use strict";var n=a(534),i=a(664),r=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){return i.apply(r(this),arguments)}))},692:function(e,t,a){"use strict";var n=a(534),i=a(54).map,r=a(142),o=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(r(e,e.constructor)))(t)}))}))},693:function(e,t,a){"use strict";var n=a(534),i=a(611).left,r=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){return i(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},694:function(e,t,a){"use strict";var n=a(534),i=a(611).right,r=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){return i(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},695:function(e,t,a){"use strict";var n=a(534),i=n.aTypedArray,r=n.exportTypedArrayMethod,o=Math.floor;r("reverse",(function(){for(var e,t=i(this).length,a=o(t/2),n=0;n<a;)e=this[n],this[n++]=this[--t],this[t]=e;return this}))},696:function(e,t,a){"use strict";var n=a(534),i=a(27),r=a(615),o=a(40),s=a(14),l=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(e){l(this);var t=r(arguments.length>1?arguments[1]:void 0,1),a=this.length,n=o(e),s=i(n.length),u=0;if(s+t>a)throw RangeError("Wrong length");for(;u<s;)this[t+u]=n[u++]}),s((function(){new Int8Array(1).set({})})))},697:function(e,t,a){"use strict";var n=a(534),i=a(142),r=a(14),o=n.aTypedArray,s=n.aTypedArrayConstructor,l=n.exportTypedArrayMethod,u=[].slice;l("slice",(function(e,t){for(var a=u.call(o(this),e,t),n=i(this,this.constructor),r=0,l=a.length,c=new(s(n))(l);l>r;)c[r]=a[r++];return c}),r((function(){new Int8Array(1).slice()})))},698:function(e,t,a){"use strict";var n=a(534),i=a(54).some,r=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0)}))},699:function(e,t,a){"use strict";var n=a(534),i=n.aTypedArray,r=n.exportTypedArrayMethod,o=[].sort;r("sort",(function(e){return o.call(i(this),e)}))},700:function(e,t,a){"use strict";var n=a(534),i=a(27),r=a(104),o=a(142),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var a=s(this),n=a.length,l=r(e,n);return new(o(a,a.constructor))(a.buffer,a.byteOffset+l*a.BYTES_PER_ELEMENT,i((void 0===t?n:r(t,n))-l))}))},701:function(e,t,a){"use strict";var n=a(16),i=a(534),r=a(14),o=n.Int8Array,s=i.aTypedArray,l=i.exportTypedArrayMethod,u=[].toLocaleString,c=[].slice,d=!!o&&r((function(){u.call(new o(1))}));l("toLocaleString",(function(){return u.apply(d?c.call(s(this)):s(this),arguments)}),r((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!r((function(){o.prototype.toLocaleString.call([1,2])})))},702:function(e,t,a){"use strict";var n=a(534).exportTypedArrayMethod,i=a(14),r=a(16).Uint8Array,o=r&&r.prototype||{},s=[].toString,l=[].join;i((function(){s.call({})}))&&(s=function(){return l.call(this)});var u=o.toString!=s;n("toString",s,u)},703:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(1)),i=o(a(60)),r=o(a(704));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=["dragMode","aspectRatio","data","crop","viewMode","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minContainerWidth","minContainerHeight","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","ready","cropstart","cropmove","cropend","zoom"],m=h.slice(4),g=function(e){function t(){return u(this,t),d(this,f(t).apply(this,arguments))}var a,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),a=t,(i=[{key:"componentDidMount",value:function(){var e=this,t=Object.keys(this.props).filter((function(e){return-1!==h.indexOf(e)})).reduce((function(t,a){return l({},t,(n={},i=a,r=e.props[a],i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n));var n,i,r}),{});this.cropper=new r.default(this.img,t)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;e.src!==this.props.src&&this.cropper.reset().clear().replace(e.src),e.aspectRatio!==this.props.aspectRatio&&this.setAspectRatio(e.aspectRatio),e.data!==this.props.data&&this.setData(e.data),e.dragMode!==this.props.dragMode&&this.setDragMode(e.dragMode),e.cropBoxData!==this.props.cropBoxData&&this.setCropBoxData(e.cropBoxData),e.canvasData!==this.props.canvasData&&this.setCanvasData(e.canvasData),e.moveTo!==this.props.moveTo&&(e.moveTo.length>1?this.moveTo(e.moveTo[0],e.moveTo[1]):this.moveTo(e.moveTo[0])),e.zoomTo!==this.props.zoomTo&&this.zoomTo(e.zoomTo),e.rotateTo!==this.props.rotateTo&&this.rotateTo(e.rotateTo),e.scaleX!==this.props.scaleX&&this.scaleX(e.scaleX),e.scaleY!==this.props.scaleY&&this.scaleY(e.scaleY),e.enable!==this.props.enable&&(e.enable?this.enable():this.disable()),Object.keys(e).forEach((function(a){var n=e[a]!==t.props[a],i=-1!==m.indexOf(a);if("function"==typeof e[a]&&"function"==typeof t.props[a]&&(n=e[a].toString()!==t.props[a].toString()),n&&i)throw new Error("prop: ".concat(a," can't be change after componentDidMount"))}))}},{key:"componentWillUnmount",value:function(){this.img&&(this.cropper.destroy(),delete this.img,delete this.cropper)}},{key:"setDragMode",value:function(e){return this.cropper.setDragMode(e)}},{key:"setAspectRatio",value:function(e){return this.cropper.setAspectRatio(e)}},{key:"getCroppedCanvas",value:function(e){return this.cropper.getCroppedCanvas(e)}},{key:"setCropBoxData",value:function(e){return this.cropper.setCropBoxData(e)}},{key:"getCropBoxData",value:function(){return this.cropper.getCropBoxData()}},{key:"setCanvasData",value:function(e){return this.cropper.setCanvasData(e)}},{key:"getCanvasData",value:function(){return this.cropper.getCanvasData()}},{key:"getImageData",value:function(){return this.cropper.getImageData()}},{key:"getContainerData",value:function(){return this.cropper.getContainerData()}},{key:"setData",value:function(e){return this.cropper.setData(e)}},{key:"getData",value:function(e){return this.cropper.getData(e)}},{key:"crop",value:function(){return this.cropper.crop()}},{key:"move",value:function(e,t){return this.cropper.move(e,t)}},{key:"moveTo",value:function(e,t){return this.cropper.moveTo(e,t)}},{key:"zoom",value:function(e){return this.cropper.zoom(e)}},{key:"zoomTo",value:function(e){return this.cropper.zoomTo(e)}},{key:"rotate",value:function(e){return this.cropper.rotate(e)}},{key:"rotateTo",value:function(e){return this.cropper.rotateTo(e)}},{key:"enable",value:function(){return this.cropper.enable()}},{key:"disable",value:function(){return this.cropper.disable()}},{key:"reset",value:function(){return this.cropper.reset()}},{key:"clear",value:function(){return this.cropper.clear()}},{key:"replace",value:function(e,t){return this.cropper.replace(e,t)}},{key:"scale",value:function(e,t){return this.cropper.scale(e,t)}},{key:"scaleX",value:function(e){return this.cropper.scaleX(e)}},{key:"scaleY",value:function(e){return this.cropper.scaleY(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.src,i=t.alt,r=t.crossOrigin,o=t.style,s=t.className;return n.default.createElement("div",{style:o,className:s},n.default.createElement("img",{crossOrigin:r,ref:function(t){e.img=t},src:a,alt:void 0===i?"picture":i,style:{opacity:0}}))}}])&&c(a.prototype,i),o&&c(a,o),t}(n.Component);g.propTypes={style:i.default.object,className:i.default.string,crossOrigin:i.default.string,src:i.default.string,alt:i.default.string,aspectRatio:i.default.number,dragMode:i.default.oneOf(["crop","move","none"]),data:i.default.shape({x:i.default.number,y:i.default.number,width:i.default.number,height:i.default.number,rotate:i.default.number,scaleX:i.default.number,scaleY:i.default.number}),scaleX:i.default.number,scaleY:i.default.number,enable:i.default.bool,cropBoxData:i.default.shape({left:i.default.number,top:i.default.number,width:i.default.number,height:i.default.number}),canvasData:i.default.shape({left:i.default.number,top:i.default.number,width:i.default.number,height:i.default.number}),zoomTo:i.default.number,moveTo:i.default.arrayOf(i.default.number),rotateTo:i.default.number,viewMode:i.default.oneOf([0,1,2,3]),preview:i.default.string,responsive:i.default.bool,restore:i.default.bool,checkCrossOrigin:i.default.bool,checkOrientation:i.default.bool,modal:i.default.bool,guides:i.default.bool,center:i.default.bool,highlight:i.default.bool,background:i.default.bool,autoCrop:i.default.bool,autoCropArea:i.default.number,movable:i.default.bool,rotatable:i.default.bool,scalable:i.default.bool,zoomable:i.default.bool,zoomOnTouch:i.default.bool,zoomOnWheel:i.default.bool,wheelZoomRatio:i.default.number,cropBoxMovable:i.default.bool,cropBoxResizable:i.default.bool,toggleDragModeOnDblclick:i.default.bool,minContainerWidth:i.default.number,minContainerHeight:i.default.number,minCanvasWidth:i.default.number,minCanvasHeight:i.default.number,minCropBoxWidth:i.default.number,minCropBoxHeight:i.default.number,ready:i.default.func,cropstart:i.default.func,cropmove:i.default.func,cropend:i.default.func,crop:i.default.func,zoom:i.default.func},g.defaultProps={src:null,dragMode:"crop",data:null,scaleX:1,scaleY:1,enable:!0,zoomTo:1,rotateTo:0};var y=g;t.default=y},704:function(e,t,a){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(a,!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s="undefined"!=typeof window&&void 0!==window.document,l=s?window:{},u=!!s&&"ontouchstart"in l.document.documentElement,c=!!s&&"PointerEvent"in l,d="".concat("cropper","-crop"),f="".concat("cropper","-disabled"),p="".concat("cropper","-hidden"),h="".concat("cropper","-hide"),m="".concat("cropper","-invisible"),g="".concat("cropper","-modal"),y="".concat("cropper","-move"),v="".concat("cropper","Action"),E="".concat("cropper","Preview"),b=u?"touchstart":"mousedown",S=u?"touchmove":"mousemove",w=u?"touchend touchcancel":"mouseup",x=c?"pointerdown":b,k=c?"pointermove":S,T=c?"pointerup pointercancel":w,C=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,I=/^data:/,L=/^data:image\/jpeg;base64,/,R=/^img|canvas$/i,D={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},O=Number.isNaN||l.isNaN;function A(e){return"number"==typeof e&&!O(e)}var Q=function(e){return e>0&&e<1/0};function M(e){return void 0===e}function P(t){return"object"===e(t)&&null!==t}var B=Object.prototype.hasOwnProperty;function q(e){if(!P(e))return!1;try{var t=e.constructor,a=t.prototype;return t&&a&&B.call(a,"isPrototypeOf")}catch(e){return!1}}function N(e){return"function"==typeof e}var U=Array.prototype.slice;function V(e){return Array.from?Array.from(e):U.call(e)}function _(e,t){return e&&N(t)&&(Array.isArray(e)||A(e.length)?V(e).forEach((function(a,n){t.call(e,a,n,e)})):P(e)&&Object.keys(e).forEach((function(a){t.call(e,e[a],a,e)}))),e}var j=Object.assign||function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return P(e)&&a.length>0&&a.forEach((function(t){P(t)&&Object.keys(t).forEach((function(a){e[a]=t[a]}))})),e},F=/\.\d*(?:0|9){12}\d*$/;function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return F.test(e)?Math.round(e*t)/t:e}var K=/^width|height|left|top|marginLeft|marginTop$/;function G(e,t){var a=e.style;_(t,(function(e,t){K.test(t)&&A(e)&&(e="".concat(e,"px")),a[t]=e}))}function Y(e,t){if(t)if(A(e.length))_(e,(function(e){Y(e,t)}));else if(e.classList)e.classList.add(t);else{var a=e.className.trim();a?a.indexOf(t)<0&&(e.className="".concat(a," ").concat(t)):e.className=t}}function H(e,t){t&&(A(e.length)?_(e,(function(e){H(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function W(e,t,a){t&&(A(e.length)?_(e,(function(e){W(e,t,a)})):a?Y(e,t):H(e,t))}var X=/([a-z\d])([A-Z])/g;function $(e){return e.replace(X,"$1-$2").toLowerCase()}function J(e,t){return P(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat($(t)))}function Z(e,t,a){P(a)?e[t]=a:e.dataset?e.dataset[t]=a:e.setAttribute("data-".concat($(t)),a)}var ee=/\s\s*/,te=function(){var e=!1;if(s){var t=!1,a=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});l.addEventListener("test",a,n),l.removeEventListener("test",a,n)}return e}();function ae(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a;t.trim().split(ee).forEach((function(t){if(!te){var r=e.listeners;r&&r[t]&&r[t][a]&&(i=r[t][a],delete r[t][a],0===Object.keys(r[t]).length&&delete r[t],0===Object.keys(r).length&&delete e.listeners)}e.removeEventListener(t,i,n)}))}function ne(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a;t.trim().split(ee).forEach((function(t){if(n.once&&!te){var r=e.listeners,o=void 0===r?{}:r;i=function(){delete o[t][a],e.removeEventListener(t,i,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];a.apply(e,s)},o[t]||(o[t]={}),o[t][a]&&e.removeEventListener(t,o[t][a],n),o[t][a]=i,e.listeners=o}e.addEventListener(t,i,n)}))}function ie(e,t,a){var n;return N(Event)&&N(CustomEvent)?n=new CustomEvent(t,{detail:a,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,a),e.dispatchEvent(n)}function re(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var oe=l.location,se=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function le(e){var t=e.match(se);return null!==t&&(t[1]!==oe.protocol||t[2]!==oe.hostname||t[3]!==oe.port)}function ue(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function ce(e){var t=e.rotate,a=e.scaleX,n=e.scaleY,i=e.translateX,r=e.translateY,o=[];A(i)&&0!==i&&o.push("translateX(".concat(i,"px)")),A(r)&&0!==r&&o.push("translateY(".concat(r,"px)")),A(t)&&0!==t&&o.push("rotate(".concat(t,"deg)")),A(a)&&1!==a&&o.push("scaleX(".concat(a,")")),A(n)&&1!==n&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function de(e,t){var a=e.pageX,n=e.pageY,i={endX:a,endY:n};return t?i:r({startX:a,startY:n},i)}function fe(e){var t=e.aspectRatio,a=e.height,n=e.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=Q(n),o=Q(a);if(r&&o){var s=a*t;"contain"===i&&s>n||"cover"===i&&s<n?a=n/t:n=a*t}else r?a=n/t:o&&(n=a*t);return{width:n,height:a}}function pe(e,t,a,n){var i=t.aspectRatio,r=t.naturalWidth,s=t.naturalHeight,l=t.rotate,u=void 0===l?0:l,c=t.scaleX,d=void 0===c?1:c,f=t.scaleY,p=void 0===f?1:f,h=a.aspectRatio,m=a.naturalWidth,g=a.naturalHeight,y=n.fillColor,v=void 0===y?"transparent":y,E=n.imageSmoothingEnabled,b=void 0===E||E,S=n.imageSmoothingQuality,w=void 0===S?"low":S,x=n.maxWidth,k=void 0===x?1/0:x,T=n.maxHeight,C=void 0===T?1/0:T,I=n.minWidth,L=void 0===I?0:I,R=n.minHeight,D=void 0===R?0:R,O=document.createElement("canvas"),A=O.getContext("2d"),Q=fe({aspectRatio:h,width:k,height:C}),M=fe({aspectRatio:h,width:L,height:D},"cover"),P=Math.min(Q.width,Math.max(M.width,m)),B=Math.min(Q.height,Math.max(M.height,g)),q=fe({aspectRatio:i,width:k,height:C}),N=fe({aspectRatio:i,width:L,height:D},"cover"),U=Math.min(q.width,Math.max(N.width,r)),V=Math.min(q.height,Math.max(N.height,s)),_=[-U/2,-V/2,U,V];return O.width=z(P),O.height=z(B),A.fillStyle=v,A.fillRect(0,0,P,B),A.save(),A.translate(P/2,B/2),A.rotate(u*Math.PI/180),A.scale(d,p),A.imageSmoothingEnabled=b,A.imageSmoothingQuality=w,A.drawImage.apply(A,[e].concat(o(_.map((function(e){return Math.floor(z(e))}))))),A.restore(),O}var he=String.fromCharCode,me=/^data:.*,/;function ge(e){var t,a=new DataView(e);try{var n,i,r;if(255===a.getUint8(0)&&216===a.getUint8(1))for(var o=a.byteLength,s=2;s+1<o;){if(255===a.getUint8(s)&&225===a.getUint8(s+1)){i=s;break}s+=1}if(i){var l=i+10;if("Exif"===function(e,t,a){var n="";a+=t;for(var i=t;i<a;i+=1)n+=he(e.getUint8(i));return n}(a,i+4,4)){var u=a.getUint16(l);if(((n=18761===u)||19789===u)&&42===a.getUint16(l+2,n)){var c=a.getUint32(l+4,n);c>=8&&(r=l+c)}}}if(r){var d,f,p=a.getUint16(r,n);for(f=0;f<p;f+=1)if(d=r+12*f+2,274===a.getUint16(d,n)){d+=8,t=a.getUint16(d,n),a.setUint16(d,1,n);break}}}catch(e){t=1}return t}var ye={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,a=this.container,n=this.cropper;Y(n,p),H(e,p);var i={width:Math.max(a.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(a.offsetHeight,Number(t.minContainerHeight)||100)};this.containerData=i,G(n,{width:i.width,height:i.height}),Y(e,p),H(n,p)},initCanvas:function(){var e=this.containerData,t=this.imageData,a=this.options.viewMode,n=Math.abs(t.rotate)%180==90,i=n?t.naturalHeight:t.naturalWidth,r=n?t.naturalWidth:t.naturalHeight,o=i/r,s=e.width,l=e.height;e.height*o>e.width?3===a?s=e.height*o:l=e.width/o:3===a?l=e.width/o:s=e.height*o;var u={aspectRatio:o,naturalWidth:i,naturalHeight:r,width:s,height:l};u.left=(e.width-s)/2,u.top=(e.height-l)/2,u.oldLeft=u.left,u.oldTop=u.top,this.canvasData=u,this.limited=1===a||2===a,this.limitCanvas(!0,!0),this.initialImageData=j({},t),this.initialCanvasData=j({},u)},limitCanvas:function(e,t){var a=this.options,n=this.containerData,i=this.canvasData,r=this.cropBoxData,o=a.viewMode,s=i.aspectRatio,l=this.cropped&&r;if(e){var u=Number(a.minCanvasWidth)||0,c=Number(a.minCanvasHeight)||0;o>1?(u=Math.max(u,n.width),c=Math.max(c,n.height),3===o&&(c*s>u?u=c*s:c=u/s)):o>0&&(u?u=Math.max(u,l?r.width:0):c?c=Math.max(c,l?r.height:0):l&&(u=r.width,(c=r.height)*s>u?u=c*s:c=u/s));var d=fe({aspectRatio:s,width:u,height:c});u=d.width,c=d.height,i.minWidth=u,i.minHeight=c,i.maxWidth=1/0,i.maxHeight=1/0}if(t)if(o>(l?0:1)){var f=n.width-i.width,p=n.height-i.height;i.minLeft=Math.min(0,f),i.minTop=Math.min(0,p),i.maxLeft=Math.max(0,f),i.maxTop=Math.max(0,p),l&&this.limited&&(i.minLeft=Math.min(r.left,r.left+(r.width-i.width)),i.minTop=Math.min(r.top,r.top+(r.height-i.height)),i.maxLeft=r.left,i.maxTop=r.top,2===o&&(i.width>=n.width&&(i.minLeft=Math.min(0,f),i.maxLeft=Math.max(0,f)),i.height>=n.height&&(i.minTop=Math.min(0,p),i.maxTop=Math.max(0,p))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=n.width,i.maxTop=n.height},renderCanvas:function(e,t){var a=this.canvasData,n=this.imageData;if(t){var i=function(e){var t=e.width,a=e.height,n=e.degree;if(90==(n=Math.abs(n)%180))return{width:a,height:t};var i=n%90*Math.PI/180,r=Math.sin(i),o=Math.cos(i),s=t*o+a*r,l=t*r+a*o;return n>90?{width:l,height:s}:{width:s,height:l}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),r=i.width,o=i.height,s=a.width*(r/a.naturalWidth),l=a.height*(o/a.naturalHeight);a.left-=(s-a.width)/2,a.top-=(l-a.height)/2,a.width=s,a.height=l,a.aspectRatio=r/o,a.naturalWidth=r,a.naturalHeight=o,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,G(this.canvas,j({width:a.width,height:a.height},ce({translateX:a.left,translateY:a.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,a=this.imageData,n=a.naturalWidth*(t.width/t.naturalWidth),i=a.naturalHeight*(t.height/t.naturalHeight);j(a,{width:n,height:i,left:(t.width-n)/2,top:(t.height-i)/2}),G(this.image,j({width:a.width,height:a.height},ce(j({translateX:a.left,translateY:a.top},a)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,a=e.aspectRatio||e.initialAspectRatio,n=Number(e.autoCropArea)||.8,i={width:t.width,height:t.height};a&&(t.height*a>t.width?i.height=i.width/a:i.width=i.height*a),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*n),i.height=Math.max(i.minHeight,i.height*n),i.left=t.left+(t.width-i.width)/2,i.top=t.top+(t.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=j({},i)},limitCropBox:function(e,t){var a=this.options,n=this.containerData,i=this.canvasData,r=this.cropBoxData,o=this.limited,s=a.aspectRatio;if(e){var l=Number(a.minCropBoxWidth)||0,u=Number(a.minCropBoxHeight)||0,c=o?Math.min(n.width,i.width,i.width+i.left,n.width-i.left):n.width,d=o?Math.min(n.height,i.height,i.height+i.top,n.height-i.top):n.height;l=Math.min(l,n.width),u=Math.min(u,n.height),s&&(l&&u?u*s>l?u=l/s:l=u*s:l?u=l/s:u&&(l=u*s),d*s>c?d=c/s:c=d*s),r.minWidth=Math.min(l,c),r.minHeight=Math.min(u,d),r.maxWidth=c,r.maxHeight=d}t&&(o?(r.minLeft=Math.max(0,i.left),r.minTop=Math.max(0,i.top),r.maxLeft=Math.min(n.width,i.left+i.width)-r.width,r.maxTop=Math.min(n.height,i.top+i.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=n.width-r.width,r.maxTop=n.height-r.height))},renderCropBox:function(){var e=this.options,t=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,e.movable&&e.cropBoxMovable&&Z(this.face,v,a.width>=t.width&&a.height>=t.height?"move":"all"),G(this.cropBox,j({width:a.width,height:a.height},ce({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ie(this.element,"crop",this.getData())}},ve={initPreview:function(){var e=this.element,t=this.crossOrigin,a=this.options.preview,n=t?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",r=document.createElement("img");if(t&&(r.crossOrigin=t),r.src=n,r.alt=i,this.viewBox.appendChild(r),this.viewBoxImage=r,a){var o=a;"string"==typeof a?o=e.ownerDocument.querySelectorAll(a):a.querySelector&&(o=[a]),this.previews=o,_(o,(function(e){var a=document.createElement("img");Z(e,E,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(a.crossOrigin=t),a.src=n,a.alt=i,a.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(a)}))}},resetPreview:function(){_(this.previews,(function(e){var t=J(e,E);G(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(P(e[t]))try{delete e[t]}catch(a){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(a){e.dataset[t]=void 0}else e.removeAttribute("data-".concat($(t)))}(e,E)}))},preview:function(){var e=this.imageData,t=this.canvasData,a=this.cropBoxData,n=a.width,i=a.height,r=e.width,o=e.height,s=a.left-t.left-e.left,l=a.top-t.top-e.top;this.cropped&&!this.disabled&&(G(this.viewBoxImage,j({width:r,height:o},ce(j({translateX:-s,translateY:-l},e)))),_(this.previews,(function(t){var a=J(t,E),u=a.width,c=a.height,d=u,f=c,p=1;n&&(f=i*(p=u/n)),i&&f>c&&(d=n*(p=c/i),f=c),G(t,{width:d,height:f}),G(t.getElementsByTagName("img")[0],j({width:r*p,height:o*p},ce(j({translateX:-s*p,translateY:-l*p},e))))})))}},Ee={bind:function(){var e=this.element,t=this.options,a=this.cropper;N(t.cropstart)&&ne(e,"cropstart",t.cropstart),N(t.cropmove)&&ne(e,"cropmove",t.cropmove),N(t.cropend)&&ne(e,"cropend",t.cropend),N(t.crop)&&ne(e,"crop",t.crop),N(t.zoom)&&ne(e,"zoom",t.zoom),ne(a,x,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&ne(a,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ne(a,"dblclick",this.onDblclick=this.dblclick.bind(this)),ne(e.ownerDocument,k,this.onCropMove=this.cropMove.bind(this)),ne(e.ownerDocument,T,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&ne(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,a=this.cropper;N(t.cropstart)&&ae(e,"cropstart",t.cropstart),N(t.cropmove)&&ae(e,"cropmove",t.cropmove),N(t.cropend)&&ae(e,"cropend",t.cropend),N(t.crop)&&ae(e,"crop",t.crop),N(t.zoom)&&ae(e,"zoom",t.zoom),ae(a,x,this.onCropStart),t.zoomable&&t.zoomOnWheel&&ae(a,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ae(a,"dblclick",this.onDblclick),ae(e.ownerDocument,k,this.onCropMove),ae(e.ownerDocument,T,this.onCropEnd),t.responsive&&ae(window,"resize",this.onResize)}},be={resize:function(){var e=this.options,t=this.container,a=this.containerData,n=Number(e.minContainerWidth)||200,i=Number(e.minContainerHeight)||100;if(!(this.disabled||a.width<=n||a.height<=i)){var r,o,s=t.offsetWidth/a.width;1===s&&t.offsetHeight===a.height||(e.restore&&(r=this.getCanvasData(),o=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(_(r,(function(e,t){r[t]=e*s}))),this.setCropBoxData(_(o,(function(e,t){o[t]=e*s})))))}},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t=d,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?"move":"crop"))},wheel:function(e){var t=this,a=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*a,e)))},cropStart:function(e){var t=e.buttons,a=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(A(t)&&1!==t||A(a)&&0!==a||e.ctrlKey))){var n,i=this.options,r=this.pointers;e.changedTouches?_(e.changedTouches,(function(e){r[e.identifier]=de(e)})):r[e.pointerId||0]=de(e),n=Object.keys(r).length>1&&i.zoomable&&i.zoomOnTouch?"zoom":J(e.target,v),C.test(n)&&!1!==ie(this.element,"cropstart",{originalEvent:e,action:n})&&(e.preventDefault(),this.action=n,this.cropping=!1,"crop"===n&&(this.cropping=!0,Y(this.dragBox,g)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var a=this.pointers;e.preventDefault(),!1!==ie(this.element,"cropmove",{originalEvent:e,action:t})&&(e.changedTouches?_(e.changedTouches,(function(e){j(a[e.identifier]||{},de(e,!0))})):j(a[e.pointerId||0]||{},de(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,a=this.pointers;e.changedTouches?_(e.changedTouches,(function(e){delete a[e.identifier]})):delete a[e.pointerId||0],t&&(e.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,W(this.dragBox,g,this.cropped&&this.options.modal)),ie(this.element,"cropend",{originalEvent:e,action:t}))}}},Se={change:function(e){var t,a=this.options,n=this.canvasData,i=this.containerData,o=this.cropBoxData,s=this.pointers,l=this.action,u=a.aspectRatio,c=o.left,d=o.top,f=o.width,h=o.height,m=c+f,g=d+h,y=0,v=0,E=i.width,b=i.height,S=!0;!u&&e.shiftKey&&(u=f&&h?f/h:1),this.limited&&(y=o.minLeft,v=o.minTop,E=y+Math.min(i.width,n.width,n.left+n.width),b=v+Math.min(i.height,n.height,n.top+n.height));var w=s[Object.keys(s)[0]],x={x:w.endX-w.startX,y:w.endY-w.startY},k=function(e){switch(e){case"e":m+x.x>E&&(x.x=E-m);break;case"w":c+x.x<y&&(x.x=y-c);break;case"n":d+x.y<v&&(x.y=v-d);break;case"s":g+x.y>b&&(x.y=b-g)}};switch(l){case"all":c+=x.x,d+=x.y;break;case"e":if(x.x>=0&&(m>=E||u&&(d<=v||g>=b))){S=!1;break}k("e"),(f+=x.x)<0&&(l="w",c-=f=-f),u&&(h=f/u,d+=(o.height-h)/2);break;case"n":if(x.y<=0&&(d<=v||u&&(c<=y||m>=E))){S=!1;break}k("n"),h-=x.y,d+=x.y,h<0&&(l="s",d-=h=-h),u&&(f=h*u,c+=(o.width-f)/2);break;case"w":if(x.x<=0&&(c<=y||u&&(d<=v||g>=b))){S=!1;break}k("w"),f-=x.x,c+=x.x,f<0&&(l="e",c-=f=-f),u&&(h=f/u,d+=(o.height-h)/2);break;case"s":if(x.y>=0&&(g>=b||u&&(c<=y||m>=E))){S=!1;break}k("s"),(h+=x.y)<0&&(l="n",d-=h=-h),u&&(f=h*u,c+=(o.width-f)/2);break;case"ne":if(u){if(x.y<=0&&(d<=v||m>=E)){S=!1;break}k("n"),h-=x.y,d+=x.y,f=h*u}else k("n"),k("e"),x.x>=0?m<E?f+=x.x:x.y<=0&&d<=v&&(S=!1):f+=x.x,x.y<=0?d>v&&(h-=x.y,d+=x.y):(h-=x.y,d+=x.y);f<0&&h<0?(l="sw",d-=h=-h,c-=f=-f):f<0?(l="nw",c-=f=-f):h<0&&(l="se",d-=h=-h);break;case"nw":if(u){if(x.y<=0&&(d<=v||c<=y)){S=!1;break}k("n"),h-=x.y,d+=x.y,f=h*u,c+=o.width-f}else k("n"),k("w"),x.x<=0?c>y?(f-=x.x,c+=x.x):x.y<=0&&d<=v&&(S=!1):(f-=x.x,c+=x.x),x.y<=0?d>v&&(h-=x.y,d+=x.y):(h-=x.y,d+=x.y);f<0&&h<0?(l="se",d-=h=-h,c-=f=-f):f<0?(l="ne",c-=f=-f):h<0&&(l="sw",d-=h=-h);break;case"sw":if(u){if(x.x<=0&&(c<=y||g>=b)){S=!1;break}k("w"),f-=x.x,c+=x.x,h=f/u}else k("s"),k("w"),x.x<=0?c>y?(f-=x.x,c+=x.x):x.y>=0&&g>=b&&(S=!1):(f-=x.x,c+=x.x),x.y>=0?g<b&&(h+=x.y):h+=x.y;f<0&&h<0?(l="ne",d-=h=-h,c-=f=-f):f<0?(l="se",c-=f=-f):h<0&&(l="nw",d-=h=-h);break;case"se":if(u){if(x.x>=0&&(m>=E||g>=b)){S=!1;break}k("e"),h=(f+=x.x)/u}else k("s"),k("e"),x.x>=0?m<E?f+=x.x:x.y>=0&&g>=b&&(S=!1):f+=x.x,x.y>=0?g<b&&(h+=x.y):h+=x.y;f<0&&h<0?(l="nw",d-=h=-h,c-=f=-f):f<0?(l="sw",c-=f=-f):h<0&&(l="ne",d-=h=-h);break;case"move":this.move(x.x,x.y),S=!1;break;case"zoom":this.zoom(function(e){var t=r({},e),a=[];return _(e,(function(e,n){delete t[n],_(t,(function(t){var n=Math.abs(e.startX-t.startX),i=Math.abs(e.startY-t.startY),r=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),s=Math.sqrt(n*n+i*i),l=(Math.sqrt(r*r+o*o)-s)/s;a.push(l)}))})),a.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),a[0]}(s),e),S=!1;break;case"crop":if(!x.x||!x.y){S=!1;break}t=re(this.cropper),c=w.startX-t.left,d=w.startY-t.top,f=o.minWidth,h=o.minHeight,x.x>0?l=x.y>0?"se":"ne":x.x<0&&(c-=f,l=x.y>0?"sw":"nw"),x.y<0&&(d-=h),this.cropped||(H(this.cropBox,p),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}S&&(o.width=f,o.height=h,o.left=c,o.top=d,this.action=l,this.renderCropBox()),_(s,(function(e){e.startX=e.endX,e.startY=e.endY}))}},we={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Y(this.dragBox,g),H(this.cropBox,p),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=j({},this.initialImageData),this.canvasData=j({},this.initialCanvasData),this.cropBoxData=j({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(j(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),H(this.dragBox,g),Y(this.cropBox,p)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,_(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,H(this.cropper,f)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Y(this.cropper,f)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,n=a.left,i=a.top;return this.moveTo(M(e)?e:n+Number(e),M(t)?t:i+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(A(e)&&(a.left=e,n=!0),A(t)&&(a.top=t,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(e,t){var a=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(a.width*e/a.naturalWidth,null,t)},zoomTo:function(e,t,a){var n=this.options,i=this.canvasData,r=i.width,o=i.height,s=i.naturalWidth,l=i.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&n.zoomable){var u=s*e,c=l*e;if(!1===ie(this.element,"zoom",{ratio:e,oldRatio:r/s,originalEvent:a}))return this;if(a){var d=this.pointers,f=re(this.cropper),p=d&&Object.keys(d).length?function(e){var t=0,a=0,n=0;return _(e,(function(e){var i=e.startX,r=e.startY;t+=i,a+=r,n+=1})),{pageX:t/=n,pageY:a/=n}}(d):{pageX:a.pageX,pageY:a.pageY};i.left-=(u-r)*((p.pageX-f.left-i.left)/r),i.top-=(c-o)*((p.pageY-f.top-i.top)/o)}else q(t)&&A(t.x)&&A(t.y)?(i.left-=(u-r)*((t.x-i.left)/r),i.top-=(c-o)*((t.y-i.top)/o)):(i.left-=(u-r)/2,i.top-=(c-o)/2);i.width=u,i.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return A(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,A(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(A(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.imageData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(A(e)&&(a.scaleX=e,n=!0),A(t)&&(a.scaleY=t,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.options,n=this.imageData,i=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){e={x:r.left-i.left,y:r.top-i.top,width:r.width,height:r.height};var o=n.width/n.naturalWidth;if(_(e,(function(t,a){e[a]=t/o})),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return a.rotatable&&(e.rotate=n.rotate||0),a.scalable&&(e.scaleX=n.scaleX||1,e.scaleY=n.scaleY||1),e},setData:function(e){var t=this.options,a=this.imageData,n=this.canvasData,i={};if(this.ready&&!this.disabled&&q(e)){var r=!1;t.rotatable&&A(e.rotate)&&e.rotate!==a.rotate&&(a.rotate=e.rotate,r=!0),t.scalable&&(A(e.scaleX)&&e.scaleX!==a.scaleX&&(a.scaleX=e.scaleX,r=!0),A(e.scaleY)&&e.scaleY!==a.scaleY&&(a.scaleY=e.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var o=a.width/a.naturalWidth;A(e.x)&&(i.left=e.x*o+n.left),A(e.y)&&(i.top=e.y*o+n.top),A(e.width)&&(i.width=e.width*o),A(e.height)&&(i.height=e.height*o),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?j({},this.containerData):{}},getImageData:function(){return this.sized?j({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&_(["left","top","width","height","naturalWidth","naturalHeight"],(function(a){t[a]=e[a]})),t},setCanvasData:function(e){var t=this.canvasData,a=t.aspectRatio;return this.ready&&!this.disabled&&q(e)&&(A(e.left)&&(t.left=e.left),A(e.top)&&(t.top=e.top),A(e.width)?(t.width=e.width,t.height=e.width/a):A(e.height)&&(t.height=e.height,t.width=e.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,a,n=this.cropBoxData,i=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&q(e)&&(A(e.left)&&(n.left=e.left),A(e.top)&&(n.top=e.top),A(e.width)&&e.width!==n.width&&(t=!0,n.width=e.width),A(e.height)&&e.height!==n.height&&(a=!0,n.height=e.height),i&&(t?n.height=n.width/i:a&&(n.width=n.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,a=pe(this.image,this.imageData,t,e);if(!this.cropped)return a;var n=this.getData(),i=n.x,r=n.y,s=n.width,l=n.height,u=a.width/Math.floor(t.naturalWidth);1!==u&&(i*=u,r*=u,s*=u,l*=u);var c=s/l,d=fe({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=fe({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=fe({aspectRatio:c,width:e.width||(1!==u?a.width:s),height:e.height||(1!==u?a.height:l)}),h=p.width,m=p.height;h=Math.min(d.width,Math.max(f.width,h)),m=Math.min(d.height,Math.max(f.height,m));var g=document.createElement("canvas"),y=g.getContext("2d");g.width=z(h),g.height=z(m),y.fillStyle=e.fillColor||"transparent",y.fillRect(0,0,h,m);var v=e.imageSmoothingEnabled,E=void 0===v||v,b=e.imageSmoothingQuality;y.imageSmoothingEnabled=E,b&&(y.imageSmoothingQuality=b);var S,w,x,k,T,C,I=a.width,L=a.height,R=i,D=r;R<=-s||R>I?(R=0,S=0,x=0,T=0):R<=0?(x=-R,R=0,T=S=Math.min(I,s+R)):R<=I&&(x=0,T=S=Math.min(s,I-R)),S<=0||D<=-l||D>L?(D=0,w=0,k=0,C=0):D<=0?(k=-D,D=0,C=w=Math.min(L,l+D)):D<=L&&(k=0,C=w=Math.min(l,L-D));var O=[R,D,S,w];if(T>0&&C>0){var A=h/s;O.push(x*A,k*A,T*A,C*A)}return y.drawImage.apply(y,[a].concat(o(O.map((function(e){return Math.floor(z(e))}))))),g},setAspectRatio:function(e){var t=this.options;return this.disabled||M(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,a=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var i="crop"===e,r=t.movable&&"move"===e;e=i||r?e:"none",t.dragMode=e,Z(a,v,e),W(a,d,i),W(a,y,r),t.cropBoxMovable||(Z(n,v,e),W(n,d,i),W(n,y,r))}return this}},xe=l.Cropper,ke=function(){function e(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!a||!R.test(a.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=a,this.options=j({},D,q(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var n,i,r;return n=e,r=[{key:"noConflict",value:function(){return window.Cropper=xe,e}},{key:"setDefaults",value:function(e){j(D,q(e)&&e)}}],(i=[{key:"init",value:function(){var e,t=this.element,a=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===a){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===a&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var a=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(I.test(e))L.test(e)?this.read((i=e.replace(me,""),r=atob(i),o=new ArrayBuffer(r.length),_(s=new Uint8Array(o),(function(e,t){s[t]=r.charCodeAt(t)})),o)):this.clone();else{var i,r,o,s,l=new XMLHttpRequest,u=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=u,l.onerror=u,l.ontimeout=u,l.onprogress=function(){"image/jpeg"!==l.getResponseHeader("content-type")&&l.abort()},l.onload=function(){t.read(l.response)},l.onloadend=function(){t.reloading=!1,t.xhr=null},n.checkCrossOrigin&&le(e)&&a.crossOrigin&&(e=ue(e)),l.open("GET",e),l.responseType="arraybuffer",l.withCredentials="use-credentials"===a.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,a=this.imageData,n=ge(e),i=0,r=1,o=1;if(n>1){this.url=function(e,t){for(var a=[],n=new Uint8Array(e);n.length>0;)a.push(he.apply(null,V(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(a.join("")))}(e,"image/jpeg");var s=function(e){var t=0,a=1,n=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90}return{rotate:t,scaleX:a,scaleY:n}}(n);i=s.rotate,r=s.scaleX,o=s.scaleY}t.rotatable&&(a.rotate=i),t.scalable&&(a.scaleX=r,a.scaleY=o),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,a=e.crossOrigin,n=t;this.options.checkCrossOrigin&&le(t)&&(a||(a="anonymous"),n=ue(t)),this.crossOrigin=a,this.crossOriginUrl=n;var i=document.createElement("img");a&&(i.crossOrigin=a),i.src=n||t,i.alt=e.alt||"The image to crop",this.image=i,i.onload=this.start.bind(this),i.onerror=this.stop.bind(this),Y(i,h),e.parentNode.insertBefore(i,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var a=l.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(l.navigator.userAgent),n=function(t,a){j(e.imageData,{naturalWidth:t,naturalHeight:a,aspectRatio:t/a}),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||a){var i=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=i,i.onload=function(){n(i.width,i.height),a||r.removeChild(i)},i.src=t.src,a||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(i))}else n(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,a=this.image,n=e.parentNode,i=document.createElement("div");i.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var r=i.querySelector(".".concat("cropper","-container")),o=r.querySelector(".".concat("cropper","-canvas")),s=r.querySelector(".".concat("cropper","-drag-box")),l=r.querySelector(".".concat("cropper","-crop-box")),u=l.querySelector(".".concat("cropper","-face"));this.container=n,this.cropper=r,this.canvas=o,this.dragBox=s,this.cropBox=l,this.viewBox=r.querySelector(".".concat("cropper","-view-box")),this.face=u,o.appendChild(a),Y(e,p),n.insertBefore(r,e.nextSibling),this.isImg||H(a,h),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Y(l,p),t.guides||Y(l.getElementsByClassName("".concat("cropper","-dashed")),p),t.center||Y(l.getElementsByClassName("".concat("cropper","-center")),p),t.background&&Y(r,"".concat("cropper","-bg")),t.highlight||Y(u,m),t.cropBoxMovable&&(Y(u,y),Z(u,v,"all")),t.cropBoxResizable||(Y(l.getElementsByClassName("".concat("cropper","-line")),p),Y(l.getElementsByClassName("".concat("cropper","-point")),p)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),N(t.ready)&&ne(e,"ready",t.ready,{once:!0}),ie(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),H(this.element,p))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&a(n.prototype,i),r&&a(n,r),e}();return j(ke.prototype,ye,ve,Ee,be,Se,we),ke}()},705:function(e,t,a){},706:function(e,t){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},707:function(e,t){e.exports={L:1,M:0,Q:3,H:2}},708:function(e,t,a){var n=a(709);function i(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var a=0;a<e.length&&0==e[a];)a++;this.num=new Array(e.length-a+t);for(var n=0;n<e.length-a;n++)this.num[n]=e[n+a]}i.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),a=0;a<this.getLength();a++)for(var r=0;r<e.getLength();r++)t[a+r]^=n.gexp(n.glog(this.get(a))+n.glog(e.get(r)));return new i(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=n.glog(this.get(0))-n.glog(e.get(0)),a=new Array(this.getLength()),r=0;r<this.getLength();r++)a[r]=this.get(r);for(r=0;r<e.getLength();r++)a[r]^=n.gexp(n.glog(e.get(r))+t);return new i(a,0).mod(e)}},e.exports=i},709:function(e,t){for(var a={glog:function(e){if(e<1)throw new Error("glog("+e+")");return a.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return a.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)a.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)a.EXP_TABLE[n]=a.EXP_TABLE[n-4]^a.EXP_TABLE[n-5]^a.EXP_TABLE[n-6]^a.EXP_TABLE[n-8];for(n=0;n<255;n++)a.LOG_TABLE[a.EXP_TABLE[n]]=n;e.exports=a},710:function(e,t,a){"use strict";a(148);var n,i=a(12),r=a(19),o=a(647),s=a(16),l=a(241),u=a(36),c=a(105),d=a(21),f=a(242),p=a(244),h=a(160).codeAt,m=a(757),g=a(67),y=a(758),v=a(48),E=s.URL,b=y.URLSearchParams,S=y.getState,w=v.set,x=v.getterFor("URL"),k=Math.floor,T=Math.pow,C=/[A-Za-z]/,I=/[\d+\-.A-Za-z]/,L=/\d/,R=/^(0x|0X)/,D=/^[0-7]+$/,O=/^\d+$/,A=/^[\dA-Fa-f]+$/,Q=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,M=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,P=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,q=function(e,t){var a,n,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(a=U(t.slice(1,-1))))return"Invalid host";e.host=a}else if(Y(e)){if(t=m(t),Q.test(t))return"Invalid host";if(null===(a=N(t)))return"Invalid host";e.host=a}else{if(M.test(t))return"Invalid host";for(a="",n=p(t),i=0;i<n.length;i++)a+=K(n[i],_);e.host=a}},N=function(e){var t,a,n,i,r,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(a=[],n=0;n<t;n++){if(""==(i=l[n]))return e;if(r=10,i.length>1&&"0"==i.charAt(0)&&(r=R.test(i)?16:8,i=i.slice(8==r?1:2)),""===i)o=0;else{if(!(10==r?O:8==r?D:A).test(i))return e;o=parseInt(i,r)}a.push(o)}for(n=0;n<t;n++)if(o=a[n],n==t-1){if(o>=T(256,5-t))return null}else if(o>255)return null;for(s=a.pop(),n=0;n<a.length;n++)s+=a[n]*T(256,3-n);return s},U=function(e){var t,a,n,i,r,o,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,c=++u}for(;f();){if(8==u)return;if(":"!=f()){for(t=a=0;a<4&&A.test(f());)t=16*t+parseInt(f(),16),d++,a++;if("."==f()){if(0==a)return;if(d-=a,u>6)return;for(n=0;f();){if(i=null,n>0){if(!("."==f()&&n<4))return;d++}if(!L.test(f()))return;for(;L.test(f());){if(r=parseInt(f(),10),null===i)i=r;else{if(0==i)return;i=10*i+r}if(i>255)return;d++}l[u]=256*l[u]+i,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;l[u++]=t}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(o=u-c,u=7;0!=u&&o>0;)s=l[u],l[u--]=l[c+o-1],l[c+--o]=s;else if(8!=u)return;return l},V=function(e){var t,a,n,i;if("number"==typeof e){for(t=[],a=0;a<4;a++)t.unshift(e%256),e=k(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,a=1,n=null,i=0,r=0;r<8;r++)0!==e[r]?(i>a&&(t=n,a=i),n=null,i=0):(null===n&&(n=r),++i);return i>a&&(t=n,a=i),t}(e),a=0;a<8;a++)i&&0===e[a]||(i&&(i=!1),n===a?(t+=a?":":"::",i=!0):(t+=e[a].toString(16),a<7&&(t+=":")));return"["+t+"]"}return e},_={},j=f({},_,{" ":1,'"':1,"<":1,">":1,"`":1}),F=f({},j,{"#":1,"?":1,"{":1,"}":1}),z=f({},F,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),K=function(e,t){var a=h(e,0);return a>32&&a<127&&!d(t,e)?e:encodeURIComponent(e)},G={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return d(G,e.scheme)},H=function(e){return""!=e.username||""!=e.password},W=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},X=function(e,t){var a;return 2==e.length&&C.test(e.charAt(0))&&(":"==(a=e.charAt(1))||!t&&"|"==a)},$=function(e){var t;return e.length>1&&X(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},J=function(e){var t=e.path,a=t.length;!a||"file"==e.scheme&&1==a&&X(t[0],!0)||t.pop()},Z=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ae={},ne={},ie={},re={},oe={},se={},le={},ue={},ce={},de={},fe={},pe={},he={},me={},ge={},ye={},ve={},Ee={},be={},Se=function(e,t,a,i){var r,o,s,l,u,c=a||ee,f=0,h="",m=!1,g=!1,y=!1;for(a||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(P,"")),t=t.replace(B,""),r=p(t);f<=r.length;){switch(o=r[f],c){case ee:if(!o||!C.test(o)){if(a)return"Invalid scheme";c=ae;continue}h+=o.toLowerCase(),c=te;break;case te:if(o&&(I.test(o)||"+"==o||"-"==o||"."==o))h+=o.toLowerCase();else{if(":"!=o){if(a)return"Invalid scheme";h="",c=ae,f=0;continue}if(a&&(Y(e)!=d(G,h)||"file"==h&&(H(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,a)return void(Y(e)&&G[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?c=pe:Y(e)&&i&&i.scheme==e.scheme?c=ne:Y(e)?c=se:"/"==r[f+1]?(c=ie,f++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ve)}break;case ae:if(!i||i.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=be;break}c="file"==i.scheme?pe:re;continue;case ne:if("/"!=o||"/"!=r[f+1]){c=re;continue}c=le,f++;break;case ie:if("/"==o){c=ue;break}c=ye;continue;case re:if(e.scheme=i.scheme,o==n)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&Y(e))c=oe;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=Ee;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=ye;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=be}break;case oe:if(!Y(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=ye;continue}c=ue}else c=le;break;case se:if(c=le,"/"!=o||"/"!=h.charAt(f+1))continue;f++;break;case le:if("/"!=o&&"\\"!=o){c=ue;continue}break;case ue:if("@"==o){m&&(h="%40"+h),m=!0,s=p(h);for(var v=0;v<s.length;v++){var E=s[v];if(":"!=E||y){var b=K(E,z);y?e.password+=b:e.username+=b}else y=!0}h=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(m&&""==h)return"Invalid authority";f-=p(h).length+1,h="",c=ce}else h+=o;break;case ce:case de:if(a&&"file"==e.scheme){c=me;continue}if(":"!=o||g){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(Y(e)&&""==h)return"Invalid host";if(a&&""==h&&(H(e)||null!==e.port))return;if(l=q(e,h))return l;if(h="",c=ge,a)return;continue}"["==o?g=!0:"]"==o&&(g=!1),h+=o}else{if(""==h)return"Invalid host";if(l=q(e,h))return l;if(h="",c=fe,a==de)return}break;case fe:if(!L.test(o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)||a){if(""!=h){var S=parseInt(h,10);if(S>65535)return"Invalid port";e.port=Y(e)&&S===G[e.scheme]?null:S,h=""}if(a)return;c=ge;continue}return"Invalid port"}h+=o;break;case pe:if(e.scheme="file","/"==o||"\\"==o)c=he;else{if(!i||"file"!=i.scheme){c=ye;continue}if(o==n)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",c=Ee;else{if("#"!=o){$(r.slice(f).join(""))||(e.host=i.host,e.path=i.path.slice(),J(e)),c=ye;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=be}}break;case he:if("/"==o||"\\"==o){c=me;break}i&&"file"==i.scheme&&!$(r.slice(f).join(""))&&(X(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=ye;continue;case me:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!a&&X(h))c=ye;else if(""==h){if(e.host="",a)return;c=ge}else{if(l=q(e,h))return l;if("localhost"==e.host&&(e.host=""),a)return;h="",c=ge}continue}h+=o;break;case ge:if(Y(e)){if(c=ye,"/"!=o&&"\\"!=o)continue}else if(a||"?"!=o)if(a||"#"!=o){if(o!=n&&(c=ye,"/"!=o))continue}else e.fragment="",c=be;else e.query="",c=Ee;break;case ye:if(o==n||"/"==o||"\\"==o&&Y(e)||!a&&("?"==o||"#"==o)){if(".."===(u=(u=h).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(J(e),"/"==o||"\\"==o&&Y(e)||e.path.push("")):Z(h)?"/"==o||"\\"==o&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&X(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(o==n||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=Ee):"#"==o&&(e.fragment="",c=be)}else h+=K(o,F);break;case ve:"?"==o?(e.query="",c=Ee):"#"==o?(e.fragment="",c=be):o!=n&&(e.path[0]+=K(o,_));break;case Ee:a||"#"!=o?o!=n&&("'"==o&&Y(e)?e.query+="%27":e.query+="#"==o?"%23":K(o,_)):(e.fragment="",c=be);break;case be:o!=n&&(e.fragment+=K(o,j))}f++}},we=function(e){var t,a,n=c(this,we,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=w(n,{type:"URL"});if(void 0!==i)if(i instanceof we)t=x(i);else if(a=Se(t={},String(i)))throw TypeError(a);if(a=Se(s,o,null,t))throw TypeError(a);var l=s.searchParams=new b,u=S(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},r||(n.href=ke.call(n),n.origin=Te.call(n),n.protocol=Ce.call(n),n.username=Ie.call(n),n.password=Le.call(n),n.host=Re.call(n),n.hostname=De.call(n),n.port=Oe.call(n),n.pathname=Ae.call(n),n.search=Qe.call(n),n.searchParams=Me.call(n),n.hash=Pe.call(n))},xe=we.prototype,ke=function(){var e=x(this),t=e.scheme,a=e.username,n=e.password,i=e.host,r=e.port,o=e.path,s=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",H(e)&&(u+=a+(n?":"+n:"")+"@"),u+=V(i),null!==r&&(u+=":"+r)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},Te=function(){var e=x(this),t=e.scheme,a=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+V(e.host)+(null!==a?":"+a:""):"null"},Ce=function(){return x(this).scheme+":"},Ie=function(){return x(this).username},Le=function(){return x(this).password},Re=function(){var e=x(this),t=e.host,a=e.port;return null===t?"":null===a?V(t):V(t)+":"+a},De=function(){var e=x(this).host;return null===e?"":V(e)},Oe=function(){var e=x(this).port;return null===e?"":String(e)},Ae=function(){var e=x(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Qe=function(){var e=x(this).query;return e?"?"+e:""},Me=function(){return x(this).searchParams},Pe=function(){var e=x(this).fragment;return e?"#"+e:""},Be=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(r&&l(xe,{href:Be(ke,(function(e){var t=x(this),a=String(e),n=Se(t,a);if(n)throw TypeError(n);S(t.searchParams).updateSearchParams(t.query)})),origin:Be(Te),protocol:Be(Ce,(function(e){var t=x(this);Se(t,String(e)+":",ee)})),username:Be(Ie,(function(e){var t=x(this),a=p(String(e));if(!W(t)){t.username="";for(var n=0;n<a.length;n++)t.username+=K(a[n],z)}})),password:Be(Le,(function(e){var t=x(this),a=p(String(e));if(!W(t)){t.password="";for(var n=0;n<a.length;n++)t.password+=K(a[n],z)}})),host:Be(Re,(function(e){var t=x(this);t.cannotBeABaseURL||Se(t,String(e),ce)})),hostname:Be(De,(function(e){var t=x(this);t.cannotBeABaseURL||Se(t,String(e),de)})),port:Be(Oe,(function(e){var t=x(this);W(t)||(""==(e=String(e))?t.port=null:Se(t,e,fe))})),pathname:Be(Ae,(function(e){var t=x(this);t.cannotBeABaseURL||(t.path=[],Se(t,e+"",ge))})),search:Be(Qe,(function(e){var t=x(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Se(t,e,Ee)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:Be(Me),hash:Be(Pe,(function(e){var t=x(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Se(t,e,be)):t.fragment=null}))}),u(xe,"toJSON",(function(){return ke.call(this)}),{enumerable:!0}),u(xe,"toString",(function(){return ke.call(this)}),{enumerable:!0}),E){var qe=E.createObjectURL,Ne=E.revokeObjectURL;qe&&u(we,"createObjectURL",(function(e){return qe.apply(E,arguments)})),Ne&&u(we,"revokeObjectURL",(function(e){return Ne.apply(E,arguments)}))}g(we,"URL"),i({global:!0,forced:!o,sham:!r},{URL:we})},757:function(e,t,a){"use strict";var n=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},u=function(e,t,a){var n=0;for(e=a?o(e/700):e>>1,e+=o(e/t);e>455;n+=36)e=o(e/35);return o(n+36*e/(e+38))},c=function(e){var t,a,n=[],i=(e=function(e){for(var t=[],a=0,n=e.length;a<n;){var i=e.charCodeAt(a++);if(i>=55296&&i<=56319&&a<n){var r=e.charCodeAt(a++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),a--)}else t.push(i)}return t}(e)).length,c=128,d=0,f=72;for(t=0;t<e.length;t++)(a=e[t])<128&&n.push(s(a));var p=n.length,h=p;for(p&&n.push("-");h<i;){var m=2147483647;for(t=0;t<e.length;t++)(a=e[t])>=c&&a<m&&(m=a);var g=h+1;if(m-c>o((2147483647-d)/g))throw RangeError(r);for(d+=(m-c)*g,c=m,t=0;t<e.length;t++){if((a=e[t])<c&&++d>2147483647)throw RangeError(r);if(a==c){for(var y=d,v=36;;v+=36){var E=v<=f?1:v>=f+26?26:v-f;if(y<E)break;var b=y-E,S=36-E;n.push(s(l(E+b%S))),y=o(b/S)}n.push(s(l(y))),f=u(d,g,h==p),d=0,++h}}++d,++c}return n.join("")};e.exports=function(e){var t,a,r=[],o=e.toLowerCase().replace(i,".").split(".");for(t=0;t<o.length;t++)a=o[t],r.push(n.test(a)?"xn--"+c(a):a);return r.join(".")}},758:function(e,t,a){"use strict";a(103);var n=a(12),i=a(50),r=a(647),o=a(36),s=a(155),l=a(67),u=a(243),c=a(48),d=a(105),f=a(21),p=a(69),h=a(147),m=a(18),g=a(17),y=a(66),v=a(68),E=a(759),b=a(149),S=a(15),w=i("fetch"),x=i("Headers"),k=S("iterator"),T=c.set,C=c.getterFor("URLSearchParams"),I=c.getterFor("URLSearchParamsIterator"),L=/\+/g,R=Array(4),D=function(e){return R[e-1]||(R[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},O=function(e){try{return decodeURIComponent(e)}catch(t){return e}},A=function(e){var t=e.replace(L," "),a=4;try{return decodeURIComponent(t)}catch(e){for(;a;)t=t.replace(D(a--),O);return t}},Q=/[!'()~]|%20/g,M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(e){return M[e]},B=function(e){return encodeURIComponent(e).replace(Q,P)},q=function(e,t){if(t)for(var a,n,i=t.split("&"),r=0;r<i.length;)(a=i[r++]).length&&(n=a.split("="),e.push({key:A(n.shift()),value:A(n.join("="))}))},N=function(e){this.entries.length=0,q(this.entries,e)},U=function(e,t){if(e<t)throw TypeError("Not enough arguments")},V=u((function(e,t){T(this,{type:"URLSearchParamsIterator",iterator:E(C(e).entries),kind:t})}),"Iterator",(function(){var e=I(this),t=e.kind,a=e.iterator.next(),n=a.value;return a.done||(a.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),a})),_=function(){d(this,_,"URLSearchParams");var e,t,a,n,i,r,o,s,l,u=arguments.length>0?arguments[0]:void 0,c=this,p=[];if(T(c,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:N}),void 0!==u)if(g(u))if("function"==typeof(e=b(u)))for(a=(t=e.call(u)).next;!(n=a.call(t)).done;){if((o=(r=(i=E(m(n.value))).next).call(i)).done||(s=r.call(i)).done||!r.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:o.value+"",value:s.value+""})}else for(l in u)f(u,l)&&p.push({key:l,value:u[l]+""});else q(p,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},j=_.prototype;s(j,{append:function(e,t){U(arguments.length,2);var a=C(this);a.entries.push({key:e+"",value:t+""}),a.updateURL()},delete:function(e){U(arguments.length,1);for(var t=C(this),a=t.entries,n=e+"",i=0;i<a.length;)a[i].key===n?a.splice(i,1):i++;t.updateURL()},get:function(e){U(arguments.length,1);for(var t=C(this).entries,a=e+"",n=0;n<t.length;n++)if(t[n].key===a)return t[n].value;return null},getAll:function(e){U(arguments.length,1);for(var t=C(this).entries,a=e+"",n=[],i=0;i<t.length;i++)t[i].key===a&&n.push(t[i].value);return n},has:function(e){U(arguments.length,1);for(var t=C(this).entries,a=e+"",n=0;n<t.length;)if(t[n++].key===a)return!0;return!1},set:function(e,t){U(arguments.length,1);for(var a,n=C(this),i=n.entries,r=!1,o=e+"",s=t+"",l=0;l<i.length;l++)(a=i[l]).key===o&&(r?i.splice(l--,1):(r=!0,a.value=s));r||i.push({key:o,value:s}),n.updateURL()},sort:function(){var e,t,a,n=C(this),i=n.entries,r=i.slice();for(i.length=0,a=0;a<r.length;a++){for(e=r[a],t=0;t<a;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===a&&i.push(e)}n.updateURL()},forEach:function(e){for(var t,a=C(this).entries,n=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<a.length;)n((t=a[i++]).value,t.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),o(j,k,j.entries),o(j,"toString",(function(){for(var e,t=C(this).entries,a=[],n=0;n<t.length;)e=t[n++],a.push(B(e.key)+"="+B(e.value));return a.join("&")}),{enumerable:!0}),l(_,"URLSearchParams"),n({global:!0,forced:!r},{URLSearchParams:_}),r||"function"!=typeof w||"function"!=typeof x||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,a,n,i=[e];return arguments.length>1&&(t=arguments[1],g(t)&&(a=t.body,"URLSearchParams"===h(a)&&((n=t.headers?new x(t.headers):new x).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:v(0,String(a)),headers:v(0,n)}))),i.push(t)),w.apply(this,i)}}),e.exports={URLSearchParams:_,getState:C}},759:function(e,t,a){var n=a(18),i=a(149);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},763:function(e,t,a){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,a){return t&&u(e.prototype,t),a&&u(e,a),e}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=a(1),v=(a(60),a(802)),E=a(707);function b(e){for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):n<2048?(t+=String.fromCharCode(192|n>>6),t+=String.fromCharCode(128|63&n)):n<55296||n>=57344?(t+=String.fromCharCode(224|n>>12),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|63&n)):(a++,n=65536+((1023&n)<<10|1023&e.charCodeAt(a)),t+=String.fromCharCode(240|n>>18),t+=String.fromCharCode(128|n>>12&63),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|63&n))}return t}var S={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=[];return e.forEach((function(e,n){var i=null;e.forEach((function(r,o){if(!r&&null!==i)return a.push("M".concat(i+t," ").concat(n+t,"h").concat(o-i,"v1H").concat(i+t,"z")),void(i=null);if(o!==e.length-1)r&&null===i&&(i=o);else{if(!r)return;null===i?a.push("M".concat(o+t,",").concat(n+t," h1v1H").concat(o+t,"z")):a.push("M".concat(i+t,",").concat(n+t," h").concat(o+1-i,"v1H").concat(i+t,"z"))}}))})),a.join("")}function x(e,t){return e.slice().map((function(e,a){return a<t.y||a>=t.y+t.h?e:e.map((function(e,a){return(a<t.x||a>=t.x+t.w)&&e}))}))}function k(e,t){var a=e.imageSettings,n=e.size,i=e.includeMargin;if(null==a)return null;var r=i?4:0,o=t.length+2*r,s=Math.floor(.1*n),l=o/n,u=(a.width||s)*l,c=(a.height||s)*l,d=null==a.x?t.length/2-u/2:a.x*l,f=null==a.y?t.length/2-c/2:a.y*l,p=null;if(a.excavate){var h=Math.floor(d),m=Math.floor(f);p={x:h,y:m,w:Math.ceil(u+d-h),h:Math.ceil(c+f-m)}}return{x:d,y:f,h:c,w:u,excavation:p}}var T=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),C=function(e){function t(){var e,a;l(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return g(p(a=d(this,(e=f(t)).call.apply(e,[this].concat(i)))),"_canvas",void 0),g(p(a),"_image",void 0),g(p(a),"state",{imgLoaded:!1}),g(p(a),"handleImageLoad",(function(){a.setState({imgLoaded:!0})})),a}return h(t,e),c(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,a=e.size,n=e.level,i=e.bgColor,r=e.fgColor,o=e.includeMargin,s=e.imageSettings,l=new v(-1,E[n]);if(l.addData(b(t)),l.make(),null!=this._canvas){var u=this._canvas,c=u.getContext("2d");if(!c)return;var d=l.modules;if(null===d)return;var f=o?4:0,p=d.length+2*f,h=k(this.props,d);null!=s&&null!=h&&null!=h.excavation&&(d=x(d,h.excavation));var m=window.devicePixelRatio||1;u.height=u.width=a*m;var g=a/p*m;c.scale(g,g),c.fillStyle=i,c.fillRect(0,0,p,p),c.fillStyle=r,T?c.fill(new Path2D(w(d,f))):d.forEach((function(e,t){e.forEach((function(e,a){e&&c.fillRect(a+f,t+f,1,1)}))})),this.state.imgLoaded&&this._image&&null!=h&&c.drawImage(this._image,h.x+f,h.y+f,h.w,h.h)}}},{key:"render",value:function(){var e=this,t=this.props,a=(t.value,t.size),n=(t.level,t.bgColor,t.fgColor,t.style),r=(t.includeMargin,t.imageSettings),l=s(t,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),u=o({height:a,width:a},n),c=null,d=r&&r.src;return null!=r&&null!=d&&(c=y.createElement("img",{src:d,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(t){return e._image=t}})),y.createElement(y.Fragment,null,y.createElement("canvas",i({style:u,height:a,width:a,ref:function(t){return e._canvas=t}},l)),c)}}]),t}(y.PureComponent);g(C,"defaultProps",S);var I=function(e){function t(){return l(this,t),d(this,f(t).apply(this,arguments))}return h(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.size,n=e.level,r=e.bgColor,o=e.fgColor,l=e.includeMargin,u=e.imageSettings,c=s(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),d=new v(-1,E[n]);d.addData(b(t)),d.make();var f=d.modules;if(null===f)return null;var p=l?4:0,h=f.length+2*p,m=k(this.props,f),g=null;null!=u&&null!=m&&(null!=m.excavation&&(f=x(f,m.excavation)),g=y.createElement("image",{xlinkHref:u.src,height:m.h,width:m.w,x:m.x+p,y:m.y+p,preserveAspectRatio:"none"}));var S=w(f,p);return y.createElement("svg",i({shapeRendering:"crispEdges",height:a,width:a,viewBox:"0 0 ".concat(h," ").concat(h)},c),y.createElement("path",{fill:r,d:"M0,0 h".concat(h,"v").concat(h,"H0z")}),y.createElement("path",{fill:o,d:S}),g)}}]),t}(y.PureComponent);g(I,"defaultProps",S);var L=function(e){var t=e.renderAs,a=s(e,["renderAs"]),n="svg"===t?I:C;return y.createElement(n,a)};L.defaultProps=o({renderAs:"canvas"},S),e.exports=L},768:function(e,t,a){e.exports=a(11)(416)},771:function(e,t,a){"use strict";var n=a(4),i=a(0);a(44),a(3),a(101),a(227),a(43),a(143),a(20),a(34),a(35),a(23),a(234),a(53),a(144);var r=i(a(230));a(648);var o=i(a(619));a(99);var s=i(a(100));a(537);var l=i(a(536)),u=i(a(79));a(61);var c=i(a(62)),d=i(a(29)),f=i(a(30)),p=i(a(59)),h=i(a(32)),m=i(a(33)),g=i(a(31)),y=i(a(2)),v=n(a(1));function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){(0,h.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(E()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;return(0,d.default)(this,n),t=a.call(this,e),(0,y.default)((0,p.default)(t),"saveInputRef",(function(e){return t.input=e})),t.props.init&&t.props.init((0,p.default)(t)),t.state={tags:t.props.defaultTags?t.props.defaultTags:[],inputVisible:!1,inputValue:""},t.showInput=t.showInput.bind((0,p.default)(t)),t.handleClose=t.handleClose.bind((0,p.default)(t)),t.handleInputConfirm=t.handleInputConfirm.bind((0,p.default)(t)),t.handleInputChange=t.handleInputChange.bind((0,p.default)(t)),console.log(t.props.defaultTags),t}return(0,f.default)(n,[{key:"initTags",value:function(e){this.setState({tags:e})}},{key:"handleClose",value:function(e){var t=this.state.tags.filter((function(t){return t!==e}));this.setState({tags:t});var a=this.props.getTags;a&&a(t)}},{key:"showInput",value:function(){var e=this;this.state.tags&&this.state.tags.length>=5?c.default.error("最多只能添加5个"):this.setState({inputVisible:!0},(function(){return e.input.focus()}))}},{key:"handleInputChange",value:function(e){if("questionbank"==this.props.questionbank){if(e.target.value.length>20)return c.default.error("关键词长度不可超过20");var t=e.target.value.split(" ");this.setState({inputValue:t.join("")})}else if(e.target.value.length>10)c.default.error("长度不可超过10个字");else{t=e.target.value.split(" ");this.setState({inputValue:t.join("")})}}},{key:"handleInputConfirm",value:function(){var e=this.props.getTags,t=this.state,a=t.inputValue,n=t.tags;if(!(a.length<21))return c.default.error("长度不可超过20");if(n){var i=[];n.map((function(e,t){""!=(e=e.replace(/\s*/g,""))&&i.push(e)})),n=i}n||(n=[]),a&&-1===n.indexOf(a)&&(n=[].concat((0,u.default)(n),[a])),e&&e(n),this.setState({tags:n,inputVisible:!1,inputValue:""})}},{key:"render",value:function(){var e=this,t=this.state,a=t.tags,n=t.inputVisible,i=t.inputValue;return a||(a=[]),"look"!=this.props.type?v.default.createElement("div",{style:{float:"left"}},n&&v.default.createElement(l.default,{ref:this.saveInputRef,maxLength:"questionbank"==this.props.questionbank?20:10,type:"text",size:"small",style:{width:78,display:this.props.disable?"none":"inline-block"},value:i,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!n&&v.default.createElement(o.default,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed",display:this.props.disable?"none":"inline-block"}},v.default.createElement(s.default,{type:"plus"})," 添加"),a.map((function(t,a){if(""!=t){var n=(t=t.replace(/\s*/g,"")).length>20,i=v.default.createElement(o.default,{key:t,closable:e.props.disable?a<0:a>=0,onClose:function(){return e.handleClose(t)}},n?"".concat(t.slice(0,20),"..."):t);return n?v.default.createElement(r.default,{title:t,key:t},i):i}}))):v.default.createElement("div",null,a.map((function(e,t){if(""!=e)return e=e.replace(/\s*/g,""),v.default.createElement(o.default,{key:t},e)})))}}]),n}(v.Component);e.exports=b},799:function(e,t,a){"use strict";a.r(t);a(26),a(810)},800:function(e,t,a){e.exports=a(11)(844)},802:function(e,t,a){var n=a(803),i=a(804),r=a(805),o=a(806),s=a(708);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=l.prototype;u.addData=function(e){var t=new n(e);this.dataList.push(t),this.dataCache=null},u.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=i.getRSBlocks(e,this.errorCorrectLevel),a=new r,n=0,s=0;s<t.length;s++)n+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];a.put(l.mode,4),a.put(l.getLength(),o.getLengthInBits(l.mode,e)),l.write(a)}if(a.getLengthInBits()<=8*n)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[a][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},u.setupPositionProbePattern=function(e,t){for(var a=-1;a<=7;a++)if(!(e+a<=-1||this.moduleCount<=e+a))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+a][t+n]=0<=a&&a<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=n&&n<=4)},u.getBestMaskPattern=function(){for(var e=0,t=0,a=0;a<8;a++){this.makeImpl(!0,a);var n=o.getLostPoint(this);(0==a||e>n)&&(e=n,t=a)}return t},u.createMovieClip=function(e,t,a){var n=e.createEmptyMovieClip(t,a);this.make();for(var i=0;i<this.modules.length;i++)for(var r=1*i,o=0;o<this.modules[i].length;o++){var s=1*o;this.modules[i][o]&&(n.beginFill(0,100),n.moveTo(s,r),n.lineTo(s+1,r),n.lineTo(s+1,r+1),n.lineTo(s,r+1),n.endFill())}return n},u.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},u.setupPositionAdjustPattern=function(){for(var e=o.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var a=0;a<e.length;a++){var n=e[t],i=e[a];if(null==this.modules[n][i])for(var r=-2;r<=2;r++)for(var s=-2;s<=2;s++)this.modules[n+r][i+s]=-2==r||2==r||-2==s||2==s||0==r&&0==s}},u.setupTypeNumber=function(e){for(var t=o.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var n=!e&&1==(t>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=n}for(a=0;a<18;a++){n=!e&&1==(t>>a&1);this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=n}},u.setupTypeInfo=function(e,t){for(var a=this.errorCorrectLevel<<3|t,n=o.getBCHTypeInfo(a),i=0;i<15;i++){var r=!e&&1==(n>>i&1);i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(i=0;i<15;i++){r=!e&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r}this.modules[this.moduleCount-8][8]=!e},u.mapData=function(e,t){for(var a=-1,n=this.moduleCount-1,i=7,r=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[n][s-l]){var u=!1;r<e.length&&(u=1==(e[r]>>>i&1)),o.getMask(t,n,s-l)&&(u=!u),this.modules[n][s-l]=u,-1==--i&&(r++,i=7)}if((n+=a)<0||this.moduleCount<=n){n-=a,a=-a;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,a){for(var n=i.getRSBlocks(e,t),s=new r,u=0;u<a.length;u++){var c=a[u];s.put(c.mode,4),s.put(c.getLength(),o.getLengthInBits(c.mode,e)),c.write(s)}var d=0;for(u=0;u<n.length;u++)d+=n[u].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d||(s.put(l.PAD0,8),s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,n)},l.createBytes=function(e,t){for(var a=0,n=0,i=0,r=new Array(t.length),l=new Array(t.length),u=0;u<t.length;u++){var c=t[u].dataCount,d=t[u].totalCount-c;n=Math.max(n,c),i=Math.max(i,d),r[u]=new Array(c);for(var f=0;f<r[u].length;f++)r[u][f]=255&e.buffer[f+a];a+=c;var p=o.getErrorCorrectPolynomial(d),h=new s(r[u],p.getLength()-1).mod(p);l[u]=new Array(p.getLength()-1);for(f=0;f<l[u].length;f++){var m=f+h.getLength()-l[u].length;l[u][f]=m>=0?h.get(m):0}}var g=0;for(f=0;f<t.length;f++)g+=t[f].totalCount;var y=new Array(g),v=0;for(f=0;f<n;f++)for(u=0;u<t.length;u++)f<r[u].length&&(y[v++]=r[u][f]);for(f=0;f<i;f++)for(u=0;u<t.length;u++)f<l[u].length&&(y[v++]=l[u][f]);return y},e.exports=l},803:function(e,t,a){var n=a(706);function i(e){this.mode=n.MODE_8BIT_BYTE,this.data=e}i.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=i},804:function(e,t,a){var n=a(707);function i(e,t){this.totalCount=e,this.dataCount=t}i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var a=i.getRsBlockTable(e,t);if(null==a)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=a.length/3,r=new Array,o=0;o<n;o++)for(var s=a[3*o+0],l=a[3*o+1],u=a[3*o+2],c=0;c<s;c++)r.push(new i(l,u));return r},i.getRsBlockTable=function(e,t){switch(t){case n.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case n.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case n.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case n.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=i},805:function(e,t){function a(){this.buffer=new Array,this.length=0}a.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var a=0;a<t;a++)this.putBit(1==(e>>>t-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=a},806:function(e,t,a){var n=a(706),i=a(708),r=a(709),o=0,s=1,l=2,u=3,c=4,d=5,f=6,p=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,a){switch(e){case o:return(t+a)%2==0;case s:return t%2==0;case l:return a%3==0;case u:return(t+a)%3==0;case c:return(Math.floor(t/2)+Math.floor(a/3))%2==0;case d:return t*a%2+t*a%3==0;case f:return(t*a%2+t*a%3)%2==0;case p:return(t*a%3+(t+a)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new i([1],0),a=0;a<e;a++)t=t.multiply(new i([1,r.gexp(a)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),a=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var r=0,o=e.isDark(n,i),s=-1;s<=1;s++)if(!(n+s<0||t<=n+s))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||0==s&&0==l||o==e.isDark(n+s,i+l)&&r++;r>5&&(a+=3+r-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var u=0;e.isDark(n,i)&&u++,e.isDark(n+1,i)&&u++,e.isDark(n,i+1)&&u++,e.isDark(n+1,i+1)&&u++,0!=u&&4!=u||(a+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(a+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(a+=40);var c=0;for(i=0;i<t;i++)for(n=0;n<t;n++)e.isDark(n,i)&&c++;return a+=10*(Math.abs(100*c/t/t-50)/5)}};e.exports=h},810:function(e,t,a){},823:function(e,t,a){"use strict";var n=a(4),i=a(0);a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(98));a(140);var o=i(a(535));a(556);var s=i(a(553)),l=i(a(29)),u=i(a(30)),c=i(a(59)),d=i(a(32)),f=i(a(33)),p=i(a(31)),h=i(a(2));a(592);var m=i(a(566));a(540);var g=i(a(539)),y=n(a(1)),v=i(a(223));function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=g.default.Item,S=(m.default.MonthPicker,m.default.RangePicker,m.default.WeekPicker,function(e){(0,d.default)(n,e);var t,a=(t=n,function(){var e,a=(0,p.default)(t);if(E()){var n=(0,p.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,f.default)(this,e)});function n(e){var t;return(0,l.default)(this,n),t=a.call(this,e),(0,h.default)((0,c.default)(t),"changeValue",(function(e){t.setState({taskValue:e.target.value}),t.props.changeTask(e.target.value)})),t.state={taskValue:e.taskValue?e.taskValue:0,type:e.type?e.type:0,startDate:e.startDate?e.startDate:null,endDate:e.endDate?e.endDate:null,disabled:!!e.disabled&&e.disabled,formItemLayout:e.formItemLayout?e.formItemLayout:{labelCol:{span:4},wrapperCol:{span:16}},hasButton:!!e.hasButton&&e.hasButton},t}return(0,u.default)(n,[{key:"componentWillReceiveProps",value:function(e){e.taskValue!=this.props.taskValue&&this.setState({taskValue:e.taskValue}),e.startDate!=this.props.startDate&&this.setState({startDate:e.startDate}),e.endDate!=this.props.endDate&&this.setState({endDate:e.endDate})}},{key:"render",value:function(){var e=this,t=this.state,a=t.taskValue,n=t.type,i=t.startDate,l=t.endDate,u=t.disabled,c=t.formItemLayout,d=t.hasButton,f=i?(0,v.default)(i).format("YYYY-MM-DD HH:mm:ss"):null,p=l?(0,v.default)(l).format("YYYY-MM-DD HH:mm:ss"):null,h=1==a&&1==n;return y.default.createElement("div",null,y.default.createElement(b,(0,r.default)({},c,{label:"在日历任务中显示："}),this.props.getFieldDecorator("taskValue",{rules:[],initialValue:1==a?1:0})(y.default.createElement(s.default.Group,{onChange:this.changeValue,disabled:u},y.default.createElement(s.default,{value:1},"显示"),y.default.createElement(s.default,{value:0},"不显示"))),d?y.default.createElement(o.default,{type:"primary",onClick:function(){return e.props.editFormValue("taskValue")}},"确定修改"):""),h?y.default.createElement(b,(0,r.default)({},c,{label:"显示时间段："}),this.props.getFieldDecorator("taskDate",{rules:[{required:!0,message:"请选择时间"}],initialValue:[f?(0,v.default)(f,"YYYY-MM-DD HH:mm:ss"):null,p?(0,v.default)(p,"YYYY-MM-DD HH:mm:ss"):null]})(y.default.createElement(m.default.RangePicker,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",onChange:this.props.getTime,disabled:u,getCalendarContainer:function(e){return e.parentNode}}))):"")}}]),n}(y.Component));t.default=S},903:function(e,t,a){"use strict";a.r(t),a.d(t,"actionChannel",(function(){return V})),a.d(t,"all",(function(){return R})),a.d(t,"apply",(function(){return Q})),a.d(t,"call",(function(){return A})),a.d(t,"cancel",(function(){return N})),a.d(t,"cancelled",(function(){return _})),a.d(t,"cps",(function(){return M})),a.d(t,"delay",(function(){return K})),a.d(t,"effectTypes",(function(){return w})),a.d(t,"flush",(function(){return j})),a.d(t,"fork",(function(){return P})),a.d(t,"getContext",(function(){return F})),a.d(t,"join",(function(){return q})),a.d(t,"put",(function(){return I})),a.d(t,"putResolve",(function(){return L})),a.d(t,"race",(function(){return D})),a.d(t,"select",(function(){return U})),a.d(t,"setContext",(function(){return z})),a.d(t,"spawn",(function(){return B})),a.d(t,"take",(function(){return T})),a.d(t,"takeMaybe",(function(){return C})),a.d(t,"debounce",(function(){return se})),a.d(t,"retry",(function(){return oe})),a.d(t,"takeEvery",(function(){return ae})),a.d(t,"takeLatest",(function(){return ne})),a.d(t,"takeLeading",(function(){return ie})),a.d(t,"throttle",(function(){return re}));var n=function(e){return"@@redux-saga/"+e},i=n("CANCEL_PROMISE"),r=n("IO"),o=n("MULTICAST"),s=n("SELF_CANCELLATION"),l=a(39),u=function(e){return null!=e},c=function(e){return"function"==typeof e},d=function(e){return"string"==typeof e},f=Array.isArray,p=function e(t){return t&&(d(t)||m(t)||c(t)||f(t)&&t.every(e))},h=function(e){return e&&c(e.take)&&c(e.close)},m=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var g=function(e,t){var a;void 0===t&&(t=!0);var n=new Promise((function(n){a=setTimeout(n,e,t)}));return n[i]=function(){clearTimeout(a)},n};var y=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var v=function(e){throw e},E=function(e){return{value:e,done:!0}};function b(e,t){void 0===e&&(e=10);var a=new Array(e),n=0,i=0,r=0,o=function(t){a[i]=t,i=(i+1)%e,n++},s=function(){if(0!=n){var t=a[r];return a[r]=null,n--,r=(r+1)%e,t}},l=function(){for(var e=[];n;)e.push(s());return e};return{isEmpty:function(){return 0==n},put:function(s){var u;if(n<e)o(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:a[i]=s,r=i=(i+1)%e;break;case 4:u=2*e,a=l(),n=a.length,i=a.length,r=0,a.length=u,e=u,o(s)}},take:s,flush:l}}var S=function(e){return b(e,3)},w=Object.freeze({__proto__:null,TAKE:"TAKE",PUT:"PUT",ALL:"ALL",RACE:"RACE",CALL:"CALL",CPS:"CPS",FORK:"FORK",JOIN:"JOIN",CANCEL:"CANCEL",SELECT:"SELECT",ACTION_CHANNEL:"ACTION_CHANNEL",CANCELLED:"CANCELLED",FLUSH:"FLUSH",GET_CONTEXT:"GET_CONTEXT",SET_CONTEXT:"SET_CONTEXT"}),x=function(e,t){var a;return(a={})[r]=!0,a.combinator=!1,a.type=e,a.payload=t,a},k=function(e){return x("FORK",Object(l.default)({},e.payload,{detached:!0}))};function T(e,t){return void 0===e&&(e="*"),p(e)?x("TAKE",{pattern:e}):h(a=e)&&a[o]&&u(t)&&p(t)?x("TAKE",{channel:e,pattern:t}):h(e)?x("TAKE",{channel:e}):void 0;var a}var C=function(){var e=T.apply(void 0,arguments);return e.payload.maybe=!0,e};function I(e,t){return null==t&&(t=e,e=void 0),x("PUT",{channel:e,action:t})}var L=function(){var e=I.apply(void 0,arguments);return e.payload.resolve=!0,e};function R(e){var t=x("ALL",e);return t.combinator=!0,t}function D(e){var t=x("RACE",e);return t.combinator=!0,t}function O(e,t){var a,n=null;return c(e)?a=e:(f(e)?(n=e[0],a=e[1]):(n=e.context,a=e.fn),n&&d(a)&&c(n[a])&&(a=n[a])),{context:n,fn:a,args:t}}function A(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return x("CALL",O(e,a))}function Q(e,t,a){void 0===a&&(a=[]);return x("CALL",O([e,t],a))}function M(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return x("CPS",O(e,a))}function P(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return x("FORK",O(e,a))}function B(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return k(P.apply(void 0,[e].concat(a)))}function q(e){return x("JOIN",e)}function N(e){return void 0===e&&(e=s),x("CANCEL",e)}function U(e){void 0===e&&(e=y);for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return x("SELECT",{selector:e,args:a})}function V(e,t){return x("ACTION_CHANNEL",{pattern:e,buffer:t})}function _(){return x("CANCELLED",{})}function j(e){return x("FLUSH",e)}function F(e){return x("GET_CONTEXT",e)}function z(e){return x("SET_CONTEXT",e)}var K=A.bind(null,g),G=function(e){return{done:!0,value:e}},Y={};function H(e){return h(e)?"channel":c(t=e)&&t.hasOwnProperty("toString")?String(e):c(e)?e.name:String(e);var t}function W(e,t,a){var n,i,r,o=t;function s(t,a){if(o===Y)return G(t);if(a&&!i)throw o=Y,a;n&&n(t);var s=a?e[i](a):e[o]();return o=s.nextState,r=s.effect,n=s.stateUpdater,i=s.errorState,o===Y?G(t):r}return function(e,t,a){void 0===t&&(t=v),void 0===a&&(a="iterator");var n={meta:{name:a},next:e,throw:t,return:E,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(n[Symbol.iterator]=function(){return n}),n}(s,(function(e){return s(null,e)}),a)}function X(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];var r,o={done:!1,value:T(e)},s=function(e){return{done:!1,value:P.apply(void 0,[t].concat(n,[e]))}},l=function(e){return r=e};return W({q1:function(){return{nextState:"q2",effect:o,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:s(r)}}},"q1","takeEvery("+H(e)+", "+t.name+")")}function $(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];var r,o,s={done:!1,value:T(e)},l=function(e){return{done:!1,value:P.apply(void 0,[t].concat(n,[e]))}},u=function(e){return{done:!1,value:N(e)}},c=function(e){return r=e},d=function(e){return o=e};return W({q1:function(){return{nextState:"q2",effect:s,stateUpdater:d}},q2:function(){return r?{nextState:"q3",effect:u(r)}:{nextState:"q1",effect:l(o),stateUpdater:c}},q3:function(){return{nextState:"q1",effect:l(o),stateUpdater:c}}},"q1","takeLatest("+H(e)+", "+t.name+")")}function J(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];var r,o={done:!1,value:T(e)},s=function(e){return{done:!1,value:A.apply(void 0,[t].concat(n,[e]))}},l=function(e){return r=e};return W({q1:function(){return{nextState:"q2",effect:o,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:s(r)}}},"q1","takeLeading("+H(e)+", "+t.name+")")}function Z(e,t,a){for(var n=arguments.length,i=new Array(n>3?n-3:0),r=3;r<n;r++)i[r-3]=arguments[r];var o,s,l={done:!1,value:V(t,S(1))},u=function(){return{done:!1,value:T(s)}},c=function(e){return{done:!1,value:P.apply(void 0,[a].concat(i,[e]))}},d={done:!1,value:K(e)},f=function(e){return o=e},p=function(e){return s=e};return W({q1:function(){return{nextState:"q2",effect:l,stateUpdater:p}},q2:function(){return{nextState:"q3",effect:u(),stateUpdater:f}},q3:function(){return{nextState:"q4",effect:c(o)}},q4:function(){return{nextState:"q2",effect:d}}},"q1","throttle("+H(t)+", "+a.name+")")}function ee(e,t,a){for(var n=e,i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];var s={done:!1,value:A.apply(void 0,[a].concat(r))},l={done:!1,value:K(t)};return W({q1:function(){return{nextState:"q2",effect:s,errorState:"q10"}},q2:function(){return{nextState:Y}},q10:function(e){if((n-=1)<=0)throw e;return{nextState:"q1",effect:l}}},"q1","retry("+a.name+")")}function te(e,t,a){for(var n=arguments.length,i=new Array(n>3?n-3:0),r=3;r<n;r++)i[r-3]=arguments[r];var o,s,l={done:!1,value:T(t)},u={done:!1,value:D({action:T(t),debounce:K(e)})},c=function(e){return{done:!1,value:P.apply(void 0,[a].concat(i,[e]))}},d=function(e){return{done:!1,value:e}},f=function(e){return o=e},p=function(e){return s=e};return W({q1:function(){return{nextState:"q2",effect:l,stateUpdater:f}},q2:function(){return{nextState:"q3",effect:u,stateUpdater:p}},q3:function(){return s.debounce?{nextState:"q1",effect:c(o)}:{nextState:"q2",effect:d(s.action),stateUpdater:f}}},"q1","debounce("+H(t)+", "+a.name+")")}function ae(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];return P.apply(void 0,[X,e,t].concat(n))}function ne(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];return P.apply(void 0,[$,e,t].concat(n))}function ie(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];return P.apply(void 0,[J,e,t].concat(n))}function re(e,t,a){for(var n=arguments.length,i=new Array(n>3?n-3:0),r=3;r<n;r++)i[r-3]=arguments[r];return P.apply(void 0,[Z,e,t,a].concat(i))}function oe(e,t,a){for(var n=arguments.length,i=new Array(n>3?n-3:0),r=3;r<n;r++)i[r-3]=arguments[r];return A.apply(void 0,[ee,e,t,a].concat(i))}function se(e,t,a){for(var n=arguments.length,i=new Array(n>3?n-3:0),r=3;r<n;r++)i[r-3]=arguments[r];return P.apply(void 0,[te,e,t,a].concat(i))}}}]);