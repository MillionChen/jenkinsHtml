(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{1014:function(e,t,a){"use strict";var n=a(4),r=a(0);a(7),a(3),a(5),a(40),a(9),a(10),a(8),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.getExamList=function(e,t){var a=c.default.examList,n=function(e){var t={};e?(t.pageNo=e.pageindex,t.pageSize=e.pagesize,e.examKeyword&&(t.name=e.examKeyword),e.status&&(t.state=e.status),e.libraryKey&&(t.libraryKey=e.libraryKey),e.stemKey&&(t.stemKey=e.stemKey),e.type&&(t.type=e.type)):(t.pageNo=1,t.pageSize=20);return t}(e);return function(e){return e({type:s.FETCHING}),(0,l.default)({url:a,data:n}).then((function(a){e({type:s.EXAMLIST,data:a}),t&&t()}))}},t.getExamInfo=function(e,t){var a=c.default.getExamInfo,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:s.EXAMINFO,data:a}),t&&t()}))}},t.getExamPreview=function(e,t,a){var n=c.default.getExamPreview,r={examTitleId:e};return function(e){return(0,l.default)({url:n,data:r}).then((function(n){e({type:s.EXAMPREVIEW,data:n}),t&&t(),a&&a()}))}},t.getQuestionBankList=function(e){var t=c.default.getQuestionBankList,a={};e?(a.pageNo=e.pageindex,a.pageSize=e.pagesize,e.questionBankKeyword&&(a.name=e.questionBankKeyword),e.useStatus&&(a.state=e.useStatus)):(a.pageNo=1,a.pageSize=20);return function(e){return(0,l.default)({url:t,data:a}).then((function(t){e({type:s.QUESTIONBANKLIST,data:t})}))}},t.getLibraryCount=function(e,t){var a=c.default.getLibraryCount,n={examId:e.examId,libraryId:e.libraryId};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:s.LIBRARYCOUNT,data:a}),t&&t(a)}))}},t.setExamSort=function(e,t){var a=c.default.setExamSort;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.SETEXAMSORT,data:e}),t&&t(e)}))}},t.postQuestionMove=function(e,t){var a=c.default.postQuestionMove;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){t&&t(e)}))}},t.postNewsList=function(e,t){var a=c.default.postNewsList,n=_(a,e);return delete e.type,function(e){return(0,l.default)({url:a,data:n}).then((function(a){var n=[];a.data.map((function(e){n.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{name:e.title,content:e.context}))})),a.data=n,console.log("res",a),e({type:s.NEWSLIST,data:a}),t&&t(a)}))}},t.getQuestionLists=function(e,t){var a=c.default.getQuestionLists,n=_(a,e);return function(e){return e({type:s.QUESTIONFETCHINGS}),(0,l.default)({url:a,data:n}).then((function(a){e({type:s.QUESTIONLISTS,data:a}),t&&t(a)}))}},t.getSelectQuestionList=function(e){var t=c.default.getSelectQuestionList,a={};a.pageNo=e.pageindex,a.pageSize=e.pagesize,a.examId=e.examId,e.examKeyword&&(a.name=e.examKeyword);e.status&&(a.state=e.status);e.libraryKey&&(a.libraryKey=e.libraryKey);e.stemKey&&(a.stemKey=e.stemKey);e.type&&(a.type=e.type);e.libraryId&&(a.libraryId=e.libraryId);return function(e){return e({type:s.SELECTFETCHING}),(0,l.default)({url:t,data:a}).then((function(t){e({type:s.SELECTQUESTIONLIST,data:t})}))}},t.insertQuestion=function(e,t){var a=c.default.insertQuestion;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.INSERTQUESTION,data:e}),t&&t(e)}))}},t.setQuestionScore=function(e,t){var a=c.default.setQuestionScore;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.SETQUESTIONSCORE,data:e}),t&&t(e)}))}},t.deleteQuestions=function(e,t){var a=c.default.deleteQuestions;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.DELETEQUESTIONS,data:e}),t&&t(e)}))}},t.importQuestions=function(e,t){var a=c.default.importQuestions;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.IMPORTQ,data:e}),t&&t(e)}))}},t.upExam=function(e,t){var a=c.default.upExam,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:s.UP,data:a}),t&&t({code:a.code,msg:a.subMsg})}))}},t.downExam=function(e,t){var a=c.default.downExam,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:s.DOWN,data:a}),t&&t({code:a.code,msg:a.subMsg})}))}},t.copyExam=function(e,t){var a=c.default.copyExam,n={id:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:s.COPY,data:a}),t&&t({code:a.code,msg:a.subMsg})}))}},t.deleteExams=function(e,t){var a=c.default.deleteExams;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.DELETEEXAM,data:e}),t&&t()}))}},t.examBasicInfo=function(e,t,a){var n="";n="create"==e?c.default.createExam:c.default.updateExam;return function(e){return(0,l.default)({url:n,data:t}).then((function(t){e({type:s.EXAMBASICINFO,data:t}),a&&a()}))}},t.saveExamStrategy=function(e,t){var a=c.default.saveExamStrategy;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.EXAMRANGE,data:e}),t&&t()}))}},t.postQuestionRule=function(e,t){var a=c.default.postQuestionRule;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.QUESTIONRULE,data:e}),"1000"==e.code&&i.default.success("保存成功！"),t&&t()}))}},t.setExamRange=function(e,t){var a=c.default.setExamRange;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.EXAMSTRATEGY,data:e}),t&&t()}))}},t.getExamRange=function(e,t){var a=c.default.getExamRange,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:s.GETEXAMRANGE,data:a}),t&&t(a)}))}},t.publishExam=function(e,t,a){var n=c.default.publishExam;return function(a){return(0,l.default)({url:n,data:e}).then((function(e){a({type:s.PUBLISHEXAM,data:e}),t&&t(e)}))}},t.getExamInfoSum=function(e,t){var a=c.default.getExamInfoSum,n={examTitleId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:s.EXAMINFOSUM,data:a}),t&&t(a)}))}},t.setExamViewRange=function(e,t){var a=c.default.setExamViewRange;return function(n){return(0,l.default)({url:a,data:e}).then((function(e){n({type:s.EXAMVIEWRANGE,data:e}),t&&t(e)}))}},t.getSeeQuestionSelect=function(e,t){var a=c.default.getSeeQuestionSelect,n={examId:e};return function(e){return(0,l.default)({url:a,data:n}).then((function(a){e({type:s.SEEQUESTIONSELECT,data:a}),t&&t(a)}))}},t.cleanUpCach=function(e,t){return function(t){t({type:s.CLEANUPCACH,data:e})}},t.setRelease=t.releaseProv=t.cleanCach=t.newsList=t.questionRule=t.ger=t.evr=t.examRange=t.eis=t.ei=t.publishe=t.setes=t.setqs=t.deleteQ=t.importQ=t.insertQ=t.examstrategy=t.selectFetching=t.selectQuestionList=t.examBI=t.deleteExam=t.down=t.up=t.questionFetching=t.fetching=t.examPreview=t.questionList=t.examList=void 0,a(61);var i=r(a(62)),o=r(a(2)),u=a(233),l=(a(84),r(a(78))),s=n(a(253)),c=r(a(1309));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var f=(0,u.createAction)(s.EXAMLIST);t.examList=f;(0,u.createAction)(s.QUESTIONBANKLIST),(0,u.createAction)(s.LIBRARYCOUNT);var m=(0,u.createAction)(s.QUESTIONLISTS);t.questionList=m;var p=(0,u.createAction)(s.EXAMPREVIEW);t.examPreview=p;var g=(0,u.createAction)(s.SELECTQUESTIONLIST);t.selectQuestionList=g;var E=(0,u.createAction)(s.SELECTFETCHING);t.selectFetching=E;var y=(0,u.createAction)(s.FETCHING);t.fetching=y;var h=(0,u.createAction)(s.QUESTIONFETCHINGS);t.questionFetching=h;var v=(0,u.createAction)(s.QUESTIONRULE);t.questionRule=v;var x=(0,u.createAction)(s.UP);t.up=x;var b=(0,u.createAction)(s.DOWN);t.down=b;(0,u.createAction)(s.COPY);var S=(0,u.createAction)(s.DELETEEXAM);t.deleteExam=S;var T=(0,u.createAction)(s.EXAMBASICINFO);t.examBI=T;var w=(0,u.createAction)(s.EXAMSTRATEGY);t.examstrategy=w;var I=(0,u.createAction)(s.INSERTQUESTION);t.insertQ=I;var L=(0,u.createAction)(s.IMPORTQ);t.importQ=L;var O=(0,u.createAction)(s.DELETEQUESTIONS);t.deleteQ=O;var R=(0,u.createAction)(s.SETQUESTIONSCORE);t.setqs=R;var A=(0,u.createAction)(s.SETEXAMSORT);t.setes=A;var k=(0,u.createAction)(s.PUBLISHEXAM);t.publishe=k;var C=(0,u.createAction)(s.EXAMINFO);t.ei=C;var P=(0,u.createAction)(s.EXAMRANGE);t.examRange=P;var U=(0,u.createAction)(s.EXAMINFOSUM);t.eis=U;var M=(0,u.createAction)(s.EXAMVIEWRANGE);t.evr=M;var N=(0,u.createAction)(s.GETEXAMRANGE);t.ger=N;var Q=(0,u.createAction)(s.NEWSLIST);t.newsList=Q;(0,u.createAction)(s.SEEQUESTIONSELECT);var K=(0,u.createAction)(s.CLEANUPCACH);t.cleanCach=K;t.releaseProv=function(e,t){return function(t){t({type:s.RELEASEPROV,data:e})}};function _(e,t){var a={};return t?(a.pageNo=t.pageindex,a.pageSize=t.pagesize,t.relationType&&(a.relationType=t.relationType),t.id&&(a.examId=t.id)):(a.pageNo=1,a.pageSize=20),a}t.setRelease=function(e,t){return function(t){t({type:s.SETRELEASEP,data:e})}}},1023:function(e,t,a){"use strict";var n=a(4),r=a(0);a(143),a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var i=r(a(225));a(580);var o=r(a(571));a(99);var u=r(a(100));a(140);var l=r(a(535));a(61);var s=r(a(62)),c=r(a(29)),d=r(a(30)),f=r(a(59)),m=r(a(32)),p=r(a(33)),g=r(a(31)),E=r(a(2));a(554);var y=r(a(550));a(540);var h=r(a(539)),v=n(a(1)),x=a(561),b=a(618),S=a(52);function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=h.default.Item,I=(y.default.Option,function(e){(0,m.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(T()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,p.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,E.default)((0,f.default)(t),"beforeUpload",(function(e,a){if(!/(xls|xlsx)$/g.test(e.name))return t.props.form.resetFields(""),t.setState({fileList:[]}),s.default.error("文件类型不对，参照格式上传"),!1;if(console.log(e.type),a.length>1)return s.default.error("一次只能导入一个文件"),void t.setState({fileList:[]});t.setState({fileList:a});var n=t.props.param;t.setState({uploadParams:{Filename:n.dir+"/"+e.name,key:n.dir+"/"+e.name,policy:n.policy,OSSAccessKeyId:n.accessid,success_action_status:"200",signature:n.signature},uploadAction:n.host,originalFile:e.name,originalFileUrl:n.host+"/"+n.dir+"/"+e.name})})),(0,E.default)((0,f.default)(t),"handleChange",(function(e){console.log(t.state),console.log(e);var a=e.fileList;a=a.slice(-1),e.file.status,"done"===e.file.status&&t.setState({fileList:a}),"error"===e.file.status&&(s.default.error("上传失败，请重新尝试"),t.setState({fileList:[]}))})),(0,E.default)((0,f.default)(t),"normFile",(function(e){return Array.isArray(e)?e:e&&t.state.fileList})),(0,E.default)((0,f.default)(t),"toUpload",(function(){t.props.gupfetch(),t.setState({vsb:!0})})),(0,E.default)((0,f.default)(t),"closeMode",(function(){t.setState({vsb:!1})})),(0,E.default)((0,f.default)(t),"handleSubmit",(function(){var e=t.state.originalFileUrl,a=t.props,n=a.scopeId,r=a.urlParameter;t.props.form.validateFields((function(a,i){if(console.log(i),a)console.log(a);else{if(!i.upload)return s.default.info("请导入表格"),!1;var o={ossUrl:e,bizdId:n};t.props.importUsers(r,o,(function(e){1e3==+e.code?(s.default.success("已成功创建导入任务，任务编号".concat(e.data,"请至任务中查看完成情况")),t.closeMode()):s.default.error(e.subMsg)}))}}))})),t.state={uploadParams:{},uploadAction:{},originalFile:"",originalFileUrl:"",fileList:[],key:""},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.uploadAction,n=t.uploadParams,r=(this.props.handleCancel,this.props.form.getFieldDecorator);return v.default.createElement("div",{key:this.state.key},v.default.createElement("a",{onClick:this.toUpload},"导入可见范围"),this.state.vsb&&v.default.createElement(i.default,{title:"导入可见范围",visible:this.state.vsb,onOk:this.closeMode,onCancel:this.closeMode,footer:null},v.default.createElement(h.default,null,v.default.createElement("div",{style:{display:"block",textAlign:"center"}},v.default.createElement(w,{extra:"请上传资源附件（附件格式：xls,xlsx）"},r("upload",{valuePropName:"fileList",getValueFromEvent:this.normFile})(v.default.createElement("span",null,v.default.createElement(l.default,{style:{fontSize:"12px",marginRight:"20px",border:"1px solid #1890ff",color:"#1890ff"},href:this.props.downUrl?this.props.downUrl:"https://customproject.oss-cn-shanghai.aliyuncs.com/template/account_import_template.xlsx"},"下载用户模板"),0===this.state.fileList.length?v.default.createElement(o.default,{style:{display:"inline-block"},headers:{"X-Requested-With":null},beforeUpload:this.beforeUpload,action:a,data:n,onChange:this.handleChange,onRemove:function(){return e.setState({fileList:[]})}},v.default.createElement("a",{type:"primary"},v.default.createElement(u.default,{type:"upload"})," 导入可见范围")):v.default.createElement(o.default,{style:{display:"inline-block"},headers:{"X-Requested-With":null},beforeUpload:this.beforeUpload,action:a,data:n,onChange:this.handleChange,onRemove:function(){return e.setState({fileList:[]})}},v.default.createElement("a",{type:"primary",disabled:!0},v.default.createElement(u.default,{type:"upload"})," 导入可见范围"))))))),v.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},v.default.createElement(l.default,{type:"default",style:{marginRight:"16px"},onClick:function(){e.closeMode()}},"取消"),v.default.createElement(l.default,{type:"primary",style:{marginLeft:"32px"},onClick:this.handleSubmit},"确定"))))}}]),n}(v.Component));var L=(0,S.connect)((function(e,t){return{param:e.uploadParam.param,list:e.materialReducer.list,details:e.materialReducer.details,type:e.materialReducer.type}}),(function(e){return{gupfetch:function(){return e((0,x.gupfetch)())},importUsers:function(t,a,n){return e((0,b.importUsers)(t,a,n))}}}))(h.default.create()(I));t.default=L},1309:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),i={examList:"GET ".concat(r.default.webManage,"/exam/list"),getExamInfo:"GET ".concat(r.default.webManage,"/exam/view"),getExamPreview:"GET ".concat(r.default.webManage,"/exam/question/exam/preview"),getQuestionBankList:"GET ".concat(r.default.webManage,"/question/list"),getLibraryCount:"GET ".concat(r.default.webManage,"/question/library/type/count"),setExamSort:"POST ".concat(r.default.webManage,"/exam/question/select/list"),postQuestionMove:"POST ".concat(r.default.webManage,"/exam/question/move"),postNewsList:"GET ".concat(r.default.webManage,"/manage/message/getList"),getQuestionLists:"GET ".concat(r.default.webManage,"/exam/question/list"),getSelectQuestionList:"GET ".concat(r.default.webManage,"/exam/question/select/list"),insertQuestion:"POST ".concat(r.default.webManage,"/exam/question/insertall"),setQuestionScore:"POST ".concat(r.default.webManage,"/exam/question/update/score"),deleteQuestions:"POST ".concat(r.default.webManage,"/exam/question/delete/all"),importQuestions:"POST ".concat(r.default.webManage,"/exam/question/export"),upExam:"POST ".concat(r.default.webManage,"/exam/put/up"),downExam:"POST ".concat(r.default.webManage,"/exam/put/down"),copyExam:"POST ".concat(r.default.webManage,"/exam/copy"),deleteExams:"POST ".concat(r.default.webManage,"/exam/deletes"),createExam:"POST ".concat(r.default.webManage,"/exam/info/insert"),updateExam:"POST ".concat(r.default.webManage,"/exam/info/update"),saveExamStrategy:"POST ".concat(r.default.webManage,"/exam/strategy/insert"),postQuestionRule:"POST ".concat(r.default.webManage,"/exam/system/question/insert/all"),setExamRange:"POST ".concat(r.default.webManage,"/exam/insert/authorize/list"),getExamRange:"GET ".concat(r.default.webManage,"/exam/authorize/list"),publishExam:"POST ".concat(r.default.webManage,"/exam/release"),getExamInfoSum:"GET ".concat(r.default.webManage,"/exam/question/exam/preview"),setExamViewRange:"POST ".concat(r.default.webManage,"/exam/insert/authorize/list"),getSeeQuestionSelect:"GET ".concat(r.default.webManage,"/exam/system/question/select")};t.default=i},1391:function(e,t,a){"use strict";var n=a(4),r=a(0);a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(564);var i=r(a(563));a(61);var o=r(a(62)),u=r(a(29)),l=r(a(30)),s=r(a(32)),c=r(a(33)),d=r(a(31)),f=n(a(1)),m=a(618),p=a(52);function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){(0,s.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(g()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,u.default)(this,n),(t=a.call(this,e)).state={btnName:"导出可见范围"},t}return(0,l.default)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"changeUpDown",value:function(){var e,t=this.props,a=t.urlParameter,n=t.scopeId;switch(a){case"assignment":e={assignmentId:n};break;case"exam":e={examId:n};break;case"course":e={courseId:n};break;case"research":e={researchId:n};break;case"vote":e={voteId:n};break;case"live":e={liveId:n};break;case"trainingProject":e={trainingProjectId:n};break;case"experiencePool":e={poolId:n};break;case"caseLibrary":e={caseLibraryId:n}}this.props.exportUsers(a,e,(function(e){1e3==e.code?o.default.success("导出成功：任务编号"+e.data):o.default.error("导出失败")}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;this.state.btnName,this.props.urlParameter;return f.default.createElement("span",{className:"exportBtn-box"},f.default.createElement(i.default,{title:"是否导出",onConfirm:function(){return e.changeUpDown()}},f.default.createElement("a",{className:"marr20",href:"void(0)"},this.state.btnName)))}}]),n}(f.Component),y=(0,p.connect)(null,(function(e){return{exportUsers:function(t,a,n){return e((0,m.exportUsers)(t,a,n))}}}))(E);t.default=y},2025:function(e,t,a){"use strict";var n=a(4),r=a(0);a(51),a(20),a(34),a(35),a(23),a(229),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(549);var i=r(a(544));a(140);var o=r(a(535));a(146);var u=r(a(150));a(61);var l=r(a(62));a(590);var s=r(a(591)),c=r(a(29)),d=r(a(30)),f=r(a(59)),m=r(a(32)),p=r(a(33)),g=r(a(31)),E=r(a(2));a(556);var y=r(a(553));a(537);var h=r(a(536));a(540);var v=r(a(539));a(575);var x=r(a(568));a(554);var b=r(a(550)),S=n(a(1)),T=r(a(226)),w=r(a(1391)),I=r(a(1023)),L=r(a(141));a(2026);var O=a(65),R=a(52),A=a(1014);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}b.default.Option;var C=x.default.TabPane,P=(v.default.Item,h.default.TextArea,y.default.Group,"1"),U="2",M="3";var N=function(e){(0,m.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(k()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,p.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,E.default)((0,f.default)(t),"examCopy",(function(e){console.log(e);var a=t.props.copyExam,n=(0,f.default)(t);a(e,(function(){n.refreshExamList()}))})),t=a.call(this,e),(0,E.default)((0,f.default)(t),"examCopy",(function(e){console.log(e);var a=t.props.copyExam,n=(0,f.default)(t);a(e,(function(){n.refreshExamList()}))})),self=(0,f.default)(t),t.state={locale:{no:"还没有创建考试",yes:"未搜索到相关信息"},page:1,pagesize:20,tabsKey:U,examKeyword:"",selectedRowKeys:[],selectedExam:[],formItemLayout:{labelCol:{span:4},wrapperCol:{span:20}}},t.onSelectChange=t.onSelectChange.bind((0,f.default)(t)),t.getExamKeyword=t.getExamKeyword.bind((0,f.default)(t)),t.search=t.search.bind((0,f.default)(t)),t.deleteExam=t.deleteExam.bind((0,f.default)(t)),t.tabChange=t.tabChange.bind((0,f.default)(t)),t.examUp=t.examUp.bind((0,f.default)(t)),t.examDown=t.examDown.bind((0,f.default)(t)),t.refreshExamList=t.refreshExamList.bind((0,f.default)(t)),t.pageChange=t.pageChange.bind((0,f.default)(t)),t.upColumns=[{title:"序号",dataIndex:"code",key:"code"},{title:"考试名称",dataIndex:"name",key:"name",width:300,render:function(e){return S.default.createElement("span",{title:e,style:{width:300,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"}},e)}},{title:"考试时间",dataIndex:"time",key:"time",render:function(e){return S.default.createElement("div",null,S.default.createElement("p",null,"开始时间：",L.default.formateTime(e.startTime)),S.default.createElement("p",null,"结束时间：",L.default.formateTime(e.endTime)))}},{title:"上架时间",dataIndex:"upTime",key:"upTime"},{title:"操作",key:"action",dataIndex:"action",render:function(e,t){return S.default.createElement("div",{className:"operation"},S.default.createElement(O.Link,{to:{pathname:"/"+L.default.companyCode+"/"+L.default.siteCode+"/index/tool/test/test-management/look",search:"?id=".concat(e.id),state:{id:e.id}}},S.default.createElement("a",{style:{marginRight:16},href:"javascript:void(0)"},"查看")),S.default.createElement("a",{style:{marginRight:16},href:"javascript:void(0)",onClick:function(){return self.examDown(e.id)}},"下架"),S.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return self.examCopy(e.id)}},"复制"),2===e.visibleRange?S.default.createElement(s.default,{type:"vertical"}):null,2===e.visibleRange?S.default.createElement("span",null,S.default.createElement(I.default,{urlParameter:"exam",scopeId:e.id}),S.default.createElement(w.default,{urlParameter:"exam",scopeId:e.id})):null)}}],t.downColumns=[{title:"序号",dataIndex:"code",key:"code"},{title:"考试名称",dataIndex:"name",key:"name",width:300,render:function(e){return S.default.createElement("span",{title:e,style:{width:300,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"}},e)}},{title:"考试时间",dataIndex:"time",key:"time",render:function(e){return S.default.createElement("div",null,S.default.createElement("p",null,"开始时间：",L.default.formateTime(e.startTime)),S.default.createElement("p",null,"结束时间：",L.default.formateTime(e.endTime)))}},{title:"下架时间",dataIndex:"downTime",key:"downTime"},{title:"操作",key:"action",dataIndex:"action",render:function(e,a){return S.default.createElement("div",{className:"operation"},S.default.createElement(O.Link,{to:{pathname:"/"+L.default.companyCode+"/"+L.default.siteCode+"/index/tool/test/test-management/edit",search:"?id=".concat(e.id),state:{id:e.id}}},S.default.createElement("a",{href:"javascript:void(0)",style:{marginRight:16}},"修改")),S.default.createElement("a",{href:"javascript:void(0)",style:{marginRight:16},onClick:function(){return self.examUp(e.id)}},"上架"),S.default.createElement("a",{href:"javascript:void(0)",style:{marginRight:16},onClick:function(){return self.examCopy(e.id)}},"复制"),S.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return t.deleteExam(e.id)},style:{marginLeft:10}},"删除"),2===e.visibleRange?S.default.createElement(s.default,{type:"vertical"}):null,2===e.visibleRange?S.default.createElement("span",null,S.default.createElement(I.default,{urlParameter:"exam",scopeId:e.id}),S.default.createElement(w.default,{urlParameter:"exam",scopeId:e.id})):null)}}],t.draftColumns=[{title:"序号",dataIndex:"code",key:"code"},{title:"考试名称",dataIndex:"name",key:"name",width:300,render:function(e){return S.default.createElement("span",{title:e,style:{width:300,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"}},e)}},{title:"考试时间",dataIndex:"time",key:"time",render:function(e){return S.default.createElement("div",null,S.default.createElement("p",null,"开始时间：",L.default.formateTime(e.startTime)),S.default.createElement("p",null,"结束时间：",L.default.formateTime(e.endTime)))}},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"操作",key:"action",dataIndex:"action",render:function(e,a){return S.default.createElement("div",{className:"operation"},S.default.createElement(O.Link,{to:{pathname:"/"+L.default.companyCode+"/"+L.default.siteCode+"/index/tool/test/test-management/edit",search:"?id=".concat(e.id),state:{id:e.id}}},S.default.createElement("a",{href:"javascript:void(0)",style:{marginRight:16}},"修改")),S.default.createElement("a",{href:"javascript:void(0)",style:{marginRight:16},onClick:function(){return self.examUp(e.id)}},"上架"),S.default.createElement("a",(0,E.default)({style:{marginRight:16},href:"javascript:void(0)",onClick:function(){return t.deleteExam(e.id)}},"style",{marginLeft:10}),"删除"),2===e.visibleRange?S.default.createElement(s.default,{type:"vertical"}):null,2===e.visibleRange?S.default.createElement("span",null,S.default.createElement(I.default,{urlParameter:"exam",scopeId:e.id}),S.default.createElement(w.default,{urlParameter:"exam",scopeId:e.id})):null)}}],t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){(0,this.props.getExamList)({pageindex:1,pagesize:this.state.pagesize,status:2})}},{key:"onSelectChange",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push(t[n].id);this.setState({selectedRowKeys:e,selectedExam:a}),console.log(a)}},{key:"getExamKeyword",value:function(e){if(e.target.value.length>20)return!1;this.setState({examKeyword:e.target.value})}},{key:"refreshExamList",value:function(){(0,this.props.getExamList)({pageindex:1,pagesize:this.state.pagesize,status:this.state.tabsKey,examKeyword:this.state.examKeyword})}},{key:"examUp",value:function(e){var t=this.props.upExam,a=this;t(e,(function(e){"4000"==e.code?l.default.info(e.msg):a.refreshExamList()}))}},{key:"examDown",value:function(e){var t=this.props.downExam,a=this;t(e,(function(){a.refreshExamList()}))}},{key:"deleteExam",value:function(e){console.log(e);var t=this.props.deleteExams,a=this;t([e],(function(){a.refreshExamList(),a.search()}))}},{key:"tabChange",value:function(e){e!=this.state.tabsKey&&(this.setState({tabsKey:e,page:1}),(0,this.props.getExamList)({pageindex:1,pagesize:this.state.pagesize,status:e,examKeyword:this.state.examKeyword}))}},{key:"search",value:function(){var e=this.props.getExamList;if(/[@#\$%\^&\*{}|\\]+/g.test(this.state.examKeyword))return l.default.warning("不能输入特殊字符！");e({examKeyword:this.state.examKeyword,pageindex:1,pagesize:this.state.pagesize,status:this.state.tabsKey}),this.setState({page:1})}},{key:"pageChange",value:function(e,t){(0,this.props.getExamList)({examKeyword:this.state.examKeyword,status:this.state.tabsKey,pageindex:e,pagesize:t}),t!=this.state.pagesize&&this.setState({pagesize:t},(function(){this.setState({page:1})})),this.setState({page:e})}},{key:"render",value:function(){var e=this.props,t=e.list,a=e.fetching,n=e.total,r=(this.props.form.getFieldDecorator,this.state),l=r.page,s=r.pagesize,c=L.default.paginationConfig(this.pageChange),d=[],f=[],m=[];if(c.total=n,c.showTotal=function(e){return"总共：".concat(e," ")},c.current=l,t.length>0)for(var p=0;p<t.length;p++)d.push({key:p,id:t[p].id,code:(l-1)*s+p+1,name:t[p].name,visibleRange:t[p].visibleRange,time:t[p],upTime:L.default.formateTime(t[p].upTime),action:t[p]}),f.push({key:p,id:t[p].id,code:(l-1)*s+p+1,name:t[p].name,visibleRange:t[p].visibleRange,time:t[p],downTime:L.default.formateTime(t[p].downTime),action:t[p]}),m.push({key:p,id:t[p].id,code:(l-1)*s+p+1,name:t[p].name,visibleRange:t[p].visibleRange,time:t[p],createTime:L.default.formateTime(t[p].updateTime),action:t[p]});var g={selectedRowKeys:this.state.selectedRowKeys,onChange:this.onSelectChange};return t?S.default.createElement("div",{className:"list"},S.default.createElement(T.default,{title:"考试管理"}),S.default.createElement("div",{className:"list-btn"},S.default.createElement("div",null,S.default.createElement(h.default,{addonBefore:"关键字（词）：",placeholder:"请输入考试名称、自定义关键词",maxLength:20,style:{width:350,marginRight:16,marginLeft:16,marginBottom:16,marginTop:16},onChange:this.getExamKeyword}),S.default.createElement(o.default,{type:"primary",style:{marginTop:16},onClick:this.search},"查询"),S.default.createElement(O.Link,{to:"/"+L.default.companyCode+"/"+L.default.siteCode+"/index/tool/test/test-management/create"},S.default.createElement(o.default,{type:"primary",style:{marginLeft:10,marginTop:16}},"新建考试")))),S.default.createElement(x.default,{defaultActiveKey:this.state.tabsKey,onChange:this.tabChange},S.default.createElement(C,{tab:"已上架",key:U},this.state.tabsKey==U&&S.default.createElement(i.default,{style:{background:"white"},loading:a,columns:this.upColumns,dataSource:d,locale:{emptyText:"暂无数据"},pagination:c})),S.default.createElement(C,{tab:"已下架",key:M},this.state.tabsKey==M&&S.default.createElement(i.default,{style:{background:"white"},loading:a,columns:this.downColumns,dataSource:f,locale:{emptyText:"暂无数据"},pagination:c})),S.default.createElement(C,{tab:"草稿箱",key:P},this.state.tabsKey==P&&S.default.createElement(i.default,{style:{background:"white"},rowSelection:g,loading:a,columns:this.draftColumns,dataSource:m,locale:{emptyText:"暂无数据"},pagination:c})))):S.default.createElement(u.default,null)}}]),n}(S.Component),Q=v.default.create()(N),K=(0,R.connect)((function(e,t){var a=e.exam;return{list:a.examList,total:a.total,fetching:a.fetching}}),(function(e){return{getExamList:function(t){return e((0,A.getExamList)(t))},upExam:function(t,a){return e((0,A.upExam)(t,a))},downExam:function(t,a){return e((0,A.downExam)(t,a))},copyExam:function(t,a){return e((0,A.copyExam)(t,a))},deleteExams:function(t,a){return e((0,A.deleteExams)(t,a))}}}))(Q);t.default=K},2026:function(e,t,a){e.exports={list:"list__2DiEP","list-btn":"list-btn__Vkbwf","tool-content":"tool-content__1pqlB","tool-cont":"tool-cont__3kRg8","form-btn":"form-btn__10PFk",operation:"operation__1_hq1","ant-transfer":"ant-transfer__39fzk","ant-transfer-list":"ant-transfer-list__koak0"}},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},553:function(e,t,a){e.exports=a(11)(206)},561:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.gupList=function(e){return function(t){t({type:u.GET_UPLOAD_LIST,data:e})}},t.gupfetch=function(e,t){var a,n=!1,r=!1;e?(n=e.needTranscode,r=e.type,a="".concat(s,"/upload/policy?needTranscode=").concat(n,"&type=").concat(r,"&date=").concat(new Date)):a="".concat(s,"/upload/policy?date=").concat(new Date);return function(e){return(0,i.default)({url:a}).then((function(a){if("1000"===a.code){var n=JSON.parse(a.data);e({type:u.GET_UPLOAD_PARAM,data:n}),t&&t()}return a}))}},t.upvideo=function(e,t,a){return function(a){return(0,i.default)({videoUpload:c,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:u.UP_INFO,data:JSON.parse(e.data)}),t&&t())}))}},t.videoInfo=function(e,t){return function(a){return(0,i.default)({videoPlay:d,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:u.VIDEO_INFO,data:e.data}),t&&t())}))}},t.UploadUtilFile=function(e){return{type:u.GET_FILE_NAME_ADDRESS,fileAddress:e}},t.clearUpload=function(){return function(e){e({type:u.CLEARUPLOAD})}};var i=r(a(78)),o=r(a(587)),u=n(a(231)),l=o.default.common,s=l.ossUrl,c=l.videoUpload,d=l.videoPlay},563:function(e,t,a){e.exports=a(11)(837)},568:function(e,t,a){e.exports=a(11)(333)},571:function(e,t,a){e.exports=a(11)(912)},575:function(e,t,a){"use strict";a.r(t);a(26),a(623)},586:function(e,t,a){},587:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),i={common:{ossUrl:"GET ".concat(r.default.ossUrl),videoUpload:"POST ".concat(r.default.ossUrl,"/video/upload"),videoPlay:"GET ".concat(r.default.ossUrl,"/video/play"),ossPolicy:"GET ".concat(r.default.ossUrl,"/upload/policy")}};t.default=i},590:function(e,t,a){"use strict";a.r(t);a(26),a(597)},591:function(e,t,a){e.exports=a(11)(819)},597:function(e,t,a){},618:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.exportUsers=t.importUsers=t.getAuditorList=t.getUserList=t.getGroupList=t.getOrgList=void 0;var i=r(a(78)),o=r(a(635)),u=n(a(235)),l=o.default.linkUser,s=l.orgList,c=l.userList,d=l.auditorList,f=l.importUserUrl,m=l.exportUserUrl;t.getOrgList=function(e,t){return function(a){return(0,i.default)({url:s,data:{type:e}}).then((function(e){a({type:u.ORGLIST,data:e.data}),t&&t(e.data)}))}};t.getGroupList=function(e,t,a){return function(t){return(0,i.default)({url:c,data:{type:e,typ:"system"}}).then((function(e){a&&a(e.data)}))}};t.getUserList=function(e,t,a){return function(n){return(0,i.default)({url:c,data:{seachVal:e,type:t}}).then((function(e){1e3==e.code&&a&&a(e.data)}))}};t.getAuditorList=function(e,t){return function(a){return(0,i.default)({url:d,data:e}).then((function(e){t&&t(e.data)}))}};t.importUsers=function(e,t,a){return function(n){return(0,i.default)({url:"".concat(f,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}};t.exportUsers=function(e,t,a){return function(n){return(0,i.default)({url:"".concat(m,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}}},623:function(e,t,a){},635:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),i={linkUser:{orgList:"GET ".concat(r.default.systemManage,"/org/userGroup/list"),userList:"GET ".concat(r.default.systemManage,"/account/name/search"),auditorList:"GET ".concat(r.default.webManage,"/assignment/get/all/auditor"),importUserUrl:"POST ".concat(r.default.webManage,"/range/import"),exportUserUrl:"GET ".concat(r.default.webManage,"/range/export")}};t.default=i}}]);