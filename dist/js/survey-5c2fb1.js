(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{1011:function(e,t,a){"use strict";var n=a(4),r=a(0);a(7),a(3),a(5),a(51),a(9),a(10),a(8),a(35),a(53),a(6),Object.defineProperty(t,"__esModule",{value:!0}),t.delsur=function(e,t){var a=i.default.delsur,n={researchId:e.id};return function(r){return(0,s.default)({url:a,data:n}).then((function(a){"1000"===a.code?(u.default.success("删除成功"),r(f({state:2,pageNo:e.pageNo,pageSize:e.pageSize})),t&&t(a)):u.default.error(a.subMsg)}))}},t.getListFetch=f,t.upFetch=function(e,t){var a=i.default.upFetch;return function(n){return(0,s.default)({url:a,data:e}).then((function(a){"1000"===a.code?(n(f({state:1,pageNo:e.pageNo,pageSize:e.pageSize})),n(f({state:2,pageNo:e.pageNo,pageSize:e.pageSize,name:e.name})),n(f({state:0,pageNo:e.pageNo,pageSize:e.pageSize,name:e.name})),u.default.success("上架成功"),t&&t(a)):u.default.error("上架失败")}))}},t.reFetch=function(e){var t=i.default.upFetch;return function(a){return(0,s.default)({url:t,data:e}).then((function(e){"1000"===e.code?u.default.success("发布成功"):u.default.error("上架失败")}))}},t.downFetch=function(e,t){var a=i.default.downFetch,n={id:e.id};return function(r){return(0,s.default)({url:a,data:n}).then((function(a){r(f({state:1,pageNo:e.pageNo,pageSize:e.pageSize,name:e.name})),r(f({state:2,pageNo:e.pageNo,pageSize:e.pageSize})),t&&t(a)}))}},t.deleteFetch=function(e,t,a){var n=i.default.deleteFetch;return function(t){return(0,s.default)({url:n,data:e}).then((function(e){"1000"===e.code&&(u.default.success("删除成功"),a&&a(),t({type:c.GET_SURID,data:e.data.id}))}))}},t.insertSurFetch=function(e,t){var a=i.default.insertSurFetch;return function(n){return(0,s.default)({url:a,data:e}).then((function(e){"1000"===e.code?(t&&t(e),console.log(e.data.id),n(p({researchId:e.data.id,pageNo:1,pageSize:20})),n({type:c.GET_SURID,data:e.data.id}),n({type:c.GET_SURTEST_LIST,data:{list:[],total:0}})):u.default.error(e.subMsg)}))}},t.getCopyListFetch=function(e){var t=i.default.getList;return function(a){return(0,s.default)({url:t,data:e}).then((function(e){if("1000"===e.code){var t=e.data;a({type:c.GET_SUR_LIST,data:{total:t.total,list:t.records}})}else u.default.error(e.subMsg)}))}},t.getCopySurFetch=function(e,t){var a=i.default.getCopySurFetch;return function(n){return(0,s.default)({url:a,data:e}).then((function(e){"1000"===e.code?(console.log(e.data),t&&t(e),n({type:c.GET_SUR_DETAILS,data:e.data})):u.default.error(e.subMsg)}))}},t.updateFetch=function(e,t){var a=i.default.updateFetch;return function(n){return(0,s.default)({url:a,data:e}).then((function(a){"1000"===a.code?(u.default.success("保存成功"),n(p({researchId:e.id,pageNo:1,pageSize:20})),n({type:c.GET_SURID,data:e.id}),t&&t(a.code)):u.default.error("保存失败,请重新尝试")}))}},t.getSurDetailsFetch=function(e,t){var a=i.default.getSurDetailsFetch;return console.log(a,e,"-----------getSurDetailsFetch------------"),function(n){return(0,s.default)({url:a,data:e}).then((function(e){n({type:c.GET_SUR_DETAILS,data:e.data}),t&&t(e.code)}))}},t.getTSdata=function(e){return console.log(e),function(t){t({type:c.INSERT_SUR,data:e})}},t.insertTestFetch=function(e,t,a){var n=i.default.insertTestFetch;return function(r){return(0,s.default)({url:n,data:e}).then((function(n){r(p({researchId:e.reseachId,pageNo:t,pageSize:a}))}))}},t.getTestListFetch=p,t.editTestFetch=function(e,t,a,n){console.log(t);var r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{researchId:t}),o=i.default.editTestFetch;return function(e){return(0,s.default)({url:o,data:r}).then((function(r){"1000"===r.code?(e({type:c.EDIT_TEST,data:r.data}),e(p({researchId:t,pageNo:a,pageSize:n})),u.default.success("操作成功")):u.default.success("操作失败")}))}},t.jumpTestFetch=function(e){var t=i.default.jumpTestFetch;return function(a){return(0,s.default)({url:t,data:e}).then((function(e){console.log(e.data),a({type:c.GET_JUMPTEST_LIST,data:e.data})}))}},t.postNewsList=function(e,t){var a=i.default.postNewsList;return function(n){return(0,s.default)({url:a,data:e}).then((function(e){n({type:c.NEWSLIST,data:e}),t&&t(e)}))}},t.getNewsListMessageRemind=function(e,t){var a=i.default.getNewsListMessageRemind;return function(n){return(0,s.default)({url:a,data:e}).then((function(e){n({type:c.NEWSVIEWLIST,data:e}),t&&t(e)}))}},t.jumpReset=function(){return function(e){e({type:c.GET_JUMPTEST_LIST,data:[]})}},t.exdetail=function(e){var t=i.default.exdetail;return function(a){return(0,s.default)({url:t,data:e}).then((function(e){u.default.success(e.data)}))}},t.exana=function(e){var t=i.default.exana;return function(a){return(0,s.default)({url:t,data:e}).then((function(e){u.default.success(e.data)}))}};var l=r(a(2));a(61);var u=r(a(62)),o=(a(65),a(233)),i=(r(a(223)),r(a(1018))),s=(a(903),r(a(78))),c=n(a(247));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}location.pathname.split("/")[1],location.pathname.split("/")[2],(0,o.createAction)(c.GET_SUR_LIST),(0,o.createAction)(c.GET_SUR_LIST_0),(0,o.createAction)(c.GET_SUR_LIST_1),(0,o.createAction)(c.GET_SUR_LIST_2),(0,o.createAction)(c.ADD_TEST),(0,o.createAction)(c.EDIT_TEST),(0,o.createAction)(c.INSERT_SUR),(0,o.createAction)(c.GET_SURTEST_LIST),(0,o.createAction)(c.GET_JUMPTEST_LIST),(0,o.createAction)(c.GET_SURID),(0,o.createAction)(c.GET_SUR_DETAILS),(0,o.createAction)(c.NEWSLIST);function f(e){var t=i.default.getList;return function(a){return(0,s.default)({url:t,data:e}).then((function(t){var n=t.data;switch(e.state){case 0:a({type:c.GET_SUR_LIST_0,data:{total:n.total,list:n.records}});break;case 1:a({type:c.GET_SUR_LIST_1,data:{total:n.total,list:n.records}});break;case 2:a({type:c.GET_SUR_LIST_2,data:{total:n.total,list:n.records}});break;default:a({type:c.GET_SUR_LIST_0,data:{total:n.total,list:n.records}})}a({type:c.GET_SURTEST_LIST,data:[]}),a({type:c.GET_SUR_DETAILS,data:{}})}))}}function p(e){var t=i.default.getTestListFetch;return function(a){return(0,s.default)({url:t,data:e}).then((function(e){console.log({list:e.data.records,total:e.data.total}),a({type:c.GET_SURTEST_LIST,data:{list:e.data,total:e.data.total,resData:e.data}})}))}}},1018:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),l={delsur:"POST ".concat(r.default.webManage,"/research/delete"),getList:"GET ".concat(r.default.webManage,"/research/page/list"),upFetch:"POST ".concat(r.default.webManage,"/research/putaway"),downFetch:"POST ".concat(r.default.webManage,"/research/backout"),deleteFetch:"POST ".concat(r.default.webManage,"/research/batch/delete"),insertSurFetch:"POST ".concat(r.default.webManage,"/research/insert"),getCopySurFetch:"POST ".concat(r.default.webManage,"/research/copy"),updateFetch:"POST ".concat(r.default.webManage,"/research/update"),getSurDetailsFetch:"GET ".concat(r.default.webManage,"/research/view"),insertTestFetch:"POST ".concat(r.default.webManage,"/researchQuestion/insert"),getTestListFetch:"GET ".concat(r.default.webManage,"/researchQuestion/page/list"),editTestFetch:"POST ".concat(r.default.webManage,"/researchQuestion/batch/update"),jumpTestFetch:"GET ".concat(r.default.webManage,"/researchQuestion/jump/question/list"),postNewsList:"GET ".concat(r.default.newMessage,"/manage/message/getList"),getNewsListMessageRemind:"GET ".concat(r.default.newMessage,"/manage/messageRemind/get"),exdetail:"GET ".concat(r.default.webManage,"/export/research/details/onTime"),exana:"GET ".concat(r.default.webManage,"/export/research/analyze/onTime"),jump_ques:"POST ".concat(r.default.webManage,"/researchQuestion/jump/question/update"),chooses:"GET ".concat(r.default.webManage,"/researchQuestion/option/get")};t.default=l},1023:function(e,t,a){"use strict";var n=a(4),r=a(0);a(143),a(51),a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(224);var l=r(a(225));a(580);var u=r(a(571));a(99);var o=r(a(100));a(140);var i=r(a(535));a(61);var s=r(a(62)),c=r(a(29)),d=r(a(30)),f=r(a(59)),p=r(a(32)),h=r(a(33)),g=r(a(31)),m=r(a(2));a(554);var y=r(a(550));a(540);var v=r(a(539)),S=n(a(1)),_=a(561),T=a(618),b=a(52);function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=v.default.Item,k=(y.default.Option,function(e){(0,p.default)(n,e);var t,a=(t=n,function(){var e,a=(0,g.default)(t);if(E()){var n=(0,g.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,h.default)(this,e)});function n(e){var t;return(0,c.default)(this,n),t=a.call(this,e),(0,m.default)((0,f.default)(t),"beforeUpload",(function(e,a){if(!/(xls|xlsx)$/g.test(e.name))return t.props.form.resetFields(""),t.setState({fileList:[]}),s.default.error("文件类型不对，参照格式上传"),!1;if(console.log(e.type),a.length>1)return s.default.error("一次只能导入一个文件"),void t.setState({fileList:[]});t.setState({fileList:a});var n=t.props.param;t.setState({uploadParams:{Filename:n.dir+"/"+e.name,key:n.dir+"/"+e.name,policy:n.policy,OSSAccessKeyId:n.accessid,success_action_status:"200",signature:n.signature},uploadAction:n.host,originalFile:e.name,originalFileUrl:n.host+"/"+n.dir+"/"+e.name})})),(0,m.default)((0,f.default)(t),"handleChange",(function(e){console.log(t.state),console.log(e);var a=e.fileList;a=a.slice(-1),e.file.status,"done"===e.file.status&&t.setState({fileList:a}),"error"===e.file.status&&(s.default.error("上传失败，请重新尝试"),t.setState({fileList:[]}))})),(0,m.default)((0,f.default)(t),"normFile",(function(e){return Array.isArray(e)?e:e&&t.state.fileList})),(0,m.default)((0,f.default)(t),"toUpload",(function(){t.props.gupfetch(),t.setState({vsb:!0})})),(0,m.default)((0,f.default)(t),"closeMode",(function(){t.setState({vsb:!1})})),(0,m.default)((0,f.default)(t),"handleSubmit",(function(){var e=t.state.originalFileUrl,a=t.props,n=a.scopeId,r=a.urlParameter;t.props.form.validateFields((function(a,l){if(console.log(l),a)console.log(a);else{if(!l.upload)return s.default.info("请导入表格"),!1;var u={ossUrl:e,bizdId:n};t.props.importUsers(r,u,(function(e){1e3==+e.code?(s.default.success("已成功创建导入任务，任务编号".concat(e.data,"请至任务中查看完成情况")),t.closeMode()):s.default.error(e.subMsg)}))}}))})),t.state={uploadParams:{},uploadAction:{},originalFile:"",originalFileUrl:"",fileList:[],key:""},t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.uploadAction,n=t.uploadParams,r=(this.props.handleCancel,this.props.form.getFieldDecorator);return S.default.createElement("div",{key:this.state.key},S.default.createElement("a",{onClick:this.toUpload},"导入可见范围"),this.state.vsb&&S.default.createElement(l.default,{title:"导入可见范围",visible:this.state.vsb,onOk:this.closeMode,onCancel:this.closeMode,footer:null},S.default.createElement(v.default,null,S.default.createElement("div",{style:{display:"block",textAlign:"center"}},S.default.createElement(w,{extra:"请上传资源附件（附件格式：xls,xlsx）"},r("upload",{valuePropName:"fileList",getValueFromEvent:this.normFile})(S.default.createElement("span",null,S.default.createElement(i.default,{style:{fontSize:"12px",marginRight:"20px",border:"1px solid #1890ff",color:"#1890ff"},href:this.props.downUrl?this.props.downUrl:"https://customproject.oss-cn-shanghai.aliyuncs.com/template/account_import_template.xlsx"},"下载用户模板"),0===this.state.fileList.length?S.default.createElement(u.default,{style:{display:"inline-block"},headers:{"X-Requested-With":null},beforeUpload:this.beforeUpload,action:a,data:n,onChange:this.handleChange,onRemove:function(){return e.setState({fileList:[]})}},S.default.createElement("a",{type:"primary"},S.default.createElement(o.default,{type:"upload"})," 导入可见范围")):S.default.createElement(u.default,{style:{display:"inline-block"},headers:{"X-Requested-With":null},beforeUpload:this.beforeUpload,action:a,data:n,onChange:this.handleChange,onRemove:function(){return e.setState({fileList:[]})}},S.default.createElement("a",{type:"primary",disabled:!0},S.default.createElement(o.default,{type:"upload"})," 导入可见范围"))))))),S.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},S.default.createElement(i.default,{type:"default",style:{marginRight:"16px"},onClick:function(){e.closeMode()}},"取消"),S.default.createElement(i.default,{type:"primary",style:{marginLeft:"32px"},onClick:this.handleSubmit},"确定"))))}}]),n}(S.Component));var U=(0,b.connect)((function(e,t){return{param:e.uploadParam.param,list:e.materialReducer.list,details:e.materialReducer.details,type:e.materialReducer.type}}),(function(e){return{gupfetch:function(){return e((0,_.gupfetch)())},importUsers:function(t,a,n){return e((0,T.importUsers)(t,a,n))}}}))(v.default.create()(k));t.default=U},1391:function(e,t,a){"use strict";var n=a(4),r=a(0);a(20),a(34),a(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(564);var l=r(a(563));a(61);var u=r(a(62)),o=r(a(29)),i=r(a(30)),s=r(a(32)),c=r(a(33)),d=r(a(31)),f=n(a(1)),p=a(618),h=a(52);function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,s.default)(n,e);var t,a=(t=n,function(){var e,a=(0,d.default)(t);if(g()){var n=(0,d.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,c.default)(this,e)});function n(e){var t;return(0,o.default)(this,n),(t=a.call(this,e)).state={btnName:"导出可见范围"},t}return(0,i.default)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"changeUpDown",value:function(){var e,t=this.props,a=t.urlParameter,n=t.scopeId;switch(a){case"assignment":e={assignmentId:n};break;case"exam":e={examId:n};break;case"course":e={courseId:n};break;case"research":e={researchId:n};break;case"vote":e={voteId:n};break;case"live":e={liveId:n};break;case"trainingProject":e={trainingProjectId:n};break;case"experiencePool":e={poolId:n};break;case"caseLibrary":e={caseLibraryId:n}}this.props.exportUsers(a,e,(function(e){1e3==e.code?u.default.success("导出成功：任务编号"+e.data):u.default.error("导出失败")}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;this.state.btnName,this.props.urlParameter;return f.default.createElement("span",{className:"exportBtn-box"},f.default.createElement(l.default,{title:"是否导出",onConfirm:function(){return e.changeUpDown()}},f.default.createElement("a",{className:"marr20",href:"void(0)"},this.state.btnName)))}}]),n}(f.Component),y=(0,h.connect)(null,(function(e){return{exportUsers:function(t,a,n){return e((0,p.exportUsers)(t,a,n))}}}))(m);t.default=y},2033:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),a(51),a(20),a(34),a(35),a(23),a(53),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(569);var l=r(a(558));a(549);var u=r(a(544));a(140);var o=r(a(535));a(537);var i=r(a(536));a(146);var s=r(a(150));a(564);var c=r(a(563));a(61);var d=r(a(62)),f=r(a(29)),p=r(a(30)),h=r(a(59)),g=r(a(32)),m=r(a(33)),y=r(a(31));a(575);var v=r(a(568)),S=n(a(1)),_=a(52),T=a(65),b=r(a(223)),E=a(1011),w=r(a(226)),k=r(a(2034)),U=r(a(1391)),L=r(a(1023));function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var P=v.default.TabPane,R=location.pathname.split("/")[1],x=location.pathname.split("/")[2],I=function(e){(0,g.default)(n,e);var t,a=(t=n,function(){var e,a=(0,y.default)(t);if(N()){var n=(0,y.default)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,m.default)(this,e)});function n(e){var t;return(0,f.default)(this,n),(t=a.call(this,e)).state={action1:"查看",action2:"下架",deleteBtn:!0,checkArr:[],key:1,pageNo:1,pageSize:20,searchValue:"",selectedRowKeys:[]},t.handleSearch=t.handleSearch.bind((0,h.default)(t)),t.handleChange=t.handleChange.bind((0,h.default)(t)),t.callback=t.callback.bind((0,h.default)(t)),t.handleUp=t.handleUp.bind((0,h.default)(t)),t.handleDown=t.handleDown.bind((0,h.default)(t)),t.handleDelete=t.handleDelete.bind((0,h.default)(t)),t.handlePageChange=t.handlePageChange.bind((0,h.default)(t)),t.handlePageSizeChange=t.handlePageSizeChange.bind((0,h.default)(t)),t.handleEdit=t.handleEdit.bind((0,h.default)(t)),t}return(0,p.default)(n,[{key:"componentDidMount",value:function(){this.props.getlist({state:1,pageNo:1,pageSize:20}),this.props.getlist({state:2,pageNo:1,pageSize:20}),this.props.getlist({state:0,pageNo:1,pageSize:20})}},{key:"callback",value:function(e){switch(this.setState({key:e-0}),e){case"1":this.setState({action1:"查看",action2:"下架",deleteBtn:!0});break;case"2":this.setState({action1:"修改",action2:"上架",deleteBtn:!0});break;case"0":this.setState({action1:"修改",action2:"上架",deleteBtn:!1})}}},{key:"handleSearch",value:function(){var e=this.state,t=e.searchValue,a=e.pageNo,n=e.pageSize,r=e.key;this.props.getlist({state:r,name:t,pageNo:1,pageSize:n}),this.setState({searchValue:t},(function(){this.setState({pageNo:1},(function(){console.log(a,"1562141319024",t)}))}))}},{key:"handleChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"handleUp",value:function(e){var t=this,a=this.state,n=a.pageNo,r=a.pageSize;this.props.up({id:e,pageNo:n,pageSize:r},(function(e){t.props.getlist({state:t.state.key,name:t.state.searchValue,pageNo:1,pageSize:t.state.pageSize})}))}},{key:"del",value:function(e){var t=this,a=this.state,n=a.pageNo,r=a.pageSize;this.props.delsur({id:e,pageNo:n,pageSize:r},(function(e){t.handleSearch()}))}},{key:"handleDown",value:function(e){var t=this,a=this.state,n=a.pageNo,r=a.pageSize;this.props.down({id:e,pageNo:n,pageSize:r},(function(e){t.props.getlist({state:t.state.key,name:t.state.searchValue,pageNo:1,pageSize:t.state.pageSize}),""!==e.subMsg&&(d.default.error(e.subMsg),console.log(key,"111111",searchValue,r))}))}},{key:"handleDelete",value:function(){for(var e=this,t=this.state.checkArr,a=[],n=0;n<t.length;n++)a.push(t[n].id);var r=this.state,l={pageNo:r.pageNo,pageSize:r.pageSize};this.props.delete(a,l,(function(){e.handleSearch()})),this.setState({selectedRowKeys:[]})}},{key:"showTotal",value:function(e){return"共计 ".concat(e," 条")}},{key:"handlePageChange",value:function(e,t){this.setState({pageNo:e}),this.props.getlist({state:this.state.key,pageNo:e,pageSize:t})}},{key:"handlePageSizeChange",value:function(e,t){var a=this,n=this.state.searchValue;this.setState({pageSize:t,pageNo:1},(function(){a.props.getlist({name:n,state:a.state.key,pageNo:1,pageSize:t})}))}},{key:"handleEdit",value:function(){this.props.params.id&&this.props.getDetails({id:this.props.params.id})}},{key:"detil",value:function(e,t){1==t?this.props.exdetail({researchId:e}):this.props.exana({researchId:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.action1,n=t.action2,r=t.deleteBtn,d=t.key,f=this.state.selectedRowKeys,p=this.props,h=p.list0,g=p.list1,m=p.list2;console.log(12312312312,d);var y=[{title:"序号",dataIndex:"researchNo",key:"researchNo"},{title:"调研名称",dataIndex:"name",key:"name",width:300,render:function(e){return S.default.createElement("span",{title:e,style:{width:300,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"}},e)}},{title:"调研时间",render:function(e,t){return S.default.createElement("div",null,S.default.createElement("div",null,(0,b.default)(t.startTime).format("YYYY-MM-DD HH:mm")),S.default.createElement("div",null,(0,b.default)(t.endTime).format("YYYY-MM-DD HH:mm")))}},{title:1===d?"上架时间":2===d?"下架时间":"创建时间",render:function(e,t){return S.default.createElement("span",null,(0,b.default)(1===d?t.releaseTime:2===d?t.unReleaseTime:t.createTime).format("YYYY-MM-DD HH:mm"))}},{title:"操作",dataIndex:"action",key:"action",render:function(t,r){return S.default.createElement("div",{className:k.default.survey_list_btns},1==d?S.default.createElement(T.Link,{to:"/".concat(R,"/").concat(x,"/index/tool/survey/survey-management/details/").concat(r.id,"/2")},S.default.createElement("span",{className:k.default.survey_list_btn,style:{marginRight:10}},a)):2==d?S.default.createElement(T.Link,{to:"/".concat(R,"/").concat(x,"/index/tool/survey/survey-management/details/").concat(r.id,"/1")},S.default.createElement("span",{className:k.default.survey_list_btn,style:{marginRight:10}},a)):S.default.createElement(T.Link,{to:"/".concat(R,"/").concat(x,"/index/tool/survey/survey-management/create/").concat(r.id)},S.default.createElement("span",{className:k.default.survey_list_btn,style:{marginRight:10}},a)),S.default.createElement(c.default,{title:"确定执行此操作?",okText:"确定",cancelText:"取消",onConfirm:"上架"===n?function(){return e.handleUp(r.id)}:function(){return e.handleDown(r.id)}},S.default.createElement("a",{className:k.default.survey_list_btn,style:{marginRight:10},href:"#"},n)),2===r.visibleRange?S.default.createElement("span",null,S.default.createElement(L.default,{urlParameter:"research",scopeId:r&&r.id}),S.default.createElement(U.default,{urlParameter:"research",scopeId:r&&r.id})):null,2==d?S.default.createElement("div",null,S.default.createElement(c.default,{title:"确定要删除吗?",okText:"确定",cancelText:"取消",onConfirm:function(){return e.del(r.id)}},S.default.createElement("a",{className:k.default.survey_list_btn,style:{marginRight:10},href:"#"},"删除"))):null,1==d||2==d?S.default.createElement("div",null,S.default.createElement("div",{className:k.default.survey_list_btn,style:{cursor:"pointer",color:"#1890FF"},onClick:function(){return e.detil(r.id,1)}},"调研明细导出"),S.default.createElement("div",{className:k.default.survey_list_btn,style:{cursor:"pointer",color:"#1890FF"},onClick:function(){return e.detil(r.id,2)}},"调研分析导出")):null)}}],_={selectedRowKeys:f,onChange:function(t,a){e.setState({selectedRowKeys:t,checkArr:a})},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}};parseInt(document.documentElement.clientWidth);return m?S.default.createElement("div",{className:k.default.survey},S.default.createElement(w.default,{title:"调研管理"}),S.default.createElement("div",{className:k.default.survey_btns,style:{marginLeft:16}},"关键字（词）：",S.default.createElement(i.default,{className:k.default.survey_btn1,style:{width:"250px",marginBottom:16,marginTop:16,marginRight:16},placeholder:"请输入调研名称、自定义关键词",onChange:this.handleChange}),S.default.createElement(o.default,{type:"primary",className:k.default.survey_btn2,style:{marginRight:16},onClick:this.handleSearch},"查询"),S.default.createElement(T.Link,{to:"/"+R+"/"+x+"/index/tool/survey/survey-management/create"},S.default.createElement(o.default,{type:"primary",className:k.default.survey_new},"新建调研")),S.default.createElement(o.default,{type:"primary",className:k.default.survey_list_delete,style:{display:r?"none":"inline-block"},onClick:this.handleDelete},"删除")),S.default.createElement(v.default,{className:k.default.survey_tabs,defaultActiveKey:"1",onChange:this.callback},S.default.createElement(P,{tab:"已上架",key:"1"},S.default.createElement(u.default,{style:{background:"white"},columns:y,dataSource:g.list,pagination:!1}),S.default.createElement(l.default,{current:this.state.pageNo,className:k.default.survey_list_pagination,size:"small",total:g.total,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["20","50","100"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange,defaultPageSize:"20"})),S.default.createElement(P,{tab:"已下架",key:"2"},S.default.createElement(u.default,{style:{background:"white"},columns:y,dataSource:m.list,pagination:!1}),S.default.createElement(l.default,{current:this.state.pageNo,className:k.default.survey_list_pagination,size:"small",total:m.total,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["20","50","100"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange,defaultPageSize:"20"})),S.default.createElement(P,{tab:"草稿箱",key:"0"},S.default.createElement(u.default,{style:{background:"white"},rowSelection:_,columns:y,dataSource:h.list,pagination:!1}),S.default.createElement(l.default,{current:this.state.pageNo,className:k.default.survey_list_pagination,size:"small",total:h.total,showTotal:this.showTotal,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["20","50","100"],onChange:this.handlePageChange,onShowSizeChange:this.handlePageSizeChange,defaultPageSize:"20"})))):S.default.createElement(s.default,null)}}]),n}(S.Component);var F=(0,_.connect)((function(e,t){return{list0:e.survey.list0,list1:e.survey.list1,list2:e.survey.list2}}),(function(e){return{getlist:function(t){return e((0,E.getListFetch)(t))},up:function(t,a){return e((0,E.upFetch)(t,a))},down:function(t,a){return e((0,E.downFetch)(t,a))},delete:function(t,a,n){return e((0,E.deleteFetch)(t,a,n))},exdetail:function(t){return e((0,E.exdetail)(t))},exana:function(t){return e((0,E.exana)(t))},delsur:function(t,a){return e((0,E.delsur)(t,a))}}}))(I);t.default=F},2034:function(e,t,a){e.exports={survey:"survey__TQLlH",survey_btns:"survey_btns__1rbOv",survey_btn1:"survey_btn1__9ScCI",survey_btn2:"survey_btn2__3FtTa",survey_list_btn:"survey_list_btn__dJDey",survey_list_delete:"survey_list_delete__2BT6d",survey_list_pagination:"survey_list_pagination__rcJ8j"}},535:function(e,t,a){e.exports=a(11)(70)},536:function(e,t,a){e.exports=a(11)(166)},537:function(e,t,a){"use strict";a.r(t);a(26),a(586),a(140)},539:function(e,t,a){e.exports=a(11)(821)},544:function(e,t,a){e.exports=a(11)(846)},550:function(e,t,a){e.exports=a(11)(94)},558:function(e,t,a){e.exports=a(11)(251)},561:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.gupList=function(e){return function(t){t({type:o.GET_UPLOAD_LIST,data:e})}},t.gupfetch=function(e,t){var a,n=!1,r=!1;e?(n=e.needTranscode,r=e.type,a="".concat(s,"/upload/policy?needTranscode=").concat(n,"&type=").concat(r,"&date=").concat(new Date)):a="".concat(s,"/upload/policy?date=").concat(new Date);return function(e){return(0,l.default)({url:a}).then((function(a){if("1000"===a.code){var n=JSON.parse(a.data);e({type:o.GET_UPLOAD_PARAM,data:n}),t&&t()}return a}))}},t.upvideo=function(e,t,a){return function(a){return(0,l.default)({videoUpload:c,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:o.UP_INFO,data:JSON.parse(e.data)}),t&&t())}))}},t.videoInfo=function(e,t){return function(a){return(0,l.default)({videoPlay:d,data:e}).then((function(e){console.log(e.data),"1000"===e.code&&(a({type:o.VIDEO_INFO,data:e.data}),t&&t())}))}},t.UploadUtilFile=function(e){return{type:o.GET_FILE_NAME_ADDRESS,fileAddress:e}},t.clearUpload=function(){return function(e){e({type:o.CLEARUPLOAD})}};var l=r(a(78)),u=r(a(587)),o=n(a(231)),i=u.default.common,s=i.ossUrl,c=i.videoUpload,d=i.videoPlay},563:function(e,t,a){e.exports=a(11)(837)},568:function(e,t,a){e.exports=a(11)(333)},571:function(e,t,a){e.exports=a(11)(912)},575:function(e,t,a){"use strict";a.r(t);a(26),a(623)},586:function(e,t,a){},587:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),l={common:{ossUrl:"GET ".concat(r.default.ossUrl),videoUpload:"POST ".concat(r.default.ossUrl,"/video/upload"),videoPlay:"GET ".concat(r.default.ossUrl,"/video/play"),ossPolicy:"GET ".concat(r.default.ossUrl,"/upload/policy")}};t.default=l},618:function(e,t,a){"use strict";var n=a(4),r=a(0);a(44),Object.defineProperty(t,"__esModule",{value:!0}),t.exportUsers=t.importUsers=t.getAuditorList=t.getUserList=t.getGroupList=t.getOrgList=void 0;var l=r(a(78)),u=r(a(635)),o=n(a(235)),i=u.default.linkUser,s=i.orgList,c=i.userList,d=i.auditorList,f=i.importUserUrl,p=i.exportUserUrl;t.getOrgList=function(e,t){return function(a){return(0,l.default)({url:s,data:{type:e}}).then((function(e){a({type:o.ORGLIST,data:e.data}),t&&t(e.data)}))}};t.getGroupList=function(e,t,a){return function(t){return(0,l.default)({url:c,data:{type:e,typ:"system"}}).then((function(e){a&&a(e.data)}))}};t.getUserList=function(e,t,a){return function(n){return(0,l.default)({url:c,data:{seachVal:e,type:t}}).then((function(e){1e3==e.code&&a&&a(e.data)}))}};t.getAuditorList=function(e,t){return function(a){return(0,l.default)({url:d,data:e}).then((function(e){t&&t(e.data)}))}};t.importUsers=function(e,t,a){return function(n){return(0,l.default)({url:"".concat(f,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}};t.exportUsers=function(e,t,a){return function(n){return(0,l.default)({url:"".concat(p,"/").concat(e),data:t}).then((function(e){a&&a(e)}))}}},623:function(e,t,a){},635:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63)),l={linkUser:{orgList:"GET ".concat(r.default.systemManage,"/org/userGroup/list"),userList:"GET ".concat(r.default.systemManage,"/account/name/search"),auditorList:"GET ".concat(r.default.webManage,"/assignment/get/all/auditor"),importUserUrl:"POST ".concat(r.default.webManage,"/range/import"),exportUserUrl:"GET ".concat(r.default.webManage,"/range/export")}};t.default=l}}]);